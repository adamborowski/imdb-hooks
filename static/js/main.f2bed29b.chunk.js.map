{"version":3,"sources":["common/components/antd/__stories__/AppSider.logo.png","features/movie-browser/components/header/emptyAvatar.png","features/people-browser/components/header/emptyAvatar.png","common/components/FlatteningSwitch.js","common/components/antd/ContentLayout.tsx","common/components/antd/layout.tsx","common/components/antd/DefaultPrimaryContent.styled.ts","common/components/antd/DefaultPrimaryContent.tsx","common/components/antd/DefaultSecondaryContent.tsx","common/components/antd/withStyledScrollbar.tsx","common/components/antd/AppSider.tsx","common/components/antd/App.tsx","common/misc/getSelectedPaths.tsx","common/misc/getLocationDescriptionObject.tsx","common/hooks/routing.tsx","common/components/antd/AppMenu.tsx","common/components/antd/withAppMenuRouted.tsx","common/components/antd/AppTabs.tsx","common/components/antd/DefaultAppLogo.tsx","common/components/antd/app-theme.tsx","common/components/antd/DefaultAppHeader.tsx","features/movie-browser/routing.ts","common/components/antd/Search.styled.ts","common/components/antd/Search.tsx","common/api.ts","features/movie-browser/services/movie-search.ts","features/movie-browser/state/selectors.ts","common/aspects/list/epics.ts","common/aspects/list/hooks.tsx","common/utils.ts","common/aspects/list/hooks/usePaginatedList.tsx","common/hooks/useHistoryPush.tsx","common/hooks/index.tsx","common/aspects/list/index.tsx","common/aspects/list/actions.ts","common/aspects/list/reducers.tsx","common/aspects/list/hooks/useYearInput.tsx","common/aspects/list/hooks/useListData.ts","common/aspects/typeahead/hooks/useSearchOptions.tsx","common/aspects/typeahead/index.ts","common/aspects/typeahead/actions.ts","common/aspects/typeahead/reducers.ts","common/aspects/typeahead/epics.ts","common/aspects/typeahead/hooks/useSearchInput.ts","features/movie-browser/components/header/SearchOptionContent.tsx","common/aspects/details/index.tsx","common/aspects/details/actions.ts","common/aspects/details/epics.ts","common/aspects/details/reducers.ts","common/aspects/details/hooks/useDetails.ts","common/aspects/details/components/DetailsFetcher.ts","features/movie-browser/aspects.tsx","features/movie-browser/components/header/Search.tsx","features/movie-browser/state/epics.tsx","features/movie-browser/state/reducers.ts","common/workarounds.tsx","common/components/InlineSpinner.tsx","common/components/antd/BreadcrumbItem.tsx","features/movie-browser/components/breadcrumbs/List.tsx","common/components/breadcrumbs/Home.tsx","features/movie-browser/components/breadcrumbs/View.tsx","common/layout-props.tsx","common/components/CountryTags.tsx","common/components/ImageThumbnail.tsx","common/components/withFading.tsx","features/movie-browser/components/pages/view/MovieViewPure.tsx","features/movie-browser/components/pages/view/index.tsx","common/getOptional.ts","common/components/VirtualList.tsx","common/components/antd/ListItem.tsx","common/withLink.tsx","common/components/antd/DefaultListItem.tsx","features/movie-browser/components/pages/list/ListItem.tsx","features/movie-browser/components/pages/list/MovieList.tsx","features/movie-browser/components/pages/list/Title.tsx","features/movie-browser/components/pages/list/YearInput.tsx","features/movie-browser/components/pages/list/Toolbar.tsx","features/movie-browser/index.tsx","features/movie-browser/components/pages/list/index.tsx","features/people-browser/routing.ts","features/people-browser/services/people-search.ts","features/people-browser/state/selectors.ts","features/people-browser/components/header/SearchOptionContent.tsx","features/people-browser/aspects.tsx","features/people-browser/components/header/Search.tsx","features/people-browser/state/epics.tsx","features/people-browser/state/reducers.ts","features/people-browser/components/breadcrumbs/List.tsx","features/people-browser/components/breadcrumbs/View.tsx","features/people-browser/components/pages/view/PersonViewPure.tsx","features/people-browser/components/pages/view/Bio.tsx","features/people-browser/components/pages/view/Movies.tsx","features/people-browser/components/pages/view/index.tsx","features/people-browser/components/pages/list/ListItem.tsx","features/people-browser/components/pages/list/PersonList.tsx","features/people-browser/components/pages/list/Title.tsx","features/people-browser/index.tsx","features/people-browser/components/pages/list/index.tsx","features/index.ts","features/core/index.tsx","features/core/routing.ts","features/core/menu.ts","features/core/components/App.tsx","serviceWorker.ts","features/core/components/Root.tsx","index.tsx","store.ts"],"names":["module","exports","FragmentSupportingSwitch","_ref","flattenedChildren","flatten","target","children","React","Children","forEach","child","isValidElement","type","Fragment","props","push","createElement","apply","Object","toConsumableArray","Switch","concat","styled","secondaryContent","primaryContent","rest","objectWithoutProperties","react_default","a","_templateObject","c","VBox","div","layout_templateObject","HBox","_templateObject2","Spacer","_templateObject3","withStyled","breadcrumbs","tools","title","content","tabs","className","DefaultPrimaryContent_styled_templateObject","p","theme","layout","main","margin","DefaultSecondaryContent_templateObject","defaultThemes","light","thumb","dark","withSublimeScrollbar","arguments","length","undefined","actual","_","withStyledScrollbar_templateObject","Sider","Layout","Scroll","react","logo","assign","trigger","collapsible","width","breakpoint","AppSider_templateObject","sider","header","modals","id","App_templateObject","AppSider","getSelectedPaths","location","menuItems","keyPrefix","map","m","key","link","match","matchPath","pathname","pick","childrenMatches","result","reduce","acc","paths","getLocationDescriptionObject","to","useRouter","useContext","RouterContext","useQueryParams","router","useMemo","parse","search","useRouteParams","params","withAntdFix","InnerComponent","menuConfiguration","renderer","menuNodes","createMenuNodes","label","icon","menu","SubMenu","Item","react_router_dom","path","selectedNodes","filter","s","mode","selectedKeys","withRoutedTabs","route","onMenuSelect","es_tabs","TabPane","tab","activeKey","onChange","activeMenuItem","find","RoutedTabs","Tabs","src","DefaultAppLogo_templateObject","baseTheme","palette","primaryColor","DefaultAppHeader_templateObject","toMovieViewPage","chars","split","keys","x","focusKeys","Complete","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","ref","handleKeyEvent","char","e","current","focus","preventDefault","createRef","_this$props","onSearch","onSelect","searchPrompt","react_keyboard_event_handler_default","handleKeys","onKeyEvent","handleFocusableElements","auto_complete","tabIndex","dropdownClassName","dropdownMatchSelectWidth","dropdownStyle","size","style","placeholder","optionLabelProp","input","Component","defaultProps","memo","attrs","suppressClassNameWarning","Search_styled_templateObject","getApiUrl","stringify","objectSpread","api_key","process","getThumbUrl","getPosterUrl","yearMatcher","getReleaseYear","shiftPageNumber","response","page","findMovies","query","year","ajax","toString","primary_release_year","pipe","value","findPopularMovies","selectMovieBrowser","state","movieBrowser","createEpics","actions","findService","popularService","selectList","requestAllPages","pages","ensureAction","merge","requestAction","payload","getFetchPageAction","pageResponse","catchError","err","of","pageError","error","action$","state$","pagesToLoad$","pageRangeEnsure","debounce","timer","mergeMap","data","items","pagesToLoad","range","startPage","stopPage","item","selectPageNeedsToBeLoaded$","pageRequest","race","skip","take","pageCancel","reset","createUseSetYear","queryParamName","setQP","history","omitBy","isNil","useSetQueryParams","defineProperty","optional","currentValue","defaultValue","selectPageOfRow","Math","floor","getDescriptor","currentQueryParams","queryParams","locationDescription","isEmpty","useHistoryPush","withQueryLink","QueryLink","Link","createUseSearchValue","createUseGoToSearch","pushHistory","createListAspect","actionCreatorFactory","searchParam","yearParam","listRoute","createActions","reducer","mapPageOntoList","results","pageSize","newState","offset","movie","index","combineReducers","action","tmpState","Array","fill","loading","localIndex","total","total_results","createReducers","epics","useYear","parseInt","useSetYear","useSearchValue","useGoToSearch","useYearInput","setYear","searchValue","_useState","useState","_useState2","slicedToArray","setValue","displayedValue","useEffect","useDebounce","newYearValue","isNaN","Date","getFullYear","enabled","createUseYearInput","usePaginatedList","_useMappedState","useMappedState","_total","dispatch","useDispatch","start","stop","bounds","setBounds","onItemsRendered","useCallback","visibleStartIndex","visibleStopIndex","_map","max","min","_map2","firstPageToLoad","lastPageToLoad","createUsePaginatedList","useListData","createUseListData","OptGroup","Select","Option","createUseSearchOptions","renderOptionContent","subject","selectState","options","searchOption","actualValue","float","getSearchForSubjectOption","bestMatches","elements","slice","opacity","getBestMatchesOptions","compact","createTypeAheadAspect","itemRenderer","selectMovieTypeAhead","searchParamName","toViewPage","typeOccured","typeResponse","total_pages","isType","typeAction","responseAction","takeUntil","useSearchOptions","useSearchInput","defaultSearchValue","setSearchValue","displayedSearchValue","goToMovieSearch","historyPush","dataSource","onApply","cancel","createUseSearchInput","avatar","name","rank","es_avatar","shape","emptyAvatar","toFixed","SearchOptionContent_templateObject","createDetailsAspect","getService","stateSelector","useDetailsId","fetch","fetchComplete","fetchError","fetchAction","reducers","useDetails","createUseDetails","DetailsFetcher","detailsId","createDetailsFetcher","factory","listAspect","list","typeAheadAspect","header_SearchOptionContent","vote_average","poster_path","release_date","typeAhead","detailsAspect","details","Search","_typeAheadAspect$useS","antd_Search","onDropdownVisibleChange","opened","notFoundContent","state_epics","fixBreadcrumb","component","__ANT_BREADCRUMB_ITEM","InlineSpinner","spin","position","display","BreadcrumbItem","breadcrumb","InlineSpinner_InlineSpinner","marginRight","Home","_detailsAspect$useDet","movieId","formItemLayout","labelCol","span","wrapperCol","CountryTags","countries","tag","color","StyledImage","img","ImageThumbnail_templateObject","ImageThumbnail","open","setOpen","close","height","onClick","modal","visible","onCancel","onOk","cancelButtonProps","okText","objectFit","FADED_CLASS_NAME_ACTIVE","FADED_CLASS_NAME","withFading","passLoadingProp","_class","_temp","WithFading","_React$Component","childrenProps","inherits","createClass","_ref2","classnames","getDerivedStateFromProps","nextProps","prevState","withFading_templateObject","Text","Typography","entity","get","field","poster","backdrop","es_form","labelAlign","typography","CountryTags_CountryTags","rate","allowHalf","count","disabled","ImageThumbnail_ImageThumbnail","MovieViewPure_templateObject","MovieView","view_MovieViewPure","Toolbar","homepage","tooltip","href","es_button","MovieTitle","_detailsAspect$useDet3","original_title","fontWeight","getOptional","object","transform","FixedSizeListWithScrollbar","withStyledScrollbar","FixedSizeList","EnhancedVirtualList","withContentRect","contentRect","measureRef","row","itemSize","itemCount","itemData","padding","measure","overscanCount","VirtualList_templateObject","getVirtualList","ListItem","List","ListItem_templateObject","ListItemLink","innerRef","replace","react_router","Consumer","context","event","handleClick","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","DefaultListItem","description","tags","popularity","Meta","DefaultListItem_templateObject","antd_DefaultListItem","fontSize","vote_count","MovieList","_listAspect$usePagina","MovieList_List","Title","_listAspect$useListDa","YearInput","_listAspect$useYearIn","input_number","YearInput_YearInput","movie_browser","routes","exact","render","antd_ContentLayout","antd_DefaultPrimaryContent","Title_Title","breadcrumbs_List","Toolbar_Toolbar","DefaultSecondaryContent","MovieList_MovieList","view_MovieTitle","View","view_MovieView","view_Toolbar","header_Search","toPersonViewPage","usePersonId","toPersonMovies","findPeople","findPopularPeople","selectPeopleBrowser","peopleBrowser","header_SearchOptionContent_templateObject","components_header_SearchOptionContent","profile_path","append_to_response","people_browser_state_epics","personId","PersonViewPure_Text","PersonViewPure_templateObject","Bio","biography","card","IconText","text","Movies","movies","movie_credits","cast","crew","itemLayout","renderItem","Movies_IconText","extra","alt","backdrop_path","department","job","join","overview","view_PersonViewPure","known_for_department","also_known_as","ConnectedTabs","String","TabContent","PersonList","PersonList_List","people_browser","list_Title_Title","components_breadcrumbs_List","PersonList_PersonList","aspects_detailsAspect","pages_view_MovieTitle","breadcrumbs_View","pages_view_MovieView","pages_view_Toolbar","view_ConnectedTabs","view_TabContent","components_header_Search","features","App","antd_App","antd_AppSider","antd_AppMenu","antd_DefaultAppLogo","DefaultAppHeader","plugin","cloneElement","Boolean","window","hostname","Root","store","basename","styled_components_browser_esm","index_es","Provider","preloadedState","epicMiddleware","createEpicMiddleware","middlewares","enhancers","applyMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","pluginArray","pluginReducers","finalReducers","rootReducerFactory","run","combineEpics","ReactDOM","components_Root","components_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f2bed29b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import React, {Fragment} from 'react';\nimport {Switch} from 'react-router-dom';\n\n// react-router doesn't have support for React fragments in <Switch />. This component\n// wraps react-router's <Switch /> so that it gets fragment support.\n//\n// https://github.com/ReactTraining/react-router/issues/5785\nexport default function FragmentSupportingSwitch({ children }) {\n  const flattenedChildren = [];\n  flatten(flattenedChildren, children);\n  return React.createElement(...[Switch, null].concat(flattenedChildren));\n}\n\nfunction flatten(target, children) {\n  React.Children.forEach(children, child => {\n    if (React.isValidElement(child)) {\n      if (child.type === Fragment) {\n        flatten(target, child.props.children);\n      } else {\n        target.push(child);\n      }\n    }\n  });\n}\n","import React, {ReactElement} from 'react';\nimport styled from 'styled-components';\n\ninterface IProps {\n  primaryContent?: ReactElement<any>;\n  secondaryContent?: ReactElement<any>;\n}\n\nexport const ContentLayout = ({\n  secondaryContent,\n  primaryContent,\n  ...rest\n}: IProps) => (\n  <div {...rest}>\n    {primaryContent}\n    {secondaryContent}\n  </div>\n);\n\nexport default styled(ContentLayout)`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n","import styled from 'styled-components';\n\nexport const VBox = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const HBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n`;\n\nexport const Spacer = styled.div`\n  flex-grow: 1;\n`;","import styled from 'styled-components';\nimport React from 'react';\n\nexport default <P>(c: React.ComponentType<P>) => styled(c)`\n  background: #fdfdfd;\n  padding-left: ${p => p.theme.layout.main.margin}px;\n  padding-right: ${p => p.theme.layout.main.margin}px;\n\n  border-bottom: 1px solid #e8e8e8;\n  flex-shrink: 0; // primary content never shrinks in a flex layout\n\n  .navigation {\n    margin-top: 26px;\n    margin-bottom: 26px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    min-height: 32px; // do not jump the screen when toolbar presence changes\n    > *:not(:last-child) {\n      margin-right: 10px;\n    }\n  }\n\n  .title {\n    font-size: 20px;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    margin-bottom: 22px;\n  }\n\n  .tabs {\n    .ant-tabs-bar {\n      margin: 0;\n      border-bottom-color: transparent;\n    }\n    .ant-tabs-nav .ant-tabs-tab-active {\n      font-weight: 400;\n    }\n  }\n\n  & > :last-child:not(.tabs) {\n    // we need some margin at the bottom unless we have toolbar which sticks to the edge\n    margin-bottom: 26px;\n  }\n`;\n","import React, {ComponentType, ReactNode} from 'react';\nimport withStyled from './DefaultPrimaryContent.styled';\nimport {HBox, Spacer, VBox} from './layout';\n\ninterface IProps {\n  breadcrumbs?: ReactNode;\n  tools?: ReactNode;\n  title?: ReactNode;\n  content?: ReactNode;\n  tabs?: ReactNode;\n}\n\nconst DefaultPrimaryContent = ({\n  breadcrumbs,\n  tools,\n  title,\n  content,\n  tabs,\n  ...rest\n}: IProps) => (\n  <VBox {...rest}>\n    {(breadcrumbs || tools) && (\n      <HBox className=\"navigation\">\n        {breadcrumbs}\n        <Spacer />\n        {tools}\n      </HBox>\n    )}\n    {title && <div className=\"title\">{title}</div>}\n    {content && <div className=\"content\">{content}</div>}\n    {tabs && <div className=\"tabs\">{tabs}</div>}\n  </VBox>\n);\n\nexport default withStyled(DefaultPrimaryContent) as ComponentType<IProps>;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  flex: 1;\n  width: 100%;\n  min-height: 0; // important to not overflow flex container when browser height is reduced\n  padding: ${p => p.theme.layout.main.margin / 2}px;\n  overflow: auto;\n`;\n","import styled from 'styled-components';\nimport {ComponentType} from 'react';\nimport * as _ from 'lodash';\n\nexport interface ScrollbarStyleConfiguration {\n  thumb: string;\n}\n\nexport type DefaultThemeNames = 'light' | 'dark';\n\nconst defaultThemes: { [key in DefaultThemeNames]: ScrollbarStyleConfiguration } = {\n  light: {\n    thumb: 'rgba(255,255,255,0.15)'\n  },\n  dark: {\n    thumb: 'rgba(0,0,0,0.15)'\n  }\n};\n\nconst withSublimeScrollbar = (theme: ScrollbarStyleConfiguration | DefaultThemeNames = 'light') => {\n  const actual: ScrollbarStyleConfiguration = _.isString(theme) ? defaultThemes[theme] : theme;\n\n  return <P extends object>(c: ComponentType<P>) =>\n    (styled(c)`\n      ::-webkit-scrollbar {\n        width: 22px;\n      }\n      ::-webkit-scrollbar-thumb {\n        border: 6px solid transparent;\n        border-radius: 30px;\n        background-clip: padding-box;\n        min-height: 30px;\n        background-color: ${actual.thumb};\n      }\n    ` as unknown) as ComponentType<P>;\n};\nexport default withSublimeScrollbar;\n","import styled from 'styled-components';\nimport {SiderProps} from 'antd/es/layout';\nimport * as React from 'react';\nimport {ComponentType, HTMLProps, ReactNode} from 'react';\nimport {Layout} from 'antd';\nimport withSublimeScrollbar from './withStyledScrollbar';\n\ninterface IProps extends SiderProps {\n  logo?: ReactNode;\n  content?: ReactNode;\n}\n\nconst { Sider } = Layout;\n\nconst Scroll = withSublimeScrollbar()((p: HTMLProps<HTMLDivElement>) => (\n  <div {...p} />\n));\n\nfunction AppSider(props: IProps) {\n  const { logo, content, ...rest } = props;\n\n  return (\n    <Sider\n      trigger={undefined}\n      collapsible\n      width={256}\n      breakpoint=\"md\"\n      {...rest}\n    >\n      <div className=\"sider-header\">{logo}</div>\n      <Scroll className=\"sider-content\">{content}</Scroll>\n    </Sider>\n  );\n}\nexport default styled(AppSider)`\n  box-shadow: 2px 0 6px rgba(0, 21, 41, 0.35);\n  color: #ffffff;\n  .ant-layout-sider-children {\n    display: flex;\n    flex-direction: column;\n  }\n  .sider-header {\n    height: 64px;\n    line-height: 64px;\n    background: #002140;\n    overflow: hidden;\n    flex-shrink: 0;\n  }\n  .sider-content {\n    overflow: auto;\n    flex-shrink: 1;\n  }\n` as ComponentType<IProps>;\n","import React, {ComponentType, FunctionComponent, ReactNode} from 'react';\nimport styled from 'styled-components';\nimport {Layout} from 'antd';\nimport {LayoutProps} from 'antd/es/layout';\nimport AppSider from './AppSider';\n\nexport interface AppProps extends Partial<LayoutProps> {\n  sider: ReactNode;\n  header: ReactNode;\n  content: ReactNode;\n  modals?: ReactNode;\n}\n\nconst AppPure: FunctionComponent<AppProps> = ({\n  sider,\n  header,\n  content,\n  modals,\n  ...rest\n}) => (\n  <Layout{...rest}>\n    {sider}\n    <Layout id=\"content-portal-container\">\n      {header}\n      {content}\n    </Layout>\n    {modals}\n  </Layout>\n);\n\nexport default styled(AppPure)`\n  height: 100vh;\n  #content-portal-container {\n    position: relative;\n  }\n  ${(AppSider as unknown) as string /* https://github.com/styled-components/webstorm-styled-components/issues/58 */} {\n    z-index: 10;\n  }\n` as ComponentType<AppProps>;\n","import {Location} from 'history';\nimport {matchPath} from 'react-router';\nimport _ from 'lodash';\nimport {ReactNode} from 'react';\n\n/**\n * The aim of this utility it to provide react-router definition of menus, tabs from Ant Design which require specyfying selectedKeys in the parent component.\n * Usually when using react-router you just set 'selected' property on particular child item.\n * This utility gets items description containing routing information, combines with recent *location* object and provides array of selected items that match given route.\n */\n\nexport interface IMenuItem {\n  link: string;\n  path: string;\n  exact?: boolean;\n  strict?: boolean;\n  label: ReactNode;\n  icon?: string;\n  children?: IMenuItem[];\n}\n\nexport const getSelectedPaths = (\n  location: Location,\n  menuItems: IMenuItem[],\n  keyPrefix: string = ''\n): string[] =>\n  menuItems\n    .map(m => {\n      const key = keyPrefix + m.link;\n      const match = matchPath(\n        location.pathname,\n        _.pick(m, 'exact', 'strict', 'path')\n      );\n      const childrenMatches = m.children\n        ? getSelectedPaths(location, m.children, key + '.')\n        : [];\n\n      const result: string[] = [];\n      if (match) {\n        result.push(key);\n      }\n      result.push(...childrenMatches);\n      return result;\n    })\n    .reduce((acc, paths) => [...acc, ...paths], []);\n","import {History, LocationDescriptorObject} from 'history';\r\n\r\nexport const getLocationDescriptionObject = (to: History.LocationDescriptor): LocationDescriptorObject =>\r\n    typeof to === 'string' ? {pathname: to} : to;","// @ts-ignore\nimport {__RouterContext as RouterContext, RouteComponentProps} from 'react-router-dom';\nimport {useContext, useMemo} from 'react';\nimport {parse, stringify} from 'querystringify';\nimport _ from 'lodash';\nimport {getLocationDescriptionObject} from '../misc/getLocationDescriptionObject';\n\nexport const useRouter = (): RouteComponentProps => useContext(RouterContext);\n\ntype QueryParams = { [key: string]: string };\n\nexport const useQueryParams = (): QueryParams => {\n  const router = useRouter();\n  return useMemo(() => parse(router.location.search) as QueryParams, [\n    router.location.search\n  ]);\n};\n\nexport const useRouteParams = () =>\n  useRouter().match.params as { [key: string]: string };\n\nexport const useSetQueryParams = () => {\n  const history = useRouter().history;\n\n  return (params: { [key: string]: string | undefined }) => {\n    history.push({\n      ...getLocationDescriptionObject(history.location),\n      search: stringify(\n        _.omitBy({ ...parse(history.location.search), ...params }, _.isNil)\n      )\n    });\n  };\n};\n","import {MenuProps} from 'antd/es/menu';\nimport React, {FunctionComponent} from 'react';\nimport {Menu} from 'antd';\nimport withAntdFix from './withAppMenuRouted';\n\ninterface IProps extends MenuProps {\n  menuNodes: JSX.Element[];\n  selectedNodes: string[];\n}\nconst AppMenu: FunctionComponent<IProps> = ({\n  menuNodes,\n  selectedNodes,\n  ...rest\n}) => (\n  <Menu theme=\"dark\" mode=\"inline\" selectedKeys={selectedNodes} {...rest}>\n    {menuNodes}\n  </Menu>\n);\nexport default withAntdFix(AppMenu);\n","/**\n * The aim of this HOC is to provide valid menu subtree together with two critical Menu properties:\n * selectedKeys and openKeys - based on actual location and route matching.\n *\n * It consumes menuConfiguration and location.\n * It produces menuNodes and selectedNodes.\n *\n * There is no way to configure specific menu item with react-router. Instead, all routes have to be processed using react-router's matchPath function.\n */\n\nimport {Icon, Menu} from 'antd';\nimport React, {ReactNode} from 'react';\nimport {Link} from 'react-router-dom';\nimport {getSelectedPaths, IMenuItem} from '../../misc/getSelectedPaths';\nimport {HOCInnerType, HOCOuterType} from '../../types/hoc';\nimport {useRouter} from '../../hooks/routing';\n\nexport interface IEnhanceProps {\n  menuConfiguration: IMenuItem[];\n  renderer?: MenuItemRenderer;\n}\nexport interface IInjectProps {\n  menuNodes: JSX.Element[];\n  selectedNodes: string[];\n}\n\nexport type MenuItemRenderer = (item: IMenuItem) => ReactNode;\n\nconst createMenuNodes = (\n  menuItems: IMenuItem[],\n  keyPrefix: string = '',\n  renderer: MenuItemRenderer\n): JSX.Element[] =>\n  menuItems.map(m => {\n    const key = keyPrefix + m.link;\n    const label = (\n      <>\n        {m.icon && <Icon type={m.icon} />}\n        <span>{m.label}</span>\n      </>\n    );\n    return m.children ? (\n      <Menu.SubMenu title={label} key={key}>\n        {createMenuNodes(m.children, key + '.', renderer)}\n      </Menu.SubMenu>\n    ) : (\n      <Menu.Item key={key}>{renderer(m)}</Menu.Item>\n    );\n  });\n\nconst withAntdFix = <P extends IInjectProps>(\n  InnerComponent: HOCInnerType<P>\n): HOCOuterType<P, IInjectProps, IEnhanceProps> => props => {\n  const { location } = useRouter();\n  const {\n    menuConfiguration,\n    renderer,\n    ...rest\n  } = (props as unknown) as IEnhanceProps;\n\n  const menuNodes = createMenuNodes(\n    menuConfiguration,\n    undefined,\n    renderer ||\n      (m => (\n        <Link to={m.path}>\n          {m.icon && <Icon type={m.icon} />}\n          <span>{m.label}</span>\n        </Link>\n      ))\n  );\n  const selectedNodes: string[] = getSelectedPaths(\n    location,\n    menuConfiguration\n  ).filter(s => s !== undefined) as string[];\n\n  return (\n    <InnerComponent\n      selectedNodes={selectedNodes}\n      menuNodes={menuNodes}\n      {...rest as P}\n    />\n  );\n};\nexport default withAntdFix;\n","import React from 'react';\nimport {Icon, Tabs} from 'antd';\nimport {LocationDescriptor} from 'history';\nimport {getSelectedPaths, IMenuItem} from '../../misc/getSelectedPaths';\nimport {HOCInnerType, HOCOuterType} from '../../types/hoc';\nimport {useRouter} from '../../hooks/routing';\n\nexport interface IEnhanceProps {\n  menuConfiguration: IMenuItem[];\n  onMenuSelect: (to: LocationDescriptor) => void;\n}\n\nexport interface IInjectProps {\n  activeKey?: string;\n  onChange?: (activeKey: string) => void;\n}\nconst createMenuNodes = (menuItems: IMenuItem[]): JSX.Element[] =>\n  menuItems.map(m => {\n    return (\n      <Tabs.TabPane\n        key={m.link}\n        tab={\n          <>\n            {m.icon && <Icon type={m.icon} />}\n            <span>{m.label}</span>\n          </>\n        }\n      />\n    );\n  });\n\nconst withRoutedTabs = <P extends IInjectProps>() => (\n  InnerComponent: HOCInnerType<P>\n): HOCOuterType<P, IInjectProps, IEnhanceProps> => props => {\n  const route = useRouter();\n\n  const { menuConfiguration, onMenuSelect, ...rest } = (props as unknown) as IEnhanceProps;\n  const menuNodes = createMenuNodes(menuConfiguration);\n  const selectedNodes: string[] = getSelectedPaths(route.location, menuConfiguration).filter(\n    s => s !== undefined\n  ) as string[];\n\n  return (\n    <InnerComponent\n      activeKey={selectedNodes[0]}\n      children={menuNodes}\n      onChange={activeKey => {\n        const activeMenuItem = menuConfiguration.find(s => s.path === activeKey);\n        if (activeMenuItem) {\n          onMenuSelect(activeMenuItem.link);\n        }\n      }}\n      {...rest as P}\n    />\n  );\n};\n\nexport default withRoutedTabs;\n\nexport const RoutedTabs = withRoutedTabs()(Tabs);\n","import {Link} from 'react-router-dom';\nimport React, {FunctionComponent} from 'react';\nimport styled from 'styled-components';\n\ninterface DefaultAppLogoProps {\n  logo: string;\n}\n\nconst DefaultAppLogo: FunctionComponent<DefaultAppLogoProps> = ({\n  logo,\n  ...rest\n}) => (\n  <Link to=\"/\" {...rest}>\n    <img className=\"app-logo\" src={logo} />\n    <div className=\"app-name\">Movies Explorer</div>\n  </Link>\n);\nexport default styled(DefaultAppLogo)`\n  .app-logo {\n    display: inline-block;\n    vertical-align: middle;\n    height: 32px;\n    margin-left: 23px;\n  }\n\n  .app-name {\n    color: white;\n    display: inline-block;\n    vertical-align: middle;\n    font-size: 20px;\n    margin: 0 0 0 12px;\n    font-family: 'Myriad Pro', 'Helvetica Neue', Arial, Helvetica, sans-serif;\n    font-weight: 600;\n  }\n`;\n","export type Theme = {\n  palette: {\n    primaryColor: string;\n  };\n\n  layout: {\n    main: {\n      margin: number;\n    };\n  };\n};\n\nconst baseTheme: Theme = {\n  palette: {\n    primaryColor: '#e6f7ff'\n  },\n  layout: {\n    main: {\n      margin: 48\n    }\n  }\n};\n\nexport default baseTheme;\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  height: 64px;\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  background: #ffffff;\r\n  padding-left: 12px;\r\n  padding-right: 12px;\r\n\r\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n  z-index: 3;\r\n\r\n  > *:not(:last-child) {\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n","import {useRouteParams} from '../../common/hooks/routing';\r\n\r\nexport const toMovieListPage = () => '/movies';\r\nexport const toMovieViewPage = (id = ':id') => `${toMovieListPage()}/${id}`;\r\n\r\nexport const useMovieId = () => {\r\n  const params = useRouteParams();\r\n  return params.id ? parseInt(params.id) : undefined;\r\n};\r\n","import styled from 'styled-components';\nimport React from 'react';\n\nexport default <P>(c: React.ComponentType<P>) => styled(c).attrs(\n  // @ts-ignore\n  {\n    suppressClassNameWarning: true\n  }\n)`\n  .certain-category-search.ant-select-auto-complete\n    .ant-input-affix-wrapper\n    .ant-input-suffix {\n    right: 12px;\n  }\n\n  .ant-select-dropdown-menu-item-group-title {\n    color: #666;\n    font-weight: bold;\n  }\n\n  .ant-select-dropdown-menu-item-group {\n    border-bottom: 1px solid #f6f6f6;\n  }\n\n  .ant-select-dropdown-menu-item {\n    padding-left: 16px;\n  }\n\n  .ant-select-dropdown-menu-item.show-all {\n    text-align: center;\n    cursor: default;\n  }\n\n  .ant-select-dropdown-menu {\n    max-height: 75vh;\n  }\n\n  .certain-search-item-count {\n    position: absolute;\n    color: #999;\n    right: 16px;\n  }\n\n  .certain-category-search.ant-select-focused .certain-category-icon {\n    color: #108ee9;\n  }\n\n  .certain-category-icon {\n    color: #6e6e6e;\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n    font-size: 16px;\n  }\n\n  .search-context-item {\n    em {\n      color: #108ee9;\n      font-weight: bold;\n      font-style: normal;\n    }\n  }\n`;\n","import React, {Component, ComponentType, memo, ReactNode, RefObject} from 'react';\nimport {AutoComplete, Input} from 'antd';\nimport withStyled from './Search.styled';\nimport {AutoCompleteProps, DataSourceItemType} from 'antd/es/auto-complete';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport {Assign} from 'utility-types';\nimport {SelectValue} from 'antd/lib/select';\n\ntype IProps = Assign<\n  AutoCompleteProps,\n  {\n    dataSource: DataSourceItemType[];\n    onSearch?: (searchText: string) => void;\n    onSelect?: (value: SelectValue, option: Object) => any;\n    value?: string;\n    searchPrompt?: string;\n    notFoundContent: ReactNode;\n  }\n>;\n\nconst chars = 'abcdefghijklmnoprstuwxyz0123456789'.split('');\nconst keys = [...chars, ...chars.map(x => 'shift+' + x)];\nconst focusKeys = ['ctrl+f'];\n\nclass Complete extends Component<IProps> {\n  private ref: RefObject<AutoComplete>;\n  static defaultProps = { searchPrompt: 'Search...' };\n\n  constructor(props: IProps) {\n    super(props);\n    this.ref = React.createRef();\n  }\n\n  public render() {\n    const { className, onSearch, onSelect, searchPrompt, ...rest } = this.props;\n    return (\n      <>\n        <KeyboardEventHandler\n          handleKeys={keys}\n          onKeyEvent={this.handleKeyEvent}\n        />\n        <KeyboardEventHandler\n          handleKeys={focusKeys}\n          onKeyEvent={this.handleKeyEvent}\n          handleFocusableElements\n        />\n        <AutoComplete\n          tabIndex={0}\n          ref={this.ref}\n          className=\"certain-category-search\"\n          dropdownClassName={className}\n          dropdownMatchSelectWidth={false}\n          dropdownStyle={{ width: 300 }}\n          size=\"large\"\n          style={{ width: 500 }}\n          placeholder={searchPrompt}\n          optionLabelProp=\"value\"\n          onSearch={onSearch}\n          onSelect={onSelect}\n          {...rest}\n        >\n          <Input />\n        </AutoComplete>\n      </>\n    );\n  }\n\n  private handleKeyEvent = (char: string, e: KeyboardEvent) => {\n    if (this.ref.current) {\n      this.ref.current.focus();\n      e.preventDefault();\n    }\n  };\n}\n\nexport default memo(withStyled(Complete)) as ComponentType<IProps>;\n\n// todo move to hooks functional component\n","import {stringify} from 'querystring';\r\nimport {Observable} from 'rxjs';\r\n\r\n// due to https://github.com/omdbapi/OMDb-API/issues/37 http://www.omdbapi.com/ is not used!\r\nconst apiHost = 'https://api.themoviedb.org/3/';\r\n\r\nexport const getApiUrl = (path: string, params?: object) =>\r\n  `${apiHost}${path}?${stringify({\r\n    ...params,\r\n    api_key: process.env.REACT_APP_DB_API_KEY\r\n  })}`;\r\nexport const getThumbUrl = (id?: string) => id && 'https://image.tmdb.org/t/p/w45/' + id;\r\nexport const getPosterUrl = (id?: string) => id && 'https://image.tmdb.org/t/p/w500/' + id;\r\nexport const PAGE_SIZE = 20; // defined by TMDB;\r\n\r\nconst yearMatcher = /^\\d\\d\\d\\d/;\r\nexport const getReleaseYear = (date: string = '') => {\r\n  const match = date.match(yearMatcher);\r\n  return (match && match[0]) || '(no release info)';\r\n};\r\n\r\nexport interface ApiResponse<Data> {\r\n  page: number;\r\n  total_results: number;\r\n  total_pages: number;\r\n  results: Data[];\r\n}\r\n\r\nexport type FindService<Entity> = (query: string, page?: number, year?: number) => Observable<ApiResponse<Entity>>;\r\nexport type PopularService<Entity> = (page?: number) => Observable<ApiResponse<Entity>>;\r\nexport type GetService<Entity> = (id: number) => Observable<Entity>;\r\n","import {ApiResponse, FindService, getApiUrl, GetService, PopularService} from '../../../common/api';\r\nimport {ajax} from 'rxjs/ajax';\r\nimport {map} from 'rxjs/operators';\r\nimport {IMovie, IMovieLite} from '../types/state';\r\n\r\nconst shiftPageNumber = <T extends ApiResponse<any>>(response: T): T => {\r\n  return { ...response, page: response.page - 1 };\r\n};\r\n\r\nexport const findMovies: FindService<IMovieLite> = (query, page = 0, year) =>\r\n  ajax(\r\n    getApiUrl('search/movie', {\r\n      page: (page + 1).toString(),\r\n      query,\r\n      primary_release_year: year\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const findPopularMovies: PopularService<IMovieLite> = (page = 0) =>\r\n  ajax(\r\n    getApiUrl('movie/popular', {\r\n      page: (page + 1).toString()\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const getMovie: GetService<IMovie> = id =>\r\n  ajax(getApiUrl(`movie/${id}`, {})).pipe(map(value => shiftPageNumber(value.response)));\r\n","import {IMovieBrowser, IMovieLite} from '../types/state';\r\nimport {IState} from '../../../common/types/state';\r\nimport {ITypeAheadState} from '../../../common/aspects/typeahead/types';\r\n\r\nexport const selectMovieBrowser = (state: IState): IMovieBrowser => state.movieBrowser as IMovieBrowser;\r\n\r\nexport const selectMovieTypeAhead = (state: IState): ITypeAheadState<IMovieLite> => selectMovieBrowser(state).typeAhead;\r\nexport const selectMovieDetails = (state: IState) => selectMovieBrowser(state).details;\r\nexport const selectMovieList = (state: IState) => selectMovieBrowser(state).list;\r\n","import {Epic} from 'redux-observable';\r\nimport _ from 'lodash';\r\nimport {catchError, debounce, filter, map, mergeMap, skip, take} from 'rxjs/operators';\r\nimport {concat, merge, of, race, timer} from 'rxjs';\r\nimport {FindService, PAGE_SIZE, PopularService} from '../../api';\r\nimport {IListActions, IListItems, SelectList} from './types';\r\n\r\nexport const createEpics = <Entity extends object>(\r\n  actions: IListActions<Entity>,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>,\r\n  selectList: SelectList<Entity>\r\n): Epic => {\r\n  const selectPageNeedsToBeLoaded$ = (items: IListItems<Entity>, page: number) => {\r\n    const firstInPage = page * PAGE_SIZE;\r\n    const item = items[firstInPage];\r\n    return item === undefined || item.error !== undefined;\r\n  };\r\n\r\n  const getFetchPageAction = (requestAction: ReturnType<typeof actions.pageRangeEnsure>, page: number) =>\r\n    requestAction.payload.query\r\n      ? findService(requestAction.payload.query, page, requestAction.payload.year)\r\n      : popularService(page);\r\n\r\n  const requestAllPages = (pages: number[], ensureAction: ReturnType<typeof actions.pageRangeEnsure>) =>\r\n    merge(\r\n      ...pages.map(page =>\r\n        getFetchPageAction(ensureAction, page).pipe(\r\n          map(response => actions.pageResponse({ response })),\r\n          catchError(err => of(actions.pageError({ page, error: err })))\r\n        )\r\n      )\r\n    );\r\n\r\n  return (action$, state$) => {\r\n    const pagesToLoad$ = action$.pipe(filter(actions.pageRangeEnsure.match));\r\n\r\n    return pagesToLoad$.pipe(\r\n      debounce(() => timer(100)),\r\n      mergeMap(ensureAction => {\r\n        const data = selectList(state$.value).items;\r\n        const pagesToLoad = _.range(ensureAction.payload.startPage, ensureAction.payload.stopPage + 1, 1).filter(page =>\r\n          selectPageNeedsToBeLoaded$(data, page)\r\n        );\r\n        return concat(\r\n          of(actions.pageRequest({ pages: pagesToLoad })),\r\n          race(\r\n            requestAllPages(pagesToLoad, ensureAction),\r\n            pagesToLoad$.pipe(\r\n              skip(1), // fixme effectively disables cancellation, problem needs to be investigated before turning cancellation on back again\r\n              // maybe not use redux at all, just store some download cache info?\r\n              take(1),\r\n              map(() => actions.pageCancel({ pages: pagesToLoad }))\r\n            ),\r\n            action$.pipe(\r\n              filter(actions.reset.match),\r\n              take(1),\r\n              map(() => actions.pageCancel({ pages: pagesToLoad }))\r\n            )\r\n          )\r\n        );\r\n      })\r\n    );\r\n  };\r\n};\r\n","import {UseSetYear, UseYear} from './types';\r\nimport {useQueryParams, useSetQueryParams} from '../../hooks/routing';\r\n\r\nexport const createUseYear = (queryParamName: string): UseYear => () => {\r\n  const queryParams = useQueryParams();\r\n  return queryParams[queryParamName] ? parseInt(queryParams[queryParamName]) : undefined;\r\n};\r\n\r\nexport const createUseSetYear = (queryParamName: string): UseSetYear => () => {\r\n  const setQP = useSetQueryParams();\r\n  return (value?: number) => setQP({ [queryParamName]: value ? value.toString() : undefined });\r\n};\r\n","export const optional = <T extends any>(currentValue?: T, defaultValue?: T) => (currentValue === undefined ? defaultValue : currentValue);\r\n","import {IListActions, SelectList, UseYear} from '../types';\r\nimport {useDispatch, useMappedState} from 'redux-react-hook';\r\nimport {useCallback, useEffect, useState} from 'react';\r\nimport {useDebounce} from 'react-use';\r\nimport {PAGE_SIZE} from '../../../api';\r\nimport {UseValue} from '../../../types/hooks';\r\n\r\nconst selectPageOfRow = (page: number) => Math.floor(page / PAGE_SIZE);\r\nexport const createUsePaginatedList = <Entity extends object>(\r\n  actions: IListActions<Entity>,\r\n  useYear: UseYear,\r\n  useSearchValue: UseValue,\r\n  selectList: SelectList<Entity>\r\n) => () => {\r\n  const year = useYear();\r\n  const query = useSearchValue();\r\n  const { items, total: _total } = useMappedState(selectList);\r\n\r\n  const total = _total === null ? undefined : _total; // reducer can't return undefined, we need to translate that value\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.reset());\r\n  }, [query, year]);\r\n\r\n  const [bounds, setBounds] = useState<undefined | { start: number; stop: number }>({ start: 0, stop: 0 });\r\n  useDebounce(\r\n    () =>\r\n      bounds &&\r\n      dispatch(\r\n        actions.pageRangeEnsure({\r\n          query,\r\n          year,\r\n          startPage: bounds.start,\r\n          stopPage: bounds.stop\r\n        })\r\n      ),\r\n    100,\r\n    [query, year, bounds]\r\n  );\r\n\r\n  const onItemsRendered = useCallback(\r\n    ({ visibleStartIndex, visibleStopIndex }) => {\r\n      const fetchRowOverscan = 20;\r\n      const [firstPageToLoad, lastPageToLoad] = [\r\n        Math.max(0, visibleStartIndex - fetchRowOverscan),\r\n        Math.min((total || 1) - 1, visibleStopIndex + fetchRowOverscan)\r\n      ].map(selectPageOfRow);\r\n\r\n      setBounds({ start: firstPageToLoad, stop: lastPageToLoad });\r\n    },\r\n    [year, query, items]\r\n  );\r\n\r\n  return { onItemsRendered, items, total, query, year };\r\n};\r\n","import {LocationDescriptor} from 'history';\r\nimport {stringify} from 'querystring';\r\nimport _ from 'lodash';\r\nimport {Link, LinkProps} from 'react-router-dom';\r\nimport React, {ComponentType, FunctionComponent} from 'react';\r\nimport {getLocationDescriptionObject} from '../misc/getLocationDescriptionObject';\r\nimport {useQueryParams, useRouter} from './routing';\r\n\r\nexport const getDescriptor = (to: LocationDescriptor, currentQueryParams?: object, queryParams?: object) => {\r\n  const locationDescription = getLocationDescriptionObject(to);\r\n  return { ...locationDescription, search: stringify(_.omitBy({ ...currentQueryParams, ...queryParams }, _.isEmpty)) };\r\n};\r\n\r\nexport const useHistoryPush = () => {\r\n  const currentQueryParams = useQueryParams();\r\n  const history = useRouter().history;\r\n  return (to: LocationDescriptor, queryParams?: object) => {\r\n    history.push(getDescriptor(to, currentQueryParams, queryParams));\r\n  };\r\n};\r\n\r\ninterface EnhanceProps {\r\n  queryParams?: object;\r\n}\r\ninterface PassProps {\r\n  to: LinkProps['to'];\r\n}\r\n\r\nexport interface QueryLinkProps extends EnhanceProps, PassProps {}\r\n\r\nexport const withQueryLink = <P extends PassProps>(\r\n  InnerComponent: ComponentType<P>\r\n): FunctionComponent<QueryLinkProps> => props => {\r\n  const currentQueryParams = useQueryParams();\r\n  const { to, queryParams, ...rest } = props as QueryLinkProps;\r\n\r\n  return <InnerComponent to={getDescriptor(to, currentQueryParams, queryParams)} {...rest as P} />;\r\n};\r\n\r\nexport const QueryLink = withQueryLink(Link);\r\n","import {useHistoryPush} from './useHistoryPush';\r\nimport {UseSetValue, UseValue} from '../types/hooks';\r\nimport {useQueryParams} from './routing';\r\n\r\nexport const createUseSearchValue = (queryParamName: string): UseValue => () => useQueryParams()[queryParamName];\r\nexport const createUseGoToSearch = (route: string, queryParamName: string): UseSetValue => () => {\r\n  const pushHistory = useHistoryPush();\r\n  return (value?: string) => pushHistory(route, { [queryParamName]: value });\r\n};\r\n","import {createActions} from './actions';\r\nimport {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {createReducers} from './reducers';\r\nimport {createEpics} from './epics';\r\nimport {SelectList} from './types';\r\nimport {createUseSetYear, createUseYear} from './hooks';\r\nimport {createUseYearInput} from './hooks/useYearInput';\r\nimport {createUsePaginatedList} from './hooks/usePaginatedList';\r\nimport {FindService, PopularService} from '../../api';\r\nimport {createUseGoToSearch, createUseSearchValue} from '../../hooks';\r\nimport {createUseListData} from './hooks/useListData';\r\n\r\nexport const createListAspect = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>,\r\n  selectList: SelectList<Entity>,\r\n  searchParam: string,\r\n  yearParam: string,\r\n  listRoute: string\r\n) => {\r\n  const actions = createActions<Entity>(actionCreatorFactory);\r\n  const reducer = createReducers(actions);\r\n  const epics = createEpics(actions, findService, popularService, selectList);\r\n  const useYear = createUseYear(yearParam);\r\n  const useSetYear = createUseSetYear(yearParam);\r\n  const useSearchValue = createUseSearchValue(searchParam);\r\n  const useGoToSearch = createUseGoToSearch(listRoute, searchParam);\r\n  const useYearInput = createUseYearInput(useYear, useSetYear, useSearchValue);\r\n  const usePaginatedList = createUsePaginatedList(actions, useYear, useSearchValue, selectList);\r\n  const useListData = createUseListData(actions, useSearchValue, selectList);\r\n\r\n  return {\r\n    actions,\r\n    reducer,\r\n    epics,\r\n    useYear,\r\n    useSetYear,\r\n    useSearchValue,\r\n    useGoToSearch,\r\n    useYearInput,\r\n    usePaginatedList,\r\n    useListData,\r\n    searchParam\r\n  };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {IListActions} from './types';\r\n\r\nexport const createActions = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory\r\n): IListActions<Entity> => ({\r\n    reset: actionCreatorFactory('LIST_RESET'),\r\n    pageRangeEnsure: actionCreatorFactory('LIST_PAGE_DISPLAYED'),\r\n    pageRequest: actionCreatorFactory('LIST_PAGE_REQUEST'),\r\n    pageCancel: actionCreatorFactory('LIST_PAGE_CANCEL'),\r\n    pageResponse: actionCreatorFactory('LIST_PAGE_RESPONSE'),\r\n    pageError: actionCreatorFactory('LIST_PAGE_ERROR')\r\n});\r\n","import {IList, IListActions, IListItems} from './types';\r\nimport {combineReducers, Reducer} from 'redux';\r\nimport {PAGE_SIZE} from '../../api';\r\n\r\nexport const createReducers = <Entity extends object>(actions: IListActions<Entity>) => {\r\n  const total: Reducer<number | null> = (state = null, action) => {\r\n    if (actions.pageResponse.match(action)) {\r\n      return action.payload.response.total_results;\r\n    }\r\n    if (actions.reset.match(action)) {\r\n      return null;\r\n    }\r\n    return state;\r\n  };\r\n\r\n  const mapPageOntoList = <T extends any, U extends any>(\r\n    state: U[],\r\n    page: number,\r\n    results: T[],\r\n    map: (item: T, index: number, localIndex: number, oldItem: U) => U,\r\n    pageSize: number = PAGE_SIZE\r\n  ) => {\r\n    const newState = [...state];\r\n    const offset = page * pageSize;\r\n    results.forEach(\r\n      (movie, index) => (newState[index + offset] = map(movie, index + offset, index, newState[index + offset]))\r\n    );\r\n    return newState;\r\n  };\r\n\r\n  const items: Reducer<IListItems<Entity>> = (state: IListItems<Entity> = [], action) => {\r\n    if (actions.pageRequest.match(action)) {\r\n      return action.payload.pages.reduce(\r\n        (tmpState, page) =>\r\n          mapPageOntoList(tmpState, page, new Array(PAGE_SIZE).fill(undefined), () => ({\r\n            loading: true,\r\n            error: undefined,\r\n            result: undefined\r\n          })),\r\n        state\r\n      );\r\n    }\r\n    if (actions.pageCancel.match(action)) {\r\n      return action.payload.pages.reduce(\r\n        (tmpState, page) =>\r\n          mapPageOntoList(tmpState, page, new Array(PAGE_SIZE).fill(undefined), (result, index, localIndex, item) =>\r\n            item && item.loading ? undefined : item\r\n          ),\r\n        state\r\n      );\r\n    }\r\n\r\n    if (actions.pageResponse.match(action)) {\r\n      return mapPageOntoList(state, action.payload.response.page, action.payload.response.results, item => ({\r\n        loading: false,\r\n        error: undefined,\r\n        result: item\r\n      }));\r\n    }\r\n    if (actions.pageError.match(action)) {\r\n      return mapPageOntoList(state, action.payload.page, new Array(PAGE_SIZE).fill(undefined), () => ({\r\n        loading: false,\r\n        error: action.payload.error,\r\n        result: undefined\r\n      }));\r\n    }\r\n    if (actions.reset.match(action)) {\r\n      return [];\r\n    }\r\n    return state;\r\n  };\r\n\r\n  return combineReducers<IList<Entity>>({ items, total });\r\n};\r\n","import React, {useEffect, useState} from 'react';\r\nimport {optional} from '../../../utils';\r\nimport {useDebounce} from 'react-use';\r\nimport {UseSetYear, UseYear} from '../types';\r\nimport {UseValue} from '../../../types/hooks';\r\n\r\nexport const createUseYearInput = (useYear: UseYear, useSetYear: UseSetYear, useSearchValue: UseValue) => {\r\n  return () => {\r\n    const year = useYear();\r\n    const setYear = useSetYear();\r\n    const searchValue = useSearchValue();\r\n\r\n    const [value, setValue] = useState<string | undefined>(undefined);\r\n\r\n    const displayedValue = optional(value, year === undefined ? year : year.toString());\r\n\r\n    useEffect(() => {\r\n      setValue(year === undefined ? year : year.toString());\r\n    }, [year]);\r\n\r\n    useDebounce(\r\n      () => {\r\n        if (displayedValue === undefined || displayedValue === '') {\r\n          setYear(undefined);\r\n        } else {\r\n          const newYearValue = parseInt(displayedValue);\r\n          if (!isNaN(newYearValue) && newYearValue <= new Date().getFullYear() && newYearValue > 0) {\r\n            setYear(newYearValue);\r\n          }\r\n        }\r\n      },\r\n      400,\r\n      [value]\r\n    );\r\n\r\n    return { enabled: !!searchValue, value: displayedValue as any, onChange: (value: any) => setValue(value as any) };\r\n  };\r\n};\r\n","import {IListActions, SelectList} from '../types';\r\nimport {useMappedState} from 'redux-react-hook';\r\nimport {UseValue} from '../../../types/hooks';\r\n\r\nexport const createUseListData = <Entity extends object>(\r\n  action: IListActions<Entity>,\r\n  useSearchValue: UseValue,\r\n  selectList: SelectList<Entity>\r\n) => () => {\r\n  const query = useSearchValue();\r\n  const { total, items } = useMappedState(selectList);\r\n  return { total, items, query };\r\n};\r\n","import React from 'react';\r\nimport {useMappedState} from 'redux-react-hook';\r\nimport {Select} from 'antd';\r\nimport {ApiResponse} from '../../../api';\r\nimport _ from 'lodash';\r\nimport {DataSourceItemType} from 'antd/es/auto-complete';\r\nimport {optional} from '../../../utils';\r\nimport {ItemRenderer, SelectTypeAheadState} from '../types';\r\n\r\nconst { OptGroup, Option } = Select;\r\n\r\nexport const createUseSearchOptions = <Entity extends { id: number }>(\r\n  renderOptionContent: ItemRenderer<Entity>,\r\n  subject: string,\r\n  selectState: SelectTypeAheadState<Entity>\r\n) => {\r\n  const getSearchForSubjectOption = (\r\n    currentValue: string | undefined,\r\n    defaultValue: string | undefined,\r\n    total: number,\r\n    loading: boolean\r\n  ) => {\r\n    const actualValue = optional(currentValue, defaultValue);\r\n\r\n    return (\r\n      <Option key=\"_go_to_search\">\r\n        {actualValue ? (\r\n          <>\r\n            Search for \"\r\n            <em>\r\n              <strong>{actualValue}</strong>\r\n            </em>\r\n            \" in all {subject}\r\n          </>\r\n        ) : (\r\n          <>See most popular {subject}</>\r\n        )}\r\n        {!loading && <i style={{ float: 'right' }}>found {total}</i>}\r\n      </Option>\r\n    );\r\n  };\r\n\r\n  const getBestMatchesOptions = <T extends any>(options: ApiResponse<Entity>, loading: boolean) => {\r\n    const elements = options.results.slice(0, 5).map(result => (\r\n      <Option style={loading ? { opacity: 0.5 } : {}} value={result.id.toString()} key={result.id}>\r\n        {renderOptionContent(result)}\r\n      </Option>\r\n    ));\r\n    if (elements.length) {\r\n      return <OptGroup key=\"best_matches\" label=\"Best matches:\" children={elements} />;\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  return (\r\n    value: string | undefined, // '' means 'search nothing', undefined means get value from URL\r\n    defaultValue: string | undefined\r\n  ): DataSourceItemType[] => {\r\n    const { options, loading } = useMappedState(selectState);\r\n    const searchOption = getSearchForSubjectOption(value, defaultValue, options.total_results, loading);\r\n    const bestMatches = getBestMatchesOptions(options, loading);\r\n    return _.compact([searchOption, bestMatches]);\r\n  };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {createActions} from './actions';\r\nimport {createReducers} from './reducers';\r\nimport {createEpics} from './epics';\r\nimport {FindService, PopularService} from '../../api';\r\nimport {createUseSearchOptions} from './hooks/useSearchOptions';\r\nimport {ItemRenderer, SelectTypeAheadState, ToViewPage} from './types';\r\nimport {createUseSearchInput} from './hooks/useSearchInput';\r\nimport {createUseGoToSearch, createUseSearchValue} from '../../hooks';\r\n\r\nexport const createTypeAheadAspect = <Entity extends { id: number }>(\r\n  actionCreatorFactory: ActionCreatorFactory,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>,\r\n  itemRenderer: ItemRenderer<Entity>,\r\n  subject: string,\r\n  selectMovieTypeAhead: SelectTypeAheadState<Entity>,\r\n  searchParamName: string,\r\n  listRoute: string,\r\n  toViewPage: ToViewPage\r\n) => {\r\n  const actions = createActions<Entity>(actionCreatorFactory);\r\n  const reducer = createReducers(actions);\r\n  const epics = createEpics(actions, findService, popularService);\r\n  const useSearchOptions = createUseSearchOptions(itemRenderer, subject, selectMovieTypeAhead);\r\n  const useSearchValue = createUseSearchValue(searchParamName);\r\n  const useSearchInput = createUseSearchInput(\r\n    actions,\r\n    useSearchValue,\r\n    createUseGoToSearch(listRoute, searchParamName),\r\n    useSearchOptions,\r\n    toViewPage,\r\n    searchParamName\r\n  );\r\n  return {\r\n    actions,\r\n    reducer,\r\n    epics,\r\n    useSearchOptions,\r\n    useSearchInput\r\n  };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {ITypeAheadActions} from './types';\r\n\r\nexport const createActions = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory\r\n): ITypeAheadActions<Entity> => ({\r\n  typeOccured: actionCreatorFactory('SEARCH_TYPE'),\r\n  typeResponse: actionCreatorFactory('SEARCH_TYPE_RESPONSE')\r\n});\r\n","import {combineReducers, Reducer} from 'redux';\r\nimport {ApiResponse} from '../../api';\r\nimport {isType} from 'typescript-fsa';\r\nimport {ITypeAheadActions, ITypeAheadState} from './types';\r\n\r\nexport const createReducers = <Entity extends object>(actions: ITypeAheadActions<Entity>) => {\r\n  const options: Reducer<ApiResponse<Entity>> = (\r\n    state = { results: [], page: 0, total_pages: 0, total_results: 0 },\r\n    action\r\n  ) => {\r\n    if (isType(action, actions.typeResponse)) {\r\n      return { ...state, ...action.payload.value };\r\n    }\r\n    return state;\r\n  };\r\n\r\n  const loading: Reducer<boolean> = (state = false, action) => {\r\n    if (isType(action, actions.typeOccured)) {\r\n      return true;\r\n    }\r\n    if (isType(action, actions.typeResponse)) {\r\n      return false;\r\n    }\r\n    return state;\r\n  };\r\n\r\n  return combineReducers<ITypeAheadState<Entity>>({\r\n    options,\r\n    loading\r\n  });\r\n};\r\n","import {FindService, PopularService} from '../../api';\r\nimport {Epic} from 'redux-observable';\r\nimport {ITypeAheadActions} from './types';\r\nimport {debounce, filter, map, mergeMap, takeUntil} from 'rxjs/operators';\r\nimport {timer} from 'rxjs';\r\n\r\nexport const createEpics = <Entity extends object>(\r\n  actions: ITypeAheadActions<Entity>,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>\r\n): Epic => {\r\n  return (action$) =>\r\n    action$.pipe(\r\n      filter(actions.typeOccured.match),\r\n      debounce(value => timer(value.payload.value === '' ? 0 : 200)),\r\n      mergeMap(typeAction =>\r\n        (!typeAction.payload.value ? popularService() : findService(typeAction.payload.value, 0)).pipe(\r\n          map(responseAction => actions.typeResponse({ value: responseAction })),\r\n          takeUntil(action$.pipe(filter(actions.typeOccured.match)))\r\n        )\r\n      )\r\n    );\r\n};\r\n","import {useCallback, useEffect, useState} from 'react';\r\nimport {optional} from '../../../utils';\r\nimport {useDispatch} from 'redux-react-hook';\r\nimport {useHistoryPush} from '../../../hooks/useHistoryPush';\r\nimport {SelectValue} from 'antd/es/select';\r\nimport {ITypeAheadActions, ToViewPage, UseSearchOptions} from '../types';\r\nimport {UseSetValue, UseValue} from '../../../types/hooks';\r\n\r\nexport const createUseSearchInput = <Entity extends object>(\r\n  actions: ITypeAheadActions<Entity>,\r\n  useSearchValue: UseValue,\r\n  useGoToSearch: UseSetValue,\r\n  useSearchOptions: UseSearchOptions,\r\n  toViewPage: ToViewPage,\r\n  searchParamName: string\r\n) => () => {\r\n  const defaultSearchValue = useSearchValue();\r\n  const [searchValue, setSearchValue] = useState<string | undefined>(undefined);\r\n\r\n  const displayedSearchValue = optional(searchValue, defaultSearchValue);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.typeOccured({ value: defaultSearchValue }));\r\n  }, [defaultSearchValue]);\r\n\r\n  const goToMovieSearch = useGoToSearch();\r\n  const historyPush = useHistoryPush();\r\n\r\n  const dataSource = useSearchOptions(searchValue, defaultSearchValue);\r\n\r\n  const onApply = useCallback(\r\n    (key: SelectValue) => {\r\n      if (key === '_go_to_search') {\r\n        goToMovieSearch(displayedSearchValue);\r\n        setSearchValue(undefined);\r\n      } else {\r\n        historyPush(toViewPage(key.toString()), { [searchParamName]: displayedSearchValue });\r\n      }\r\n    },\r\n    [searchValue]\r\n  );\r\n\r\n  const onSearch = useCallback((key: SelectValue) => {\r\n    dispatch(actions.typeOccured({ value: key.toString() }));\r\n    setSearchValue(key.toString());\r\n  }, []);\r\n  const cancel = useCallback(() => {\r\n    setSearchValue(undefined);\r\n    dispatch(actions.typeOccured({ value: defaultSearchValue }));\r\n  }, [defaultSearchValue]);\r\n  return { dataSource, onSearch, onApply, cancel, value: displayedSearchValue };\r\n};\r\n","import React, {ComponentType, FunctionComponent, memo} from 'react';\r\nimport {Avatar, Icon} from 'antd';\r\nimport styled from 'styled-components';\r\nimport emptyAvatar from './emptyAvatar.png';\r\n\r\nexport interface SearchOptionProps {\r\n  avatar?: string;\r\n  name: string;\r\n  rank: number;\r\n  year: string;\r\n}\r\n\r\nconst SearchOptionContent: FunctionComponent<SearchOptionProps> = ({ avatar, name, rank, year, ...rest }) => (\r\n  <div {...rest}>\r\n    <Avatar shape=\"square\" src={avatar || emptyAvatar} />\r\n    {name}\r\n    <span className=\"rate\">\r\n      {year}\r\n      <Icon type=\"star\" theme=\"filled\" />\r\n      {rank.toFixed(1)}\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default memo(styled(SearchOptionContent)`\r\n  vertical-align: middle;\r\n  line-height: 30px;\r\n  .ant-avatar {\r\n    margin-right: 10px;\r\n    img {\r\n      object-fit: cover;\r\n    }\r\n  }\r\n  .rate {\r\n    float: right;\r\n    font-size: 15px;\r\n    svg {\r\n      margin: 0 4px;\r\n      color: #ffcc33;\r\n    }\r\n  }\r\n`) as ComponentType<SearchOptionProps>;\r\n","import {createActions} from './actions';\r\nimport {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {createEpics} from './epics';\r\nimport {GetService} from '../../api';\r\nimport {createReducers} from './reducers';\r\nimport {createUseDetails} from './hooks/useDetails';\r\nimport {SelectDetailsState} from './types';\r\nimport {createDetailsFetcher} from './components/DetailsFetcher';\r\nimport {UseValue} from '../../types/hooks';\r\n\r\nexport const createDetailsAspect = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory,\r\n  getService: GetService<Entity>,\r\n  stateSelector: SelectDetailsState<Entity>,\r\n  useDetailsId: UseValue<number>\r\n) => {\r\n  const actions = createActions<Entity>(actionCreatorFactory);\r\n  const epics = createEpics<Entity>(actions, getService);\r\n  const reducers = createReducers<Entity>(actions);\r\n\r\n  const useDetails = createUseDetails(stateSelector);\r\n\r\n  const DetailsFetcher = createDetailsFetcher(actions, useDetailsId);\r\n\r\n  return { actions, epics, reducers, useDetails, DetailsFetcher, useDetailsId };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {IDetailsActions} from './types';\r\n\r\nexport const createActions = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory\r\n): IDetailsActions<Entity> => ({\r\n  fetch: actionCreatorFactory('DETAILS_FETCH'),\r\n  fetchComplete: actionCreatorFactory('DETAILS_FETCH_COMPLETE'),\r\n  fetchError: actionCreatorFactory('DETAILS_FETCH_ERROR')\r\n});\r\n","import {GetService} from '../../api';\r\nimport {Epic} from 'redux-observable';\r\nimport {catchError, filter, map, mergeMap, takeUntil} from 'rxjs/operators';\r\nimport {of} from 'rxjs';\r\nimport {IDetailsActions} from './types';\r\n\r\nexport const createEpics = <Entity extends object>(\r\n  actions: IDetailsActions<Entity>,\r\n  getService: GetService<Entity>\r\n): Epic => action$ =>\r\n  action$.pipe(\r\n    filter(actions.fetch.match),\r\n    mergeMap(fetchAction =>\r\n      getService(fetchAction.payload.id).pipe(\r\n        map(response => actions.fetchComplete({ result: response })),\r\n        catchError(err => of(actions.fetchError(err))),\r\n        takeUntil(action$.pipe(filter(actions.fetch.match)))\r\n      )\r\n    )\r\n  );\r\n","import {Reducer} from 'redux';\r\nimport {IDetailsActions, IDetailsState} from './types';\r\n\r\nexport const createReducers = <Entity extends object>(\r\n  actions: IDetailsActions<Entity>\r\n): Reducer<IDetailsState<Entity>> => (state = { loading: false }, action) => {\r\n  if (actions.fetch.match(action)) {\r\n    return { loading: true, error: undefined, result: undefined };\r\n  }\r\n  if (actions.fetchComplete.match(action)) {\r\n    return { loading: false, error: undefined, result: action.payload.result };\r\n  }\r\n  return state;\r\n};\r\n","import {SelectDetailsState} from '../types';\r\nimport {useMappedState} from 'redux-react-hook';\r\n\r\nexport const createUseDetails = <Entity extends object>(stateSelector: SelectDetailsState<Entity>) => () =>\r\n  useMappedState(stateSelector);\r\n","import {useDispatch} from 'redux-react-hook';\r\nimport {FunctionComponent, useEffect} from 'react';\r\nimport {UseValue} from '../../../types/hooks';\r\nimport {IDetailsActions} from '../types';\r\n\r\nexport const createDetailsFetcher = <Entity extends object>(\r\n  actions: IDetailsActions<Entity>,\r\n  useDetailsId: UseValue<number>\r\n): FunctionComponent => () => {\r\n  const detailsId = useDetailsId();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    detailsId && dispatch(actions.fetch({ id: detailsId }));\r\n  }, [detailsId]);\r\n\r\n  return null;\r\n};\r\n","import actionCreatorFactory from 'typescript-fsa';\r\nimport {findMovies, findPopularMovies, getMovie} from './services/movie-search';\r\nimport {selectMovieDetails, selectMovieList, selectMovieTypeAhead} from './state/selectors';\r\nimport {createListAspect} from '../../common/aspects/list';\r\nimport {toMovieListPage, toMovieViewPage, useMovieId} from './routing';\r\nimport {createTypeAheadAspect} from '../../common/aspects/typeahead';\r\nimport {IMovie, IMovieLite} from './types/state';\r\nimport SearchOptionContent from './components/header/SearchOptionContent';\r\nimport React from 'react';\r\nimport {getReleaseYear, getThumbUrl} from '../../common/api';\r\nimport {createDetailsAspect} from '../../common/aspects/details';\r\n\r\nconst factory = actionCreatorFactory('movie-list');\r\n\r\nconst searchParamName = 'mQuery';\r\nexport const listAspect = createListAspect(\r\n  factory,\r\n  findMovies,\r\n  findPopularMovies,\r\n  selectMovieList,\r\n  searchParamName,\r\n  'mYear',\r\n  toMovieListPage()\r\n);\r\n\r\nexport const typeAheadAspect = createTypeAheadAspect<IMovieLite>(\r\n  factory,\r\n  findMovies,\r\n  findPopularMovies,\r\n  result => (\r\n    <SearchOptionContent\r\n      rank={result.vote_average}\r\n      avatar={getThumbUrl(result.poster_path)}\r\n      name={result.title}\r\n      year={getReleaseYear(result.release_date)}\r\n    />\r\n  ),\r\n  'movies',\r\n  selectMovieTypeAhead,\r\n  searchParamName,\r\n  toMovieListPage(),\r\n  toMovieViewPage\r\n);\r\n\r\nexport const detailsAspect = createDetailsAspect<IMovie>(factory, getMovie, selectMovieDetails, useMovieId);\r\n","import React from 'react';\r\nimport SearchPure from '../../../../common/components/antd/Search';\r\nimport {typeAheadAspect} from '../../aspects';\r\n\r\nconst Search = () => {\r\n  const { dataSource, onSearch, cancel, onApply, value } = typeAheadAspect.useSearchInput();\r\n\r\n  return (\r\n    <SearchPure\r\n      onDropdownVisibleChange={opened => !opened && cancel()}\r\n      notFoundContent=\"No movies found\"\r\n      value={value}\r\n      dataSource={dataSource}\r\n      onSearch={onSearch}\r\n      onSelect={onApply}\r\n      searchPrompt=\"Search for movies...\"\r\n    />\r\n  );\r\n};\r\nexport default Search;\r\n","import {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\n\r\nexport default [typeAheadAspect.epics, detailsAspect.epics, listAspect.epics];\r\n","import {combineReducers} from 'redux';\r\nimport {IMovieBrowser} from '../types/state';\r\nimport {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\n\r\nexport default combineReducers<IMovieBrowser>({\r\n  typeAhead: typeAheadAspect.reducer,\r\n  details: detailsAspect.reducers,\r\n  list: listAspect.reducer\r\n});\r\n","import React, {ComponentType} from 'react';\n\nexport function fixBreadcrumb<T extends React.ComponentType>(component: T): T {\n  (component as any).__ANT_BREADCRUMB_ITEM = true; // fix for 'Breadcrumb only accepts Breadcrumb.Item as it\\'s children' error\n  return component;\n}\n\n/**\n * As we can't use React hooks in Storybook render method, we have a factory function which we pass function component.\n * It will create a render function rendering this component.\n * @param Component\n */\nexport const renderComponent = (Component: ComponentType) => () => (\n  <Component />\n);\n","import {Spin} from 'antd';\nimport React from 'react';\n\nexport const InlineSpinner = () => (\n  <>\n    <Spin size=\"small\" style={{ position: 'absolute', margin: 'auto' }} />\n    <span style={{ width: 14, display: 'inline-block' }} />\n  </>\n);\n","import {BreadcrumbItemProps} from 'antd/es/breadcrumb';\nimport React, {FunctionComponent} from 'react';\nimport {Breadcrumb} from 'antd';\nimport {InlineSpinner} from '../InlineSpinner';\n\ninterface Props extends BreadcrumbItemProps {\n  loading?: boolean;\n}\n\nconst LazyBreadcrumbItem: FunctionComponent<Props> = ({ children, loading, ...rest }) => (\n  <Breadcrumb.Item {...rest}>{loading ? <InlineSpinner /> : children}</Breadcrumb.Item>\n);\n\nexport const BreadcrumbItem = LazyBreadcrumbItem;\n","import {toMovieListPage} from '../../routing';\r\nimport {Icon} from 'antd';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {listAspect} from '../../aspects';\r\n\r\nconst List = () => {\r\n  const searchValue = listAspect.useSearchValue();\r\n\r\n  return (\r\n    <>\r\n      <BreadcrumbItem>\r\n        <QueryLink to={toMovieListPage()} queryParams={{ [listAspect.searchParam]: undefined }}>\r\n          Movies\r\n        </QueryLink>\r\n      </BreadcrumbItem>\r\n      {searchValue && (\r\n        <BreadcrumbItem>\r\n          <QueryLink to={toMovieListPage()}>\r\n            <Icon type=\"search\" style={{ marginRight: 5 }} />\r\n            {searchValue}\r\n          </QueryLink>\r\n        </BreadcrumbItem>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","import React from 'react';\nimport {Breadcrumb, Icon} from 'antd';\nimport {Link} from 'react-router-dom';\nimport {toMovieListPage} from '../../../features/movie-browser/routing';\nimport {fixBreadcrumb} from '../../workarounds';\n\nexport const Home= fixBreadcrumb(() => {\n  return (\n    <Breadcrumb.Item>\n      <Link to={toMovieListPage()}>\n        <Icon type=\"home\" />\n      </Link>\n    </Breadcrumb.Item>\n  );\n});\n","import {toMovieViewPage} from '../../routing';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {detailsAspect} from '../../aspects';\r\n\r\nconst List = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n  const movieId = detailsAspect.useDetailsId();\r\n\r\n  return (\r\n    <BreadcrumbItem loading={loading}>\r\n      <QueryLink to={toMovieViewPage((movieId || '').toString())}>{result && result.title}</QueryLink>\r\n    </BreadcrumbItem>\r\n  );\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","export const formItemLayout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 14\n  }\n};\n","import React, {FunctionComponent} from 'react';\r\nimport {ProductionCountries} from '../../features/movie-browser/types/state';\r\nimport {Tag} from 'antd';\r\n\r\nexport const CountryTags: FunctionComponent<{ countries: ProductionCountries | undefined }> = ({ countries }) => (\r\n  <>\r\n    {(countries || []).map(value => (\r\n      <Tag color={'#687cbe'} key={value.name}>\r\n        {value.name}\r\n      </Tag>\r\n    ))}\r\n  </>\r\n);\r\n","import React, {FunctionComponent, HTMLProps, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Modal} from 'antd';\r\n\r\nexport interface ImageThumbnailProps extends HTMLProps<HTMLImageElement> {\r\n  size?: number;\r\n}\r\nconst StyledImage = styled.img`\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n  border: 2px solid #cccccc;\r\n  transition: filter 150ms ease-out;\r\n  cursor: pointer;\r\n  background: #cccccc;\r\n  &:hover {\r\n    filter: brightness(1.09);\r\n  }\r\n`;\r\n\r\nexport const ImageThumbnail: FunctionComponent<ImageThumbnailProps> = ({ src, size, style, ...rest }) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const close = () => setOpen(false);\r\n  return (\r\n    <>\r\n      <StyledImage\r\n        src={src}\r\n        style={{ ...style, height: size, width: size }}\r\n        onClick={src ? () => setOpen(true) : undefined}\r\n      />\r\n      <Modal\r\n        width=\"calc(100vw - 250px)\"\r\n        visible={open}\r\n        onCancel={close}\r\n        onOk={close}\r\n        cancelButtonProps={{ style: { display: 'none' } }}\r\n        okText=\"Close\"\r\n      >\r\n        <img src={src} style={{ height: 'calc(100vh - 250px)', width: '100%', objectFit: 'scale-down' }} />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nImageThumbnail.defaultProps = {\r\n  size: 100\r\n};\r\n","import classnames from 'classnames';\nimport React, {ComponentType} from 'react';\nimport styled from 'styled-components';\n\nconst FADED_CLASS_NAME_ACTIVE = 'fading-active';\nconst FADED_CLASS_NAME = 'fading';\n\ninterface IInjectProps {\n  className?: string;\n}\n\ninterface IEnhanceProps {\n  loading: boolean;\n}\n\ninterface IState {\n  childrenProps: any;\n}\n\nexport default function withFading<X>(passLoadingProp: boolean = false) {\n  return (Component: ComponentType<X & IInjectProps>) => {\n    const WithFading: ComponentType<\n      X & IEnhanceProps & IInjectProps\n    > = class extends React.Component<\n      X & IEnhanceProps & IInjectProps,\n      IState\n    > {\n      constructor(props: X & IEnhanceProps) {\n        super(props);\n\n        this.state = {\n          childrenProps: props\n        };\n      }\n\n      public static getDerivedStateFromProps = (\n        nextProps: Readonly<X & IEnhanceProps>,\n        prevState: IState\n      ) => ({\n        childrenProps: nextProps.loading ? prevState.childrenProps : nextProps\n      });\n\n      render() {\n        const { loading, ...rest } = this.state.childrenProps as IEnhanceProps;\n        const props = passLoadingProp ? this.state.childrenProps : rest;\n\n        {\n          const { className, ...rest } = props as IInjectProps;\n\n          return (\n            <Component\n              {...rest as X & IEnhanceProps}\n              className={classnames(className, FADED_CLASS_NAME, {\n                [FADED_CLASS_NAME_ACTIVE]: this.props.loading\n              })}\n            />\n          );\n        }\n      }\n    };\n\n    return styled(WithFading)`\n      &.fading-active {\n        opacity: 0.2 !important;\n        transition: opacity 500ms !important;\n        pointer-events: none;\n      }\n\n      &.fading {\n        transition: opacity 500ms !important;\n      }\n    `;\n  };\n}\n//todo do withFading only using HOOKS\n","import {IMovie} from '../../../types/state';\r\nimport React, {FunctionComponent} from 'react';\r\nimport {getPosterUrl} from '../../../../../common/api';\r\nimport {Form, Icon, Rate, Tag, Typography} from 'antd';\r\nimport {FormProps} from 'antd/es/form';\r\nimport {formItemLayout} from '../../../../../common/layout-props';\r\nimport styled from 'styled-components';\r\nimport {CountryTags} from '../../../../../common/components/CountryTags';\r\nimport {ImageThumbnail} from '../../../../../common/components/ImageThumbnail';\r\nimport withFading from '../../../../../common/components/withFading';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport interface MovieViewPureProps extends FormProps {\r\n  entity?: IMovie;\r\n}\r\n\r\nconst MovieViewPure: FunctionComponent<MovieViewPureProps> = ({ entity, ...rest }) => {\r\n  const get = <X extends keyof IMovie>(field: X): IMovie[X] | undefined => entity && entity[field];\r\n\r\n  const poster = get('poster_path');\r\n  const backdrop = get('backdrop_path');\r\n  return (\r\n    <Form {...rest} labelAlign=\"left\" layout=\"horizontal\">\r\n      <Form.Item label=\"Tagline\" {...formItemLayout}>\r\n        {<Typography>{get('tagline')}</Typography> || <em>No tagline specified</em>}\r\n      </Form.Item>\r\n      <Form.Item label=\"Genres\" {...formItemLayout}>\r\n        {(get('genres') || []).map(value => (\r\n          <Tag color={'#49be80'} key={value.id}>\r\n            {value.name}\r\n          </Tag>\r\n        ))}\r\n      </Form.Item>\r\n      <Form.Item label=\"Countries\" {...formItemLayout}>\r\n        <CountryTags countries={get('production_countries')} />\r\n      </Form.Item>\r\n      <Form.Item label=\"Rank\" {...formItemLayout}>\r\n        <Rate allowHalf style={{ marginRight: 3 }} value={get('vote_average')} count={10} disabled />\r\n        <strong>{get('vote_average')}</strong> | {get('vote_count')} votes\r\n      </Form.Item>\r\n      <Form.Item label=\"Popularity\" {...formItemLayout}>\r\n        <Icon type=\"like\" theme=\"filled\" /> {get('popularity')}\r\n      </Form.Item>\r\n      <Form.Item label=\"Release date\" {...formItemLayout}>\r\n        <Text>{get('release_date')}</Text>\r\n      </Form.Item>\r\n      <Form.Item label=\"Description\" {...formItemLayout}>\r\n        <Text>{get('overview')}</Text>\r\n      </Form.Item>\r\n      {(poster || backdrop) && (\r\n        <Form.Item label=\"Media\" {...formItemLayout}>\r\n          {poster && <ImageThumbnail src={getPosterUrl(poster)} />}\r\n          {backdrop && <ImageThumbnail src={getPosterUrl(backdrop)} />}\r\n        </Form.Item>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default withFading<MovieViewPureProps>(false)(styled(MovieViewPure)`\r\n  .ant-typography {\r\n    margin-top: 10px;\r\n    line-height: 22px;\r\n    display: inline-block;\r\n    text-align: justify;\r\n  }\r\n\r\n  .ant-row {\r\n    margin: 0 0 4px;\r\n  }\r\n\r\n  img {\r\n    margin-top: 10px;\r\n    margin-right: 10px;\r\n  }\r\n`);\r\n","import {ContentLayout, DefaultPrimaryContent} from '../../../../../common/components/antd';\r\nimport React from 'react';\r\nimport {Breadcrumb, Button, Tooltip} from 'antd';\r\nimport List from '../../breadcrumbs/List';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport View from '../../breadcrumbs/View';\r\nimport MovieViewPure from './MovieViewPure';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {detailsAspect} from '../../../aspects';\r\nimport {IMovie} from '../../../types/state';\r\n\r\nconst MovieView = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  return <MovieViewPure loading={loading} entity={result} />;\r\n};\r\n\r\nconst Toolbar = () => {\r\n  const { result } = detailsAspect.useDetails();\r\n  const { homepage } = result || ({} as Partial<IMovie>);\r\n\r\n  return (\r\n    <>\r\n      {homepage && (\r\n        <Tooltip title=\"View movie homepage\">\r\n          <a href={homepage} target=\"_blank\">\r\n            <Button icon=\"export\" />\r\n          </a>\r\n        </Tooltip>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst MovieTitle = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  const { title, original_title } = result || ({} as Partial<IMovie>);\r\n\r\n  return loading ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>\r\n      {title}\r\n      {original_title !== title && (\r\n        <small title={'original title'} style={{ float: 'right', fontWeight: 'normal' }}>\r\n          <em>{original_title}</em>\r\n        </small>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default () => (\r\n  <>\r\n    <detailsAspect.DetailsFetcher />\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<MovieTitle />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n              <View />\r\n            </Breadcrumb>\r\n          }\r\n          content={<MovieView />}\r\n          tools={<Toolbar />}\r\n        />\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import _ from 'lodash';\n\nexport default function<D, S>(\n  object: any,\n  path: string,\n  transform: (value: D) => S,\n  defaultValue?: D\n) {\n  const value: D = _.get(object, path, defaultValue) as D;\n  if (value !== undefined) {\n    return transform(value);\n  }\n  return undefined;\n}\n","import React, {ComponentType} from 'react';\nimport {FixedSizeList, FixedSizeListProps, ListChildComponentProps} from 'react-window';\nimport styled from 'styled-components';\nimport {MeasuredComponentProps, withContentRect} from 'react-measure';\nimport _ from 'lodash';\nimport {withStyledScrollbar} from './antd';\nimport getOptional from '../getOptional';\n\nexport interface IVirtualListPropsBase<T> {\n  itemData?: T[];\n  padding?: number;\n  row: ComponentType<ListChildComponentProps>;\n  itemCount?: number;\n  itemSize: number;\n  onItemsRendered?: FixedSizeListProps['onItemsRendered'];\n}\nexport type IVirtualListProps<T> = IVirtualListPropsBase<T> & MeasuredComponentProps;\n\nconst FixedSizeListWithScrollbar = withStyledScrollbar('dark')(FixedSizeList);\n\nexport const VirtualList = <P extends any>(props: IVirtualListProps<P>) => {\n  const {\n    contentRect,\n    onItemsRendered,\n    measureRef,\n    row,\n    itemSize,\n    itemCount,\n    itemData,\n    padding,\n    measure,\n    ...rest\n  } = props;\n\n  return (\n    <div {...rest}>\n      <div className=\"fixed-size-list-container ant-list ant-list-split\" ref={measureRef}>\n        <FixedSizeListWithScrollbar\n          className=\"react-window\"\n          overscanCount={10}\n          height={_.get(contentRect, 'bounds.height', 0)}\n          onItemsRendered={onItemsRendered}\n          itemCount={itemCount === undefined ? 0 : itemCount}\n          itemData={itemData}\n          itemSize={itemSize}\n          width={getOptional(contentRect, 'bounds.width', width => width - padding! / 2, 0) || 0}\n        >\n          {row}\n        </FixedSizeListWithScrollbar>\n      </div>\n    </div>\n  );\n};\n\nconst EnhancedVirtualList = withContentRect('bounds')(styled(VirtualList)`\n  width: 100%; // virtual scroll doesn't have own dimensions, it fills parent 100%\n  height: 100%;\n  background: #ffffff;\n  padding: ${p => `${p.padding!}px 0 ${p.padding!}px ${p.padding!}px`};\n\n  .fixed-size-list-container {\n    width: 100%;\n    height: 100%;\n  }\n\n  .react-window > * > * {\n    width: calc(100% - ${p => p.padding! / 2}px) !important;\n    min-width: 500px;\n  }\n`);\n\nEnhancedVirtualList.defaultProps = {\n  padding: 12,\n  itemSize: 69,\n} as Partial<IVirtualListPropsBase<{}>>;\n\nexport default function getVirtualList<P>() {\n  return (EnhancedVirtualList as unknown) as ComponentType<IVirtualListPropsBase<P>>;\n}\n","import {List} from 'antd';\nimport styled from 'styled-components';\nimport {ComponentType, MouseEvent} from 'react';\nimport {ListItemProps} from 'antd/es/list';\nimport {withQueryLink} from '../../hooks/useHistoryPush';\nimport withLink from '../../withLink';\n\nexport const ListItem = styled(List.Item)`\n  cursor: pointer;\n  &:hover {\n    background: #fcfcfc;\n  }\n`;\n\nexport const ListItemLink = withQueryLink(\n  withLink(ListItem as ComponentType<\n    ListItemProps & { onClick?: (event: MouseEvent<any>) => void | null }\n  >)\n);\n","import React, {ComponentType, MouseEvent} from 'react';\n// @ts-ignore RouterContext not present\nimport {__RouterContext as RouterContext} from 'react-router-dom';\nimport * as H from 'history';\n\nfunction isModifiedEvent<T>(event: MouseEvent<T>) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport interface RequiredProps<T> {\n  onClick?: (event: MouseEvent<T>) => void | null;\n}\n\nexport interface EnhancedProps {\n  to: H.LocationDescriptor;\n  replace?: boolean;\n  innerRef?: (node: HTMLAnchorElement | null) => void;\n  target?: string;\n}\n\nexport default function withLink<T, P extends RequiredProps<T>>(\n  Component: ComponentType<P>\n): ComponentType<P & EnhancedProps> {\n  return class Link extends React.Component<P & EnhancedProps> {\n    // static defaultProps: Partial<EnhancedProps&P> = {\n    //   replace: false\n    // };\n\n    public render() {\n      const { innerRef, replace, to, target, ...rest } = this\n        .props as EnhancedProps;\n\n      return (\n        <RouterContext.Consumer>\n          {(context: RouterContext) => (\n            <Component\n              {...rest as P}\n              onClick={event => this.handleClick(event, context)}\n            />\n          )}\n        </RouterContext.Consumer>\n      );\n    }\n\n    private handleClick(event: MouseEvent<T>, context: RouterContext) {\n      if (this.props.onClick) {\n        this.props.onClick(event);\n      }\n\n      if (\n        !event.defaultPrevented && // onClick prevented default\n        event.button === 0 && // ignore everything but left clicks\n        (!this.props.target || this.props.target === '_self') && // let browser handle \"target=_blank\" etc.\n        !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n        event.preventDefault();\n\n        const method = this.props.replace\n          ? context.history.replace\n          : context.history.push;\n\n        method(this.props.to);\n      }\n    }\n  };\n}\n","import React, {ComponentType, FunctionComponent, ReactNode} from 'react';\nimport styled from 'styled-components';\nimport {Avatar, List} from 'antd';\nimport {ListItemLink} from './ListItem';\nimport {LocationDescriptor} from 'history';\nimport {ListItemProps} from 'antd/es/list';\nimport {Assign} from 'utility-types';\n\nexport type DefaultListItemProps = Assign<\n  ListItemProps,\n  {\n    title?: ReactNode;\n    description?: ReactNode;\n    popularity?: ReactNode;\n    year?: ReactNode;\n    tags?: ReactNode;\n    to: LocationDescriptor;\n    avatar?: string;\n  }\n>;\n\nconst DefaultListItemUnstyled: FunctionComponent<DefaultListItemProps> = ({\n  description,\n  tags,\n  title,\n  to,\n  popularity,\n  year,\n  avatar,\n  ...rest\n}) => (\n  <ListItemLink to={to} {...rest}>\n    <List.Item.Meta avatar={<Avatar src={avatar} size={43} shape=\"square\" />} title={title} description={description} />\n    {(tags || popularity || year) && (\n      <>\n        {tags && <div className=\"default-list-item-content-item\">{tags}</div>}\n        {(popularity || year) && (\n          <div\n            className=\"default-list-item-content-item update-info\"\n            title={`Released in ${year}. Popularity: ${popularity}.`}\n          >\n            <div>{year}</div>\n            <div>{popularity}</div>\n          </div>\n        )}\n      </>\n    )}\n  </ListItemLink>\n);\n\nconst DefaultListItem: ComponentType<DefaultListItemProps> = styled(DefaultListItemUnstyled)`\n  padding-left: 12px;\n  padding-right: 12px;\n  .ant-list-item-content {\n    align-items: center;\n    flex: 0;\n    &:empty {\n      display: none;\n    }\n  }\n  .default-list-item-content-item {\n    white-space: nowrap;\n    margin-left: 40px;\n    color: rgba(0, 0, 0, 0.45);\n    font-size: 14px;\n    display: flex;\n    text-align: right;\n  }\n  .update-info {\n    display: inline-block;\n  }\n\n  .ant-avatar {\n    background: #cccccc;\n    img {\n      object-fit: cover;\n    }\n  }\n`;\nexport default DefaultListItem;\n","import React from 'react';\nimport {ListChildComponentProps} from 'react-window';\nimport {toMovieViewPage} from '../../../routing';\nimport {Assign} from 'utility-types';\nimport {IMovieLite} from '../../../types/state';\nimport DefaultListItem from '../../../../../common/components/antd/DefaultListItem';\nimport {getPosterUrl, getReleaseYear} from '../../../../../common/api';\nimport {Rate} from 'antd';\nimport {IListItem, IListItems} from '../../../../../common/aspects/list/types';\n\nexport function ListItem(props: Assign<ListChildComponentProps, { data: IListItems<IMovieLite>}>) {\n  const { index, style, data } = props;\n\n  const item = data[index] || ({loading: true } as IListItem<IMovieLite>);\n\n  const result: IMovieLite = item.result || ({ } as IMovieLite);\n  const loading = item.loading;\n\n  return (\n    <DefaultListItem\n      avatar={getPosterUrl(result.poster_path)}\n      style={style}\n      to={toMovieViewPage((result.id && result.id.toString()) || '')}\n      title={\n        <>\n          &#8203;{index + 1}. {result.title}\n        </>\n      }\n      year={loading ? '...' : getReleaseYear(result.release_date)}\n      popularity={loading ? '...' : result.popularity ? result.popularity.toFixed(2) : ''}\n      description={\n        <span>\n          <Rate allowHalf style={{ fontSize: 15, marginRight: 3 }} value={result.vote_average} count={10} disabled />\n          <strong>{result.vote_average}</strong> | {result.vote_count} votes\n        </span>\n      }\n    />\n  );\n}\n","import React from 'react';\r\nimport getVirtualList from '../../../../../common/components/VirtualList';\r\nimport {ListItem} from './ListItem';\r\nimport {IListItem} from '../../../../../common/aspects/list/types';\r\nimport {IMovieLite} from '../../../types/state';\r\nimport {listAspect} from '../../../aspects';\r\n\r\nconst List = getVirtualList<IListItem<IMovieLite> | undefined>();\r\n\r\nexport const MovieList = () => {\r\n  const { items, total, onItemsRendered } = listAspect.usePaginatedList();\r\n\r\n  return <List onItemsRendered={onItemsRendered} itemSize={69} row={ListItem} itemCount={total} itemData={items} />;\r\n};\r\n","import React from 'react';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {listAspect} from '../../../aspects';\r\n\r\nexport const Title = () => {\r\n  const { query, total } = listAspect.useListData();\r\n\r\n  return total === null ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>{query ? `Found ${total} movies matching the criteria` : `Most popular movies`}</>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {Form, InputNumber} from 'antd';\r\nimport {listAspect} from '../../../aspects';\r\n\r\nexport const YearInput = () => {\r\n  const { value, enabled, onChange } = listAspect.useYearInput();\r\n\r\n  return enabled ? (\r\n    <Form layout=\"inline\">\r\n      <Form.Item label=\"Released\">\r\n        <InputNumber value={value} onChange={onChange} placeholder=\"anytime\" />\r\n      </Form.Item>\r\n    </Form>\r\n  ) : null;\r\n};\r\n","import {YearInput} from './YearInput';\r\nimport React from 'react';\r\n\r\nexport const Toolbar = () => <YearInput />;\r\n","import {IPlugin} from '../../common/plugins';\r\nimport {Route} from 'react-router';\r\nimport {toMovieListPage, toMovieViewPage} from './routing';\r\nimport Search from './components/header/Search';\r\nimport React from 'react';\r\nimport epics from './state/epics';\r\nimport reducers from './state/reducers';\r\n\r\nimport viewPage from './components/pages/view';\r\nimport listPage from './components/pages/list';\r\n\r\nexport default {\r\n  routes: {\r\n    main: (\r\n      <>\r\n        <Route exact path={toMovieListPage()} render={listPage} />\r\n        <Route path={toMovieViewPage()} render={viewPage} />\r\n      </>\r\n    ),\r\n    header: (\r\n      <>\r\n        <Route path={toMovieListPage()}>\r\n          <Search />\r\n        </Route>\r\n      </>\r\n    )\r\n  },\r\n  epics,\r\n  reducers: {\r\n    movieBrowser: reducers\r\n  }\r\n} as IPlugin;\r\n","import {ContentLayout, DefaultPrimaryContent, DefaultSecondaryContent} from '../../../../../common/components/antd';\r\nimport React from 'react';\r\nimport {Breadcrumb} from 'antd';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport List from '../../breadcrumbs/List';\r\nimport {MovieList} from './MovieList';\r\nimport {Title} from './Title';\r\nimport {Toolbar} from './Toolbar';\r\n\r\nexport default () => (\r\n  <>\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<Title />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n            </Breadcrumb>\r\n          }\r\n          tools={<Toolbar />}\r\n        />\r\n      }\r\n      secondaryContent={\r\n        <DefaultSecondaryContent>\r\n          <MovieList />\r\n        </DefaultSecondaryContent>\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import {useRouteParams} from '../../common/hooks/routing';\r\n\r\nexport const toPersonListPage = () => '/people';\r\nexport const toPersonViewPage = (id = ':id') => `${toPersonListPage()}/${id}`;\r\n\r\nexport const usePersonId = () => {\r\n  const params = useRouteParams();\r\n  return params.id ? parseInt(params.id) : undefined;\r\n};\r\n\r\nexport const toPersonMovies = (id: string = ':id') => `${toPersonViewPage(id)}/movies`;\r\n","import {ApiResponse, FindService, getApiUrl, GetService, PopularService} from '../../../common/api';\r\nimport {ajax} from 'rxjs/ajax';\r\nimport {map} from 'rxjs/operators';\r\nimport {IPerson, IPersonLite} from '../types/state';\r\n\r\nconst shiftPageNumber = <T extends ApiResponse<any>>(response: T): T => {\r\n  return { ...response, page: response.page - 1 };\r\n};\r\n\r\nexport const findPeople: FindService<IPersonLite> = (query, page = 0, year) =>\r\n  ajax(\r\n    getApiUrl('search/person', {\r\n      page: (page + 1).toString(),\r\n      query\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const findPopularPeople: PopularService<IPersonLite> = (page = 0) =>\r\n  ajax(\r\n    getApiUrl('person/popular', {\r\n      page: (page + 1).toString()\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const getPerson: GetService<IPerson> = id =>\r\n  ajax(getApiUrl(`person/${id}`, { append_to_response: ['movie_credits,images'] })).pipe(\r\n    map(value => shiftPageNumber(value.response))\r\n  );\r\n","import {IState} from '../../../common/types/state';\r\nimport {ITypeAheadState} from '../../../common/aspects/typeahead/types';\r\nimport {IPeopleBrowser, IPersonLite} from '../types/state';\r\n\r\nexport const selectPeopleBrowser = (state: IState): IPeopleBrowser => state.peopleBrowser as IPeopleBrowser;\r\n\r\nexport const selectPersonTypeAhead = (state: IState): ITypeAheadState<IPersonLite> => selectPeopleBrowser(state).typeAhead;\r\nexport const selectPersonDetails = (state: IState) => selectPeopleBrowser(state).details;\r\nexport const selectPersonList = (state: IState) => selectPeopleBrowser(state).list;\r\n","import React, {ComponentType, FunctionComponent, memo} from 'react';\r\nimport {Avatar, Icon} from 'antd';\r\nimport styled from 'styled-components';\r\nimport emptyAvatar from './emptyAvatar.png';\r\n\r\nexport interface SearchOptionProps {\r\n  avatar?: string;\r\n  name: string;\r\n  rank: number;\r\n  year?: string;\r\n}\r\n\r\nconst SearchOptionContent: FunctionComponent<SearchOptionProps> = ({ avatar, name, rank, year, ...rest }) => (\r\n  <div {...rest}>\r\n    <Avatar shape=\"square\" src={avatar || emptyAvatar} />\r\n    {name}\r\n    <span className=\"rate\">\r\n      {year}\r\n      <Icon type=\"like\" theme=\"filled\" />\r\n      {rank.toFixed(1)}\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default memo(styled(SearchOptionContent)`\r\n  vertical-align: middle;\r\n  line-height: 30px;\r\n  .ant-avatar {\r\n    margin-right: 10px;\r\n    img {\r\n      object-fit: cover;\r\n    }\r\n  }\r\n  .rate {\r\n    float: right;\r\n    font-size: 15px;\r\n    svg {\r\n      margin: 0 4px;\r\n    }\r\n  }\r\n`) as ComponentType<SearchOptionProps>;\r\n","import actionCreatorFactory from 'typescript-fsa';\r\nimport {findPeople, findPopularPeople, getPerson} from './services/people-search';\r\nimport {selectPersonDetails, selectPersonList, selectPersonTypeAhead} from './state/selectors';\r\nimport {createListAspect} from '../../common/aspects/list';\r\nimport {toPersonListPage, toPersonViewPage, usePersonId} from './routing';\r\nimport {createTypeAheadAspect} from '../../common/aspects/typeahead';\r\nimport SearchOptionContent from './components/header/SearchOptionContent';\r\nimport React from 'react';\r\nimport {getThumbUrl} from '../../common/api';\r\nimport {createDetailsAspect} from '../../common/aspects/details';\r\nimport {IPerson, IPersonLite} from './types/state';\r\n\r\nconst factory = actionCreatorFactory('people-list');\r\n\r\nconst searchParamName = 'pQuery';\r\nexport const listAspect = createListAspect(\r\n  factory,\r\n  findPeople,\r\n  findPopularPeople,\r\n  selectPersonList,\r\n  searchParamName,\r\n  'mYear',\r\n  toPersonListPage()\r\n);\r\n\r\nexport const typeAheadAspect = createTypeAheadAspect<IPersonLite>(\r\n  factory,\r\n  findPeople,\r\n  findPopularPeople,\r\n  result => (\r\n    <SearchOptionContent rank={result.popularity} avatar={getThumbUrl(result.profile_path)} name={result.name} />\r\n  ),\r\n  'people',\r\n  selectPersonTypeAhead,\r\n  searchParamName,\r\n  toPersonListPage(),\r\n  toPersonViewPage\r\n);\r\n\r\nexport const detailsAspect = createDetailsAspect<IPerson>(factory, getPerson, selectPersonDetails, usePersonId);\r\n","import React from 'react';\r\nimport SearchPure from '../../../../common/components/antd/Search';\r\nimport {typeAheadAspect} from '../../aspects';\r\n\r\nconst Search = () => {\r\n  const { dataSource, onSearch, cancel, onApply, value } = typeAheadAspect.useSearchInput();\r\n\r\n  return (\r\n    <SearchPure\r\n      onDropdownVisibleChange={opened => !opened && cancel()}\r\n      notFoundContent=\"No people found\"\r\n      value={value}\r\n      dataSource={dataSource}\r\n      onSearch={onSearch}\r\n      onSelect={onApply}\r\n      searchPrompt=\"Search for people...\"\r\n    />\r\n  );\r\n};\r\nexport default Search;\r\n","import {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\n\r\nexport default [typeAheadAspect.epics, detailsAspect.epics, listAspect.epics];\r\n","import {combineReducers} from 'redux';\r\nimport {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\nimport {IPeopleBrowser} from '../types/state';\r\n\r\nexport default combineReducers<IPeopleBrowser>({\r\n  typeAhead: typeAheadAspect.reducer,\r\n  details: detailsAspect.reducers,\r\n  list: listAspect.reducer\r\n});\r\n","import {toPersonListPage} from '../../routing';\r\nimport {Icon} from 'antd';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {listAspect} from '../../aspects';\r\n\r\nconst List = () => {\r\n  const searchValue = listAspect.useSearchValue();\r\n\r\n  return (\r\n    <>\r\n      <BreadcrumbItem>\r\n        <QueryLink to={toPersonListPage()} queryParams={{ [listAspect.searchParam]: undefined }}>\r\n          People\r\n        </QueryLink>\r\n      </BreadcrumbItem>\r\n      {searchValue && (\r\n        <BreadcrumbItem>\r\n          <QueryLink to={toPersonListPage()}>\r\n            <Icon type=\"search\" style={{ marginRight: 5 }} />\r\n            {searchValue}\r\n          </QueryLink>\r\n        </BreadcrumbItem>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","import {toPersonViewPage} from '../../routing';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {detailsAspect} from '../../aspects';\r\n\r\nconst List = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n  const personId = detailsAspect.useDetailsId();\r\n\r\n  return (\r\n    <BreadcrumbItem loading={loading}>\r\n      <QueryLink to={toPersonViewPage((personId || '').toString())}>{result && result.name}</QueryLink>\r\n    </BreadcrumbItem>\r\n  );\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","import {IPerson} from '../../../types/state';\r\nimport React, {FunctionComponent} from 'react';\r\nimport {getPosterUrl} from '../../../../../common/api';\r\nimport {Form, Icon, Typography} from 'antd';\r\nimport {FormProps} from 'antd/es/form';\r\nimport {formItemLayout} from '../../../../../common/layout-props';\r\nimport styled from 'styled-components';\r\nimport {ImageThumbnail} from '../../../../../common/components/ImageThumbnail';\r\nimport withFading from '../../../../../common/components/withFading';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport interface PersonViewPureProps extends FormProps {\r\n  entity?: IPerson;\r\n}\r\n\r\nconst PersonViewPure: FunctionComponent<PersonViewPureProps> = ({ entity, ...rest }) => {\r\n  const get = <X extends keyof IPerson>(field: X): IPerson[X] | undefined => entity && entity[field];\r\n\r\n  return (\r\n    <Form {...rest} labelAlign=\"left\" layout=\"horizontal\">\r\n      <Form.Item label=\"Popularity\" {...formItemLayout}>\r\n        <Icon type=\"like\" theme=\"filled\" /> {get('popularity')}\r\n      </Form.Item>\r\n      <Form.Item label=\"Birth\" {...formItemLayout}>\r\n        <Text>\r\n          {get('birthday')} in {get('place_of_birth')}\r\n        </Text>\r\n      </Form.Item>\r\n      {get('deathday') && (\r\n        <Form.Item label=\"Death\" {...formItemLayout}>\r\n          <Text>{get('deathday')}</Text>\r\n        </Form.Item>\r\n      )}\r\n      {get('profile_path') && (\r\n        <Form.Item label=\"Media\" {...formItemLayout}>\r\n          <ImageThumbnail src={getPosterUrl(get('profile_path'))} />\r\n        </Form.Item>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default withFading<PersonViewPureProps>(false)(styled(PersonViewPure)`\r\n  .ant-row {\r\n    margin: 0 0 4px;\r\n  }\r\n\r\n  img {\r\n    margin-top: 10px;\r\n    margin-right: 10px;\r\n  }\r\n`);\r\n","import {detailsAspect} from '../../../aspects';\r\nimport React from 'react';\r\nimport {Card} from 'antd';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\n\r\nexport const Bio = () => {\r\n  const { result, loading } = detailsAspect.useDetails();\r\n\r\n  return loading || !result ? (\r\n    <InlineSpinner />\r\n  ) : result!.biography ? (\r\n    <Card>{result!.biography}</Card>\r\n  ) : (\r\n    <>Biography not found</>\r\n  );\r\n};\r\n","import {detailsAspect} from '../../../aspects';\r\nimport {Avatar, Card, Icon, List} from 'antd';\r\nimport React, {HTMLProps} from 'react';\r\nimport {ICast, ICrew} from '../../../types/state';\r\nimport {getPosterUrl, getThumbUrl} from '../../../../../common/api';\r\nimport {QueryLink} from '../../../../../common/hooks/useHistoryPush';\r\nimport {toMovieViewPage} from '../../../../movie-browser/routing';\r\nimport _ from 'lodash';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {ImageThumbnail} from '../../../../../common/components/ImageThumbnail';\r\n\r\ninterface IconTextProps extends HTMLProps<HTMLDivElement> {\r\n  type: string;\r\n  text: string;\r\n}\r\n\r\nconst IconText = ({ type, text, ...rest }: IconTextProps) => (\r\n  <span {...rest}>\r\n    <Icon type={type} style={{ marginRight: 8 }} />\r\n    {text}\r\n  </span>\r\n);\r\nexport const Movies = () => {\r\n  const { result, loading } = detailsAspect.useDetails();\r\n\r\n  const movies = result ? [...result.movie_credits.cast, ...result.movie_credits.crew] : [];\r\n\r\n  return loading ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <Card>\r\n      <List\r\n        itemLayout=\"vertical\"\r\n        dataSource={movies}\r\n        renderItem={(cast: ICast & ICrew) => (\r\n          <List.Item\r\n            key={cast.id.toString()}\r\n            actions={[\r\n              <IconText type=\"like-o\" title=\"Popularity\" text={cast.popularity.toFixed(2)} />,\r\n              <IconText type=\"star-o\" title=\"Rank\" text={cast.vote_average.toFixed(2)} />,\r\n              <IconText type=\"clock-circle\" title=\"Release date\" text={cast.release_date} />\r\n            ]}\r\n            extra={<ImageThumbnail height={153} alt=\"logo\" src={getPosterUrl(cast.poster_path)} />}\r\n          >\r\n            <List.Item.Meta\r\n              avatar={<Avatar shape=\"square\" src={getThumbUrl(cast.backdrop_path)} />}\r\n              title={<QueryLink to={toMovieViewPage(cast.id.toString())}>{cast.title}</QueryLink>}\r\n              description={<>{_.compact([cast.department, cast.job]).join(', ')}</>}\r\n            />\r\n            {cast.overview}\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n","import {ContentLayout, DefaultPrimaryContent, DefaultSecondaryContent} from '../../../../../common/components/antd';\r\nimport React, {useMemo} from 'react';\r\nimport {Breadcrumb, Button, Tooltip, Typography} from 'antd';\r\nimport List from '../../breadcrumbs/List';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport View from '../../breadcrumbs/View';\r\nimport MovieViewPure from './PersonViewPure';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {detailsAspect} from '../../../aspects';\r\nimport {IPerson} from '../../../types/state';\r\nimport {Bio} from './Bio';\r\nimport {RoutedTabs} from '../../../../../common/components/antd/AppTabs';\r\nimport {toPersonMovies, toPersonViewPage, usePersonId} from '../../../routing';\r\nimport {useHistoryPush} from '../../../../../common/hooks/useHistoryPush';\r\nimport {Route, Switch} from 'react-router';\r\nimport {Movies} from './Movies';\r\nimport {IMenuItem} from '../../../../../common/misc/getSelectedPaths';\r\n\r\nconst MovieView = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  return <MovieViewPure loading={loading} entity={result} />;\r\n};\r\n\r\nconst Toolbar = () => {\r\n  const { result } = detailsAspect.useDetails();\r\n  const { homepage } = result || ({} as Partial<IPerson>);\r\n\r\n  return (\r\n    <>\r\n      {homepage && (\r\n        <Tooltip title=\"View person homepage\">\r\n          <a href={homepage} target=\"_blank\">\r\n            <Button icon=\"export\" />\r\n          </a>\r\n        </Tooltip>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst MovieTitle = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  const { name, also_known_as, known_for_department } = result || ({} as Partial<IPerson>);\r\n\r\n  return loading ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>\r\n      {name}{' '}\r\n      <small>\r\n        <em>\r\n          <Typography.Text type=\"secondary\">({known_for_department})</Typography.Text>\r\n        </em>\r\n      </small>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ConnectedTabs = () => {\r\n  const personId = String(usePersonId());\r\n  const historyPush = useHistoryPush();\r\n  const menuConfiguration = useMemo(\r\n    () =>\r\n      [\r\n        {\r\n          path: toPersonViewPage(personId),\r\n          label: 'Bio',\r\n          link: toPersonViewPage(personId),\r\n          icon: 'user',\r\n          exact: true\r\n        },\r\n        {\r\n          path: toPersonMovies(personId),\r\n          label: 'Movies',\r\n          link: toPersonMovies(personId),\r\n          icon: 'caret-right'\r\n        }\r\n      ] as IMenuItem[],\r\n    [personId]\r\n  );\r\n  return <RoutedTabs menuConfiguration={menuConfiguration} onMenuSelect={historyPush} />;\r\n};\r\n\r\nconst TabContent = () => {\r\n  const personId = String(usePersonId());\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={toPersonViewPage(personId)} exact component={Bio} />\r\n      <Route path={toPersonMovies(personId)} exact component={Movies} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default () => (\r\n  <>\r\n    <detailsAspect.DetailsFetcher />\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<MovieTitle />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n              <View />\r\n            </Breadcrumb>\r\n          }\r\n          content={<MovieView />}\r\n          tools={<Toolbar />}\r\n          tabs={<ConnectedTabs />}\r\n        />\r\n      }\r\n      secondaryContent={\r\n        <DefaultSecondaryContent>\r\n          <TabContent />\r\n        </DefaultSecondaryContent>\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import React from 'react';\nimport {ListChildComponentProps} from 'react-window';\nimport {toPersonViewPage} from '../../../routing';\nimport {Assign} from 'utility-types';\nimport DefaultListItem from '../../../../../common/components/antd/DefaultListItem';\nimport {getPosterUrl} from '../../../../../common/api';\nimport {IListItem, IListItems} from '../../../../../common/aspects/list/types';\nimport {IPersonLite} from '../../../types/state';\n\nexport function ListItem(props: Assign<ListChildComponentProps, { data: IListItems<IPersonLite> }>) {\n  const { index, style, data } = props;\n\n  const item = data[index] || ({ loading: true } as IListItem<IPersonLite>);\n\n  const result: IPersonLite = item.result || ({} as IPersonLite);\n  const loading = item.loading;\n\n  return (\n    <DefaultListItem\n      avatar={getPosterUrl(result.profile_path)}\n      style={style}\n      to={toPersonViewPage((result.id && result.id.toString()) || '')}\n      title={\n        <>\n          &#8203;{index + 1}. {result.name}\n        </>\n      }\n      popularity={loading ? '...' : result.popularity ? result.popularity.toFixed(2) : ''}\n    />\n  );\n}\n","import React from 'react';\r\nimport getVirtualList from '../../../../../common/components/VirtualList';\r\nimport {ListItem} from './ListItem';\r\nimport {IListItem} from '../../../../../common/aspects/list/types';\r\nimport {listAspect} from '../../../aspects';\r\nimport {IPersonLite} from '../../../types/state';\r\n\r\nconst List = getVirtualList<IListItem<IPersonLite> | undefined>();\r\n\r\nexport const PersonList = () => {\r\n  const { items, total, onItemsRendered } = listAspect.usePaginatedList();\r\n\r\n  return <List onItemsRendered={onItemsRendered} itemSize={69} row={ListItem} itemCount={total} itemData={items} />;\r\n};\r\n","import React from 'react';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {listAspect} from '../../../aspects';\r\n\r\nexport const Title = () => {\r\n  const { query, total } = listAspect.useListData();\r\n\r\n  return total === null ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>{query ? `Found ${total} people matching the criteria` : `Most popular people`}</>\r\n  );\r\n};\r\n","import {IPlugin} from '../../common/plugins';\r\nimport {Route} from 'react-router';\r\nimport {toPersonListPage, toPersonViewPage} from './routing';\r\nimport Search from './components/header/Search';\r\nimport React from 'react';\r\nimport epics from './state/epics';\r\nimport reducers from './state/reducers';\r\n\r\nimport viewPage from './components/pages/view';\r\nimport listPage from './components/pages/list';\r\n\r\nexport default {\r\n  routes: {\r\n    main: (\r\n      <>\r\n        <Route exact path={toPersonListPage()} render={listPage} />\r\n        <Route path={toPersonViewPage()} render={viewPage} />\r\n      </>\r\n    ),\r\n    header: (\r\n      <>\r\n        <Route path={toPersonListPage()}>\r\n          <Search />\r\n        </Route>\r\n      </>\r\n    )\r\n  },\r\n  epics,\r\n  reducers: {\r\n    peopleBrowser: reducers\r\n  }\r\n} as IPlugin;\r\n","import {ContentLayout, DefaultPrimaryContent, DefaultSecondaryContent} from '../../../../../common/components/antd';\r\nimport React from 'react';\r\nimport {Breadcrumb} from 'antd';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport List from '../../breadcrumbs/List';\r\nimport {PersonList} from './PersonList';\r\nimport {Title} from './Title';\r\n\r\nexport default () => (\r\n  <>\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<Title />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n            </Breadcrumb>\r\n          }\r\n        />\r\n      }\r\n      secondaryContent={\r\n        <DefaultSecondaryContent>\r\n          <PersonList />\r\n        </DefaultSecondaryContent>\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import {IPlugin} from '../common/plugins';\r\nimport movieBrowser from './movie-browser';\r\nimport peopleBrowser from './people-browser';\r\nimport core from './core';\r\n\r\nconst features: IPlugin[] = [core, movieBrowser, peopleBrowser];\r\nexport default features;\r\n","import {IPlugin} from '../../common/plugins';\r\nimport {Redirect, Route} from 'react-router';\r\nimport {toRootPage} from './routing';\r\nimport React from 'react';\r\nimport {toMovieListPage} from '../movie-browser/routing';\r\n\r\nexport default {\r\n  routes: {\r\n    main: (\r\n      <>\r\n        <Route exact path={toRootPage()} render={() => <Redirect to={toMovieListPage()} />} />\r\n      </>\r\n    )\r\n  }\r\n} as IPlugin;\r\n","export const toRootPage = ()=>'/';","import {toMovieListPage} from '../movie-browser/routing';\r\nimport {toPersonListPage} from '../people-browser/routing';\r\nimport {IMenuItem} from '../../common/misc/getSelectedPaths';\r\n\r\nexport const menuConfiguration = [\r\n    {\r\n        link: toMovieListPage(),\r\n        path: toMovieListPage(),\r\n        label: 'Movies',\r\n        icon: 'play-circle'\r\n    },\r\n    {\r\n        link: toPersonListPage(),\r\n        path: toPersonListPage(),\r\n        label: 'People',\r\n        icon: 'user'\r\n    }\r\n] as IMenuItem[];","import React, {cloneElement} from 'react';\nimport Switch from '../../../common/components/FlatteningSwitch';\nimport {App as AntApp, AppMenu, AppSider, DefaultAppLogo} from '../../../common/components/antd';\nimport DefaultAppHeader from '../../../common/components/antd/DefaultAppHeader';\nimport logo from '../../../common/components/antd/__stories__/AppSider.logo.png';\n\nimport _ from 'lodash';\nimport features from '../..';\nimport {menuConfiguration} from '../menu';\n\nconst App = () => (\n  <AntApp\n    sider={\n      <AppSider content={<AppMenu menuConfiguration={menuConfiguration} />} logo={<DefaultAppLogo logo={logo} />} />\n    }\n    header={\n      <DefaultAppHeader>\n        <Switch>\n          {_.compact(features.map(plugin => _.get(plugin, 'routes.header'))).map((routes, index) =>\n            cloneElement(routes, { key: index })\n          )}\n        </Switch>\n      </DefaultAppHeader>\n    }\n    content={\n      <Switch>\n        {_.compact(features.map(plugin => _.get(plugin, 'routes.main'))).map((routes, index) =>\n          cloneElement(routes, { key: index })\n        )}\n      </Switch>\n    }\n  />\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {FunctionComponent} from 'react';\r\nimport {Store} from 'redux';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {StoreContext} from 'redux-react-hook';\r\nimport {ThemeProvider} from 'styled-components';\r\nimport baseTheme from '../../../common/components/antd/app-theme';\r\n\r\ninterface RootProps {\r\n  store: Store;\r\n}\r\n\r\nconst Root: FunctionComponent<RootProps> = ({ store, children }) => (\r\n  <BrowserRouter basename=\"/imdb-hooks\">\r\n    <ThemeProvider theme={baseTheme}>\r\n      <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\r\n    </ThemeProvider>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default Root;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.min.css';\nimport App from './features/core/components/App';\nimport * as serviceWorker from './serviceWorker';\nimport createStore from './store';\nimport Root from './features/core/components/Root';\n\nconst store = createStore({});\n\nReactDOM.render(\n  <Root store={store}>\n    <App />\n  </Root>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {applyMiddleware, combineReducers, compose, createStore, Middleware, Reducer, StoreEnhancer} from 'redux';\nimport _ from 'lodash';\nimport {IState} from './common/types/state';\nimport {combineEpics, createEpicMiddleware} from 'redux-observable';\nimport features from './features';\nimport {IPlugin} from './common/plugins';\n\nexport const rootReducerFactory = (pluginArray: IPlugin[]): Reducer<IState> => {\n  const pluginReducers = pluginArray\n    .map(p => p.reducers)\n    .reduce(\n      (finalReducers, reducers) => ({ ...finalReducers, ...reducers }),\n      {}\n    ) as { [p: string]: Reducer };\n\n  return combineReducers(pluginReducers);\n};\n\nexport default (preloadedState: IState) => {\n  const epicMiddleware = createEpicMiddleware();\n\n  const middlewares: Middleware[] = [epicMiddleware];\n\n  const enhancers: StoreEnhancer[] = [applyMiddleware(...middlewares)];\n\n  const composeEnhancers =\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const store = createStore(\n    rootReducerFactory(features),\n    preloadedState,\n    composeEnhancers(...enhancers)\n  );\n\n  const epics = _.flatten(_.compact(features.map(p => p.epics)));\n  epicMiddleware.run(combineEpics(...epics));\n\n  return store;\n};\n"],"sourceRoot":""}