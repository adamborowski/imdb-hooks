{"version":3,"sources":["common/components/antd/__stories__/AppSider.logo.png","features/movie-browser/components/header/emptyAvatar.png","features/people-browser/components/header/emptyAvatar.png","common/components/FlatteningSwitch.js","common/components/antd/DefaultAppHeader.tsx","common/components/antd/withStyledScrollbar.tsx","common/components/antd/AppSider.tsx","common/components/antd/App.tsx","common/misc/getLocationDescriptionObject.tsx","common/hooks/routing.tsx","features/movie-browser/routing.ts","common/components/antd/Search.styled.ts","common/components/antd/Search.tsx","common/api.ts","features/movie-browser/services/movie-search.ts","features/movie-browser/state/selectors.ts","common/aspects/list/epics.ts","common/aspects/list/hooks.tsx","common/utils.ts","common/aspects/list/hooks/usePaginatedList.tsx","common/hooks/useHistoryPush.tsx","common/hooks/index.tsx","common/aspects/list/index.tsx","common/aspects/list/actions.ts","common/aspects/list/reducers.tsx","common/aspects/list/hooks/useYearInput.tsx","common/aspects/list/hooks/useListData.ts","common/aspects/typeahead/hooks/useSearchOptions.tsx","common/aspects/typeahead/index.ts","common/aspects/typeahead/actions.ts","common/aspects/typeahead/reducers.ts","common/aspects/typeahead/epics.ts","common/aspects/typeahead/hooks/useSearchInput.ts","features/movie-browser/components/header/SearchOptionContent.tsx","common/aspects/details/index.tsx","common/aspects/details/actions.ts","common/aspects/details/epics.ts","common/aspects/details/reducers.ts","common/aspects/details/hooks/useDetails.ts","common/aspects/details/components/DetailsFetcher.ts","features/movie-browser/aspects.tsx","features/movie-browser/components/header/Search.tsx","features/movie-browser/state/epics.tsx","features/movie-browser/state/reducers.ts","common/workarounds.tsx","common/components/InlineSpinner.tsx","common/components/antd/BreadcrumbItem.tsx","features/movie-browser/components/breadcrumbs/List.tsx","common/components/breadcrumbs/Home.tsx","features/movie-browser/components/breadcrumbs/View.tsx","common/layout-props.tsx","common/components/CountryTags.tsx","common/components/ImageThumbnail.tsx","common/components/withFading.tsx","features/movie-browser/components/pages/view/MovieViewPure.tsx","common/components/antd/ContentLayout.tsx","common/components/antd/layout.tsx","common/components/antd/DefaultPrimaryContent.tsx","common/components/antd/DefaultPrimaryContent.styled.ts","features/movie-browser/components/pages/view/index.tsx","common/getOptional.ts","common/components/VirtualList.tsx","common/components/antd/ListItem.tsx","common/withLink.tsx","common/components/antd/DefaultListItem.tsx","features/movie-browser/components/pages/list/ListItem.tsx","features/movie-browser/components/pages/list/MovieList.tsx","features/movie-browser/components/pages/list/Title.tsx","features/movie-browser/components/pages/list/YearInput.tsx","features/movie-browser/components/pages/list/Toolbar.tsx","common/components/antd/DefaultSecondaryContent.tsx","features/movie-browser/index.tsx","features/movie-browser/components/pages/list/index.tsx","features/people-browser/routing.ts","features/people-browser/services/people-search.ts","features/people-browser/state/selectors.ts","features/people-browser/components/header/SearchOptionContent.tsx","features/people-browser/aspects.tsx","features/people-browser/components/header/Search.tsx","features/people-browser/state/epics.tsx","features/people-browser/state/reducers.ts","features/people-browser/components/breadcrumbs/List.tsx","features/people-browser/components/breadcrumbs/View.tsx","features/people-browser/components/pages/view/PersonViewPure.tsx","features/people-browser/components/pages/view/Bio.tsx","common/misc/getSelectedPaths.tsx","common/components/antd/AppTabs.tsx","features/people-browser/components/pages/view/Movies.tsx","features/people-browser/components/pages/view/index.tsx","features/people-browser/components/pages/list/ListItem.tsx","features/people-browser/components/pages/list/PersonList.tsx","features/people-browser/components/pages/list/Title.tsx","features/people-browser/index.tsx","features/people-browser/components/pages/list/index.tsx","features/index.ts","features/core/index.tsx","features/core/routing.ts","features/core/menu.ts","common/components/antd/AppMenu.tsx","common/components/antd/withAppMenuRouted.tsx","common/components/antd/DefaultAppLogo.tsx","features/core/components/App.tsx","serviceWorker.ts","common/components/antd/app-theme.tsx","features/core/components/Root.tsx","index.tsx","store.ts"],"names":["module","exports","FragmentSupportingSwitch","_ref","flattenedChildren","flatten","target","children","React","Children","forEach","child","isValidElement","type","Fragment","props","push","createElement","apply","Object","toConsumableArray","Switch","concat","styled","div","_templateObject","defaultThemes","light","thumb","dark","withSublimeScrollbar","theme","arguments","length","undefined","actual","_","c","withStyledScrollbar_templateObject","Sider","Layout","Scroll","p","react","logo","content","rest","objectWithoutProperties","assign","trigger","collapsible","width","breakpoint","className","AppSider_templateObject","sider","header","modals","react_default","a","layout","id","App_templateObject","AppSider","getLocationDescriptionObject","to","pathname","useRouter","useContext","RouterContext","useQueryParams","router","useMemo","parse","location","search","useRouteParams","match","params","toMovieViewPage","chars","split","keys","map","x","focusKeys","Complete","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","ref","handleKeyEvent","char","e","current","focus","preventDefault","createRef","_this$props","onSearch","onSelect","searchPrompt","react_keyboard_event_handler_default","handleKeys","onKeyEvent","handleFocusableElements","auto_complete","tabIndex","dropdownClassName","dropdownMatchSelectWidth","dropdownStyle","size","style","placeholder","optionLabelProp","input","Component","defaultProps","memo","attrs","suppressClassNameWarning","Search_styled_templateObject","getApiUrl","path","stringify","objectSpread","api_key","process","getThumbUrl","getPosterUrl","yearMatcher","getReleaseYear","shiftPageNumber","response","page","findMovies","query","year","ajax","toString","primary_release_year","pipe","value","findPopularMovies","selectMovieBrowser","state","movieBrowser","createEpics","actions","findService","popularService","selectList","requestAllPages","pages","ensureAction","merge","requestAction","payload","getFetchPageAction","pageResponse","catchError","err","of","pageError","error","action$","state$","pagesToLoad$","filter","pageRangeEnsure","debounce","timer","mergeMap","data","items","pagesToLoad","range","startPage","stopPage","item","selectPageNeedsToBeLoaded$","pageRequest","race","skip","take","pageCancel","reset","createUseSetYear","queryParamName","setQP","history","omitBy","isNil","useSetQueryParams","defineProperty","optional","currentValue","defaultValue","selectPageOfRow","Math","floor","getDescriptor","currentQueryParams","queryParams","locationDescription","isEmpty","useHistoryPush","withQueryLink","InnerComponent","QueryLink","Link","createUseSearchValue","createUseGoToSearch","route","pushHistory","createListAspect","actionCreatorFactory","searchParam","yearParam","listRoute","createActions","reducer","mapPageOntoList","results","pageSize","newState","offset","movie","index","combineReducers","action","reduce","tmpState","Array","fill","loading","result","localIndex","total","total_results","createReducers","epics","useYear","parseInt","useSetYear","useSearchValue","useGoToSearch","useYearInput","setYear","searchValue","_useState","useState","_useState2","slicedToArray","setValue","displayedValue","useEffect","useDebounce","newYearValue","isNaN","Date","getFullYear","enabled","onChange","createUseYearInput","usePaginatedList","_useMappedState","useMappedState","_total","dispatch","useDispatch","start","stop","bounds","setBounds","onItemsRendered","useCallback","visibleStartIndex","visibleStopIndex","_map","max","min","_map2","firstPageToLoad","lastPageToLoad","createUsePaginatedList","useListData","createUseListData","OptGroup","Select","Option","createUseSearchOptions","renderOptionContent","subject","selectState","options","searchOption","actualValue","key","float","getSearchForSubjectOption","bestMatches","elements","slice","opacity","label","getBestMatchesOptions","compact","createTypeAheadAspect","itemRenderer","selectMovieTypeAhead","searchParamName","toViewPage","typeOccured","typeResponse","total_pages","isType","typeAction","responseAction","takeUntil","useSearchOptions","useSearchInput","defaultSearchValue","setSearchValue","displayedSearchValue","goToMovieSearch","historyPush","dataSource","onApply","cancel","createUseSearchInput","avatar","name","rank","es_avatar","shape","src","emptyAvatar","icon","toFixed","SearchOptionContent_templateObject","createDetailsAspect","getService","stateSelector","useDetailsId","fetch","fetchComplete","fetchError","fetchAction","reducers","useDetails","createUseDetails","DetailsFetcher","detailsId","createDetailsFetcher","factory","listAspect","list","typeAheadAspect","header_SearchOptionContent","vote_average","poster_path","title","release_date","typeAhead","detailsAspect","details","Search","_typeAheadAspect$useS","antd_Search","onDropdownVisibleChange","opened","notFoundContent","state_epics","fixBreadcrumb","component","__ANT_BREADCRUMB_ITEM","InlineSpinner","spin","position","margin","display","BreadcrumbItem","breadcrumb","Item","InlineSpinner_InlineSpinner","ListPure","marginRight","Home","react_router_dom","ViewPure","movieId","_detailsAspect$useDet","formItemLayout","labelCol","span","wrapperCol","CountryTags","countries","tag","color","StyledImage","img","ImageThumbnail_templateObject","ImageThumbnail","open","setOpen","close","height","onClick","modal","visible","onCancel","onOk","cancelButtonProps","okText","objectFit","FADED_CLASS_NAME_ACTIVE","FADED_CLASS_NAME","withFading","passLoadingProp","_class","_temp","WithFading","_React$Component","childrenProps","inherits","createClass","_ref2","classnames","getDerivedStateFromProps","nextProps","prevState","withFading_templateObject","Text","Typography","entity","get","field","poster","backdrop","es_form","labelAlign","typography","CountryTags_CountryTags","rate","allowHalf","count","disabled","ImageThumbnail_ImageThumbnail","MovieViewPure_templateObject","ContentLayout","secondaryContent","primaryContent","ContentLayout_templateObject","VBox","layout_templateObject","HBox","_templateObject2","Spacer","_templateObject3","withStyled","DefaultPrimaryContent_styled_templateObject","main","breadcrumbs","tools","tabs","MovieView","view_MovieViewPure","Toolbar","homepage","tooltip","href","es_button","MovieTitle","_detailsAspect$useDet3","original_title","fontWeight","getOptional","object","transform","FixedSizeListWithScrollbar","FixedSizeList","EnhancedVirtualList","withContentRect","contentRect","measureRef","row","itemSize","itemCount","itemData","padding","measure","overscanCount","VirtualList_templateObject","getVirtualList","ListItem","List","ListItem_templateObject","ListItemLink","innerRef","replace","react_router","Consumer","context","event","handleClick","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","DefaultListItem","description","tags","popularity","Meta","DefaultListItem_templateObject","antd_DefaultListItem","fontSize","vote_count","MovieListPure","MovieList_List","MovieList","_listAspect$usePagina","MovieList_MovieListPure","Title","_listAspect$useListDa","YearInput","_listAspect$useYearIn","input_number","YearInput_YearInput","DefaultSecondaryContent_templateObject","movie_browser","routes","exact","render","ContentLayout_ContentLayout","antd_DefaultPrimaryContent","Title_Title","breadcrumbs_List","Toolbar_Toolbar","DefaultSecondaryContent","MovieList_MovieList","view_MovieTitle","View","view_MovieView","view_Toolbar","header_Search","toPersonViewPage","usePersonId","toPersonMovies","findPeople","findPopularPeople","selectPeopleBrowser","peopleBrowser","header_SearchOptionContent_templateObject","components_header_SearchOptionContent","profile_path","append_to_response","people_browser_state_epics","List_ListPure","personId","View_ViewPure","PersonViewPure_Text","PersonViewPure_templateObject","Bio","biography","card","getSelectedPaths","menuItems","keyPrefix","m","link","matchPath","pick","childrenMatches","acc","paths","withRoutedTabs","menuConfiguration","onMenuSelect","menuNodes","es_tabs","TabPane","tab","selectedNodes","s","activeKey","activeMenuItem","find","RoutedTabs","Tabs","IconText","text","Movies","movies","movie_credits","cast","crew","itemLayout","renderItem","Movies_IconText","extra","alt","backdrop_path","department","job","join","overview","view_PersonViewPure","known_for_department","also_known_as","ConnectedTabs","String","TabContent","PersonList","PersonList_List","people_browser","list_Title_Title","components_breadcrumbs_List","PersonList_PersonList","aspects_detailsAspect","pages_view_MovieTitle","breadcrumbs_View","pages_view_MovieView","pages_view_Toolbar","view_ConnectedTabs","view_TabContent","components_header_Search","features","withAntdFix","renderer","createMenuNodes","menu","SubMenu","mode","selectedKeys","DefaultAppLogo_templateObject","App","antd_App","antd_AppSider","antd_AppMenu","antd_DefaultAppLogo","DefaultAppHeader","plugin","cloneElement","Boolean","window","hostname","baseTheme","palette","primaryColor","Root","store","basename","styled_components_browser_esm","index_es","Provider","preloadedState","epicMiddleware","createEpicMiddleware","middlewares","enhancers","applyMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","pluginArray","pluginReducers","finalReducers","rootReducerFactory","run","combineEpics","ReactDOM","components_Root","components_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9bfd490b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import React, {Fragment} from 'react';\nimport {Switch} from 'react-router-dom';\n\n// react-router doesn't have support for React fragments in <Switch />. This component\n// wraps react-router's <Switch /> so that it gets fragment support.\n//\n// https://github.com/ReactTraining/react-router/issues/5785\nexport default function FragmentSupportingSwitch({ children }) {\n  const flattenedChildren = [];\n  flatten(flattenedChildren, children);\n  return React.createElement(...[Switch, null].concat(flattenedChildren));\n}\n\nfunction flatten(target, children) {\n  React.Children.forEach(children, child => {\n    if (React.isValidElement(child)) {\n      if (child.type === Fragment) {\n        flatten(target, child.props.children);\n      } else {\n        target.push(child);\n      }\n    }\n  });\n}\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  height: 64px;\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  background: #ffffff;\r\n  padding-left: 12px;\r\n  padding-right: 12px;\r\n\r\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n  z-index: 3;\r\n\r\n  > *:not(:last-child) {\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\nimport {ComponentType} from 'react';\nimport * as _ from 'lodash';\n\nexport interface ScrollbarStyleConfiguration {\n  thumb: string;\n}\n\nexport type DefaultThemeNames = 'light' | 'dark';\n\nconst defaultThemes: { [key in DefaultThemeNames]: ScrollbarStyleConfiguration } = {\n  light: {\n    thumb: 'rgba(255,255,255,0.15)'\n  },\n  dark: {\n    thumb: 'rgba(0,0,0,0.15)'\n  }\n};\n\nconst withSublimeScrollbar = (theme: ScrollbarStyleConfiguration | DefaultThemeNames = 'light') => {\n  const actual: ScrollbarStyleConfiguration = _.isString(theme) ? defaultThemes[theme] : theme;\n\n  return <P extends object>(c: ComponentType<P>) =>\n    (styled(c)`\n      ::-webkit-scrollbar {\n        width: 22px;\n      }\n      ::-webkit-scrollbar-thumb {\n        border: 6px solid transparent;\n        border-radius: 30px;\n        background-clip: padding-box;\n        min-height: 30px;\n        background-color: ${actual.thumb};\n      }\n    ` as unknown) as ComponentType<P>;\n};\nexport default withSublimeScrollbar;\n","import styled from 'styled-components';\nimport {SiderProps} from 'antd/es/layout';\nimport * as React from 'react';\nimport {ComponentType, HTMLProps, ReactNode} from 'react';\nimport {Layout} from 'antd';\nimport withSublimeScrollbar from './withStyledScrollbar';\n\ninterface IProps extends SiderProps {\n  logo?: ReactNode;\n  content?: ReactNode;\n}\n\nconst { Sider } = Layout;\n\nconst Scroll = withSublimeScrollbar()((p: HTMLProps<HTMLDivElement>) => (\n  <div {...p} />\n));\n\nfunction AppSider(props: IProps) {\n  const { logo, content, ...rest } = props;\n\n  return (\n    <Sider\n      trigger={undefined}\n      collapsible\n      width={256}\n      breakpoint=\"md\"\n      {...rest}\n    >\n      <div className=\"sider-header\">{logo}</div>\n      <Scroll className=\"sider-content\">{content}</Scroll>\n    </Sider>\n  );\n}\nexport default styled(AppSider)`\n  box-shadow: 2px 0 6px rgba(0, 21, 41, 0.35);\n  color: #ffffff;\n  .ant-layout-sider-children {\n    display: flex;\n    flex-direction: column;\n  }\n  .sider-header {\n    height: 64px;\n    line-height: 64px;\n    background: #002140;\n    overflow: hidden;\n    flex-shrink: 0;\n  }\n  .sider-content {\n    overflow: auto;\n    flex-shrink: 1;\n  }\n` as ComponentType<IProps>;\n","import React, {ComponentType, FunctionComponent, ReactNode} from 'react';\nimport styled from 'styled-components';\nimport {Layout} from 'antd';\nimport {LayoutProps} from 'antd/es/layout';\nimport AppSider from './AppSider';\n\nexport interface AppProps extends Partial<LayoutProps> {\n  sider: ReactNode;\n  header: ReactNode;\n  content: ReactNode;\n  modals?: ReactNode;\n}\n\nconst AppPure: FunctionComponent<AppProps> = ({\n  sider,\n  header,\n  content,\n  modals,\n  ...rest\n}) => (\n  <Layout{...rest}>\n    {sider}\n    <Layout id=\"content-portal-container\">\n      {header}\n      {content}\n    </Layout>\n    {modals}\n  </Layout>\n);\n\nexport default styled(AppPure)`\n  height: 100vh;\n  #content-portal-container {\n    position: relative;\n  }\n  ${(AppSider as unknown) as string /* https://github.com/styled-components/webstorm-styled-components/issues/58 */} {\n    z-index: 10;\n  }\n` as ComponentType<AppProps>;\n","import {History, LocationDescriptorObject} from 'history';\r\n\r\nexport const getLocationDescriptionObject = (to: History.LocationDescriptor): LocationDescriptorObject =>\r\n    typeof to === 'string' ? {pathname: to} : to;","// @ts-ignore\nimport {__RouterContext as RouterContext, RouteComponentProps} from 'react-router-dom';\nimport {useContext, useMemo} from 'react';\nimport {parse, stringify} from 'querystringify';\nimport _ from 'lodash';\nimport {getLocationDescriptionObject} from '../misc/getLocationDescriptionObject';\n\nexport const useRouter = (): RouteComponentProps => useContext(RouterContext);\n\ntype QueryParams = { [key: string]: string };\n\nexport const useQueryParams = (): QueryParams => {\n  const router = useRouter();\n  return useMemo(() => parse(router.location.search) as QueryParams, [\n    router.location.search\n  ]);\n};\n\nexport const useRouteParams = () =>\n  useRouter().match.params as { [key: string]: string };\n\nexport const useSetQueryParams = () => {\n  const history = useRouter().history;\n\n  return (params: { [key: string]: string | undefined }) => {\n    history.push({\n      ...getLocationDescriptionObject(history.location),\n      search: stringify(\n        _.omitBy({ ...parse(history.location.search), ...params }, _.isNil)\n      )\n    });\n  };\n};\n","import {useRouteParams} from '../../common/hooks/routing';\r\n\r\nexport const toMovieListPage = () => '/movies';\r\nexport const toMovieViewPage = (id = ':id') => `${toMovieListPage()}/${id}`;\r\n\r\nexport const useMovieId = () => {\r\n  const params = useRouteParams();\r\n  return params.id ? parseInt(params.id) : undefined;\r\n};\r\n","import styled from 'styled-components';\nimport React from 'react';\n\nexport default <P>(c: React.ComponentType<P>) => styled(c).attrs(\n  // @ts-ignore\n  {\n    suppressClassNameWarning: true\n  }\n)`\n  .certain-category-search.ant-select-auto-complete\n    .ant-input-affix-wrapper\n    .ant-input-suffix {\n    right: 12px;\n  }\n\n  .ant-select-dropdown-menu-item-group-title {\n    color: #666;\n    font-weight: bold;\n  }\n\n  .ant-select-dropdown-menu-item-group {\n    border-bottom: 1px solid #f6f6f6;\n  }\n\n  .ant-select-dropdown-menu-item {\n    padding-left: 16px;\n  }\n\n  .ant-select-dropdown-menu-item.show-all {\n    text-align: center;\n    cursor: default;\n  }\n\n  .ant-select-dropdown-menu {\n    max-height: 75vh;\n  }\n\n  .certain-search-item-count {\n    position: absolute;\n    color: #999;\n    right: 16px;\n  }\n\n  .certain-category-search.ant-select-focused .certain-category-icon {\n    color: #108ee9;\n  }\n\n  .certain-category-icon {\n    color: #6e6e6e;\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n    font-size: 16px;\n  }\n\n  .search-context-item {\n    em {\n      color: #108ee9;\n      font-weight: bold;\n      font-style: normal;\n    }\n  }\n`;\n","import React, {Component, ComponentType, memo, ReactNode, RefObject} from 'react';\nimport {AutoComplete, Input} from 'antd';\nimport withStyled from './Search.styled';\nimport {AutoCompleteProps, DataSourceItemType} from 'antd/es/auto-complete';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport {Assign} from 'utility-types';\nimport {SelectValue} from 'antd/lib/select';\n\ntype IProps = Assign<\n  AutoCompleteProps,\n  {\n    dataSource: DataSourceItemType[];\n    onSearch?: (searchText: string) => void;\n    onSelect?: (value: SelectValue, option: Object) => any;\n    value?: string;\n    searchPrompt?: string;\n    notFoundContent: ReactNode;\n  }\n>;\n\nconst chars = 'abcdefghijklmnoprstuwxyz0123456789'.split('');\nconst keys = [...chars, ...chars.map(x => 'shift+' + x)];\nconst focusKeys = ['ctrl+f'];\n\nclass Complete extends Component<IProps> {\n  private ref: RefObject<AutoComplete>;\n  static defaultProps = { searchPrompt: 'Search...' };\n\n  constructor(props: IProps) {\n    super(props);\n    this.ref = React.createRef();\n  }\n\n  public render() {\n    const { className, onSearch, onSelect, searchPrompt, ...rest } = this.props;\n    return (\n      <>\n        <KeyboardEventHandler\n          handleKeys={keys}\n          onKeyEvent={this.handleKeyEvent}\n        />\n        <KeyboardEventHandler\n          handleKeys={focusKeys}\n          onKeyEvent={this.handleKeyEvent}\n          handleFocusableElements\n        />\n        <AutoComplete\n          tabIndex={0}\n          ref={this.ref}\n          className=\"certain-category-search\"\n          dropdownClassName={className}\n          dropdownMatchSelectWidth={false}\n          dropdownStyle={{ width: 300 }}\n          size=\"large\"\n          style={{ width: 500 }}\n          placeholder={searchPrompt}\n          optionLabelProp=\"value\"\n          onSearch={onSearch}\n          onSelect={onSelect}\n          {...rest}\n        >\n          <Input />\n        </AutoComplete>\n      </>\n    );\n  }\n\n  private handleKeyEvent = (char: string, e: KeyboardEvent) => {\n    if (this.ref.current) {\n      this.ref.current.focus();\n      e.preventDefault();\n    }\n  };\n}\n\nexport default memo(withStyled(Complete)) as ComponentType<IProps>;\n\n// todo move to hooks functional component\n","import {stringify} from 'querystring';\r\nimport {Observable} from 'rxjs';\r\n\r\n// due to https://github.com/omdbapi/OMDb-API/issues/37 http://www.omdbapi.com/ is not used!\r\nconst apiHost = 'https://api.themoviedb.org/3/';\r\n\r\nexport const getApiUrl = (path: string, params?: object) =>\r\n  `${apiHost}${path}?${stringify({\r\n    ...params,\r\n    api_key: process.env.REACT_APP_DB_API_KEY\r\n  })}`;\r\nexport const getThumbUrl = (id?: string) => id && 'https://image.tmdb.org/t/p/w45/' + id;\r\nexport const getPosterUrl = (id?: string) => id && 'https://image.tmdb.org/t/p/w500/' + id;\r\nexport const PAGE_SIZE = 20; // defined by TMDB;\r\n\r\nconst yearMatcher = /^\\d\\d\\d\\d/;\r\nexport const getReleaseYear = (date: string = '') => {\r\n  const match = date.match(yearMatcher);\r\n  return (match && match[0]) || '(no release info)';\r\n};\r\n\r\nexport interface ApiResponse<Data> {\r\n  page: number;\r\n  total_results: number;\r\n  total_pages: number;\r\n  results: Data[];\r\n}\r\n\r\nexport type FindService<Entity> = (query: string, page?: number, year?: number) => Observable<ApiResponse<Entity>>;\r\nexport type PopularService<Entity> = (page?: number) => Observable<ApiResponse<Entity>>;\r\nexport type GetService<Entity> = (id: number) => Observable<Entity>;\r\n","import {ApiResponse, FindService, getApiUrl, GetService, PopularService} from '../../../common/api';\r\nimport {ajax} from 'rxjs/ajax';\r\nimport {map} from 'rxjs/operators';\r\nimport {IMovie, IMovieLite} from '../types/state';\r\n\r\nconst shiftPageNumber = <T extends ApiResponse<any>>(response: T): T => {\r\n  return { ...response, page: response.page - 1 };\r\n};\r\n\r\nexport const findMovies: FindService<IMovieLite> = (query, page = 0, year) =>\r\n  ajax(\r\n    getApiUrl('search/movie', {\r\n      page: (page + 1).toString(),\r\n      query,\r\n      primary_release_year: year\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const findPopularMovies: PopularService<IMovieLite> = (page = 0) =>\r\n  ajax(\r\n    getApiUrl('movie/popular', {\r\n      page: (page + 1).toString()\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const getMovie: GetService<IMovie> = id =>\r\n  ajax(getApiUrl(`movie/${id}`, {})).pipe(map(value => shiftPageNumber(value.response)));\r\n","import {IMovieBrowser, IMovieLite} from '../types/state';\r\nimport {IState} from '../../../common/types/state';\r\nimport {ITypeAheadState} from '../../../common/aspects/typeahead/types';\r\n\r\nexport const selectMovieBrowser = (state: IState): IMovieBrowser => state.movieBrowser as IMovieBrowser;\r\n\r\nexport const selectMovieTypeAhead = (state: IState): ITypeAheadState<IMovieLite> => selectMovieBrowser(state).typeAhead;\r\nexport const selectMovieDetails = (state: IState) => selectMovieBrowser(state).details;\r\nexport const selectMovieList = (state: IState) => selectMovieBrowser(state).list;\r\n","import {Epic} from 'redux-observable';\r\nimport _ from 'lodash';\r\nimport {catchError, debounce, filter, map, mergeMap, skip, take} from 'rxjs/operators';\r\nimport {concat, merge, of, race, timer} from 'rxjs';\r\nimport {FindService, PAGE_SIZE, PopularService} from '../../api';\r\nimport {IListActions, IListItems, SelectList} from './types';\r\n\r\nexport const createEpics = <Entity extends object>(\r\n  actions: IListActions<Entity>,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>,\r\n  selectList: SelectList<Entity>\r\n): Epic => {\r\n  const selectPageNeedsToBeLoaded$ = (items: IListItems<Entity>, page: number) => {\r\n    const firstInPage = page * PAGE_SIZE;\r\n    const item = items[firstInPage];\r\n    return item === undefined || item.error !== undefined;\r\n  };\r\n\r\n  const getFetchPageAction = (requestAction: ReturnType<typeof actions.pageRangeEnsure>, page: number) =>\r\n    requestAction.payload.query\r\n      ? findService(requestAction.payload.query, page, requestAction.payload.year)\r\n      : popularService(page);\r\n\r\n  const requestAllPages = (pages: number[], ensureAction: ReturnType<typeof actions.pageRangeEnsure>) =>\r\n    merge(\r\n      ...pages.map(page =>\r\n        getFetchPageAction(ensureAction, page).pipe(\r\n          map(response => actions.pageResponse({ response })),\r\n          catchError(err => of(actions.pageError({ page, error: err })))\r\n        )\r\n      )\r\n    );\r\n\r\n  return (action$, state$) => {\r\n    const pagesToLoad$ = action$.pipe(filter(actions.pageRangeEnsure.match));\r\n\r\n    return pagesToLoad$.pipe(\r\n      debounce(() => timer(100)),\r\n      mergeMap(ensureAction => {\r\n        const data = selectList(state$.value).items;\r\n        const pagesToLoad = _.range(ensureAction.payload.startPage, ensureAction.payload.stopPage + 1, 1).filter(page =>\r\n          selectPageNeedsToBeLoaded$(data, page)\r\n        );\r\n        return concat(\r\n          of(actions.pageRequest({ pages: pagesToLoad })),\r\n          race(\r\n            requestAllPages(pagesToLoad, ensureAction),\r\n            pagesToLoad$.pipe(\r\n              skip(1), // fixme effectively disables cancellation, problem needs to be investigated before turning cancellation on back again\r\n              // maybe not use redux at all, just store some download cache info?\r\n              take(1),\r\n              map(() => actions.pageCancel({ pages: pagesToLoad }))\r\n            ),\r\n            action$.pipe(\r\n              filter(actions.reset.match),\r\n              take(1),\r\n              map(() => actions.pageCancel({ pages: pagesToLoad }))\r\n            )\r\n          )\r\n        );\r\n      })\r\n    );\r\n  };\r\n};\r\n","import {UseSetYear, UseYear} from './types';\r\nimport {useQueryParams, useSetQueryParams} from '../../hooks/routing';\r\n\r\nexport const createUseYear = (queryParamName: string): UseYear => () => {\r\n  const queryParams = useQueryParams();\r\n  return queryParams[queryParamName] ? parseInt(queryParams[queryParamName]) : undefined;\r\n};\r\n\r\nexport const createUseSetYear = (queryParamName: string): UseSetYear => () => {\r\n  const setQP = useSetQueryParams();\r\n  return (value?: number) => setQP({ [queryParamName]: value ? value.toString() : undefined });\r\n};\r\n","export const optional = <T extends any>(currentValue?: T, defaultValue?: T) => (currentValue === undefined ? defaultValue : currentValue);\r\n","import {IListActions, SelectList, UseYear} from '../types';\r\nimport {useDispatch, useMappedState} from 'redux-react-hook';\r\nimport {useCallback, useEffect, useState} from 'react';\r\nimport {useDebounce} from 'react-use';\r\nimport {PAGE_SIZE} from '../../../api';\r\nimport {UseValue} from '../../../types/hooks';\r\n\r\nconst selectPageOfRow = (page: number) => Math.floor(page / PAGE_SIZE);\r\nexport const createUsePaginatedList = <Entity extends object>(\r\n  actions: IListActions<Entity>,\r\n  useYear: UseYear,\r\n  useSearchValue: UseValue,\r\n  selectList: SelectList<Entity>\r\n) => () => {\r\n  const year = useYear();\r\n  const query = useSearchValue();\r\n  const { items, total: _total } = useMappedState(selectList);\r\n\r\n  const total = _total === null ? undefined : _total; // reducer can't return undefined, we need to translate that value\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.reset());\r\n  }, [query, year]);\r\n\r\n  const [bounds, setBounds] = useState<undefined | { start: number; stop: number }>({ start: 0, stop: 0 });\r\n  useDebounce(\r\n    () =>\r\n      bounds &&\r\n      dispatch(\r\n        actions.pageRangeEnsure({\r\n          query,\r\n          year,\r\n          startPage: bounds.start,\r\n          stopPage: bounds.stop\r\n        })\r\n      ),\r\n    100,\r\n    [query, year, bounds]\r\n  );\r\n\r\n  const onItemsRendered = useCallback(\r\n    ({ visibleStartIndex, visibleStopIndex }) => {\r\n      const fetchRowOverscan = 20;\r\n      const [firstPageToLoad, lastPageToLoad] = [\r\n        Math.max(0, visibleStartIndex - fetchRowOverscan),\r\n        Math.min((total || 1) - 1, visibleStopIndex + fetchRowOverscan)\r\n      ].map(selectPageOfRow);\r\n\r\n      setBounds({ start: firstPageToLoad, stop: lastPageToLoad });\r\n    },\r\n    [year, query, items]\r\n  );\r\n\r\n  return { onItemsRendered, items, total, query, year };\r\n};\r\n","import {LocationDescriptor} from 'history';\r\nimport {stringify} from 'querystring';\r\nimport _ from 'lodash';\r\nimport {Link, LinkProps} from 'react-router-dom';\r\nimport React, {ComponentType, FunctionComponent} from 'react';\r\nimport {getLocationDescriptionObject} from '../misc/getLocationDescriptionObject';\r\nimport {useQueryParams, useRouter} from './routing';\r\n\r\nexport const getDescriptor = (to: LocationDescriptor, currentQueryParams?: object, queryParams?: object) => {\r\n  const locationDescription = getLocationDescriptionObject(to);\r\n  return { ...locationDescription, search: stringify(_.omitBy({ ...currentQueryParams, ...queryParams }, _.isEmpty)) };\r\n};\r\n\r\nexport const useHistoryPush = () => {\r\n  const currentQueryParams = useQueryParams();\r\n  const history = useRouter().history;\r\n  return (to: LocationDescriptor, queryParams?: object) => {\r\n    history.push(getDescriptor(to, currentQueryParams, queryParams));\r\n  };\r\n};\r\n\r\ninterface EnhanceProps {\r\n  queryParams?: object;\r\n}\r\ninterface PassProps {\r\n  to: LinkProps['to'];\r\n}\r\n\r\nexport interface QueryLinkProps extends EnhanceProps, PassProps {}\r\n\r\nexport const withQueryLink = <P extends PassProps>(\r\n  InnerComponent: ComponentType<P>\r\n): FunctionComponent<QueryLinkProps> => props => {\r\n  const currentQueryParams = useQueryParams();\r\n  const { to, queryParams, ...rest } = props as QueryLinkProps;\r\n\r\n  return <InnerComponent to={getDescriptor(to, currentQueryParams, queryParams)} {...rest as P} />;\r\n};\r\n\r\nexport const QueryLink = withQueryLink(Link);\r\n","import {useHistoryPush} from './useHistoryPush';\r\nimport {UseSetValue, UseValue} from '../types/hooks';\r\nimport {useQueryParams} from './routing';\r\n\r\nexport const createUseSearchValue = (queryParamName: string): UseValue => () => useQueryParams()[queryParamName];\r\nexport const createUseGoToSearch = (route: string, queryParamName: string): UseSetValue => () => {\r\n  const pushHistory = useHistoryPush();\r\n  return (value?: string) => pushHistory(route, { [queryParamName]: value });\r\n};\r\n","import {createActions} from './actions';\r\nimport {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {createReducers} from './reducers';\r\nimport {createEpics} from './epics';\r\nimport {SelectList} from './types';\r\nimport {createUseSetYear, createUseYear} from './hooks';\r\nimport {createUseYearInput} from './hooks/useYearInput';\r\nimport {createUsePaginatedList} from './hooks/usePaginatedList';\r\nimport {FindService, PopularService} from '../../api';\r\nimport {createUseGoToSearch, createUseSearchValue} from '../../hooks';\r\nimport {createUseListData} from './hooks/useListData';\r\n\r\nexport const createListAspect = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>,\r\n  selectList: SelectList<Entity>,\r\n  searchParam: string,\r\n  yearParam: string,\r\n  listRoute: string\r\n) => {\r\n  const actions = createActions<Entity>(actionCreatorFactory);\r\n  const reducer = createReducers(actions);\r\n  const epics = createEpics(actions, findService, popularService, selectList);\r\n  const useYear = createUseYear(yearParam);\r\n  const useSetYear = createUseSetYear(yearParam);\r\n  const useSearchValue = createUseSearchValue(searchParam);\r\n  const useGoToSearch = createUseGoToSearch(listRoute, searchParam);\r\n  const useYearInput = createUseYearInput(useYear, useSetYear, useSearchValue);\r\n  const usePaginatedList = createUsePaginatedList(actions, useYear, useSearchValue, selectList);\r\n  const useListData = createUseListData(actions, useSearchValue, selectList);\r\n\r\n  return {\r\n    actions,\r\n    reducer,\r\n    epics,\r\n    useYear,\r\n    useSetYear,\r\n    useSearchValue,\r\n    useGoToSearch,\r\n    useYearInput,\r\n    usePaginatedList,\r\n    useListData,\r\n    searchParam\r\n  };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {IListActions} from './types';\r\n\r\nexport const createActions = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory\r\n): IListActions<Entity> => ({\r\n    reset: actionCreatorFactory('LIST_RESET'),\r\n    pageRangeEnsure: actionCreatorFactory('LIST_PAGE_DISPLAYED'),\r\n    pageRequest: actionCreatorFactory('LIST_PAGE_REQUEST'),\r\n    pageCancel: actionCreatorFactory('LIST_PAGE_CANCEL'),\r\n    pageResponse: actionCreatorFactory('LIST_PAGE_RESPONSE'),\r\n    pageError: actionCreatorFactory('LIST_PAGE_ERROR')\r\n});\r\n","import {IList, IListActions, IListItems} from './types';\r\nimport {combineReducers, Reducer} from 'redux';\r\nimport {PAGE_SIZE} from '../../api';\r\n\r\nexport const createReducers = <Entity extends object>(actions: IListActions<Entity>) => {\r\n  const total: Reducer<number | null> = (state = null, action) => {\r\n    if (actions.pageResponse.match(action)) {\r\n      return action.payload.response.total_results;\r\n    }\r\n    if (actions.reset.match(action)) {\r\n      return null;\r\n    }\r\n    return state;\r\n  };\r\n\r\n  const mapPageOntoList = <T extends any, U extends any>(\r\n    state: U[],\r\n    page: number,\r\n    results: T[],\r\n    map: (item: T, index: number, localIndex: number, oldItem: U) => U,\r\n    pageSize: number = PAGE_SIZE\r\n  ) => {\r\n    const newState = [...state];\r\n    const offset = page * pageSize;\r\n    results.forEach(\r\n      (movie, index) => (newState[index + offset] = map(movie, index + offset, index, newState[index + offset]))\r\n    );\r\n    return newState;\r\n  };\r\n\r\n  const items: Reducer<IListItems<Entity>> = (state: IListItems<Entity> = [], action) => {\r\n    if (actions.pageRequest.match(action)) {\r\n      return action.payload.pages.reduce(\r\n        (tmpState, page) =>\r\n          mapPageOntoList(tmpState, page, new Array(PAGE_SIZE).fill(undefined), () => ({\r\n            loading: true,\r\n            error: undefined,\r\n            result: undefined\r\n          })),\r\n        state\r\n      );\r\n    }\r\n    if (actions.pageCancel.match(action)) {\r\n      return action.payload.pages.reduce(\r\n        (tmpState, page) =>\r\n          mapPageOntoList(tmpState, page, new Array(PAGE_SIZE).fill(undefined), (result, index, localIndex, item) =>\r\n            item && item.loading ? undefined : item\r\n          ),\r\n        state\r\n      );\r\n    }\r\n\r\n    if (actions.pageResponse.match(action)) {\r\n      return mapPageOntoList(state, action.payload.response.page, action.payload.response.results, item => ({\r\n        loading: false,\r\n        error: undefined,\r\n        result: item\r\n      }));\r\n    }\r\n    if (actions.pageError.match(action)) {\r\n      return mapPageOntoList(state, action.payload.page, new Array(PAGE_SIZE).fill(undefined), () => ({\r\n        loading: false,\r\n        error: action.payload.error,\r\n        result: undefined\r\n      }));\r\n    }\r\n    if (actions.reset.match(action)) {\r\n      return [];\r\n    }\r\n    return state;\r\n  };\r\n\r\n  return combineReducers<IList<Entity>>({ items, total });\r\n};\r\n","import React, {useEffect, useState} from 'react';\r\nimport {optional} from '../../../utils';\r\nimport {useDebounce} from 'react-use';\r\nimport {UseSetYear, UseYear} from '../types';\r\nimport {UseValue} from '../../../types/hooks';\r\n\r\nexport const createUseYearInput = (useYear: UseYear, useSetYear: UseSetYear, useSearchValue: UseValue) => {\r\n  return () => {\r\n    const year = useYear();\r\n    const setYear = useSetYear();\r\n    const searchValue = useSearchValue();\r\n\r\n    const [value, setValue] = useState<string | undefined>(undefined);\r\n\r\n    const displayedValue = optional(value, year === undefined ? year : year.toString());\r\n\r\n    useEffect(() => {\r\n      setValue(year === undefined ? year : year.toString());\r\n    }, [year]);\r\n\r\n    useDebounce(\r\n      () => {\r\n        if (displayedValue === undefined || displayedValue === '') {\r\n          setYear(undefined);\r\n        } else {\r\n          const newYearValue = parseInt(displayedValue);\r\n          if (!isNaN(newYearValue) && newYearValue <= new Date().getFullYear() && newYearValue > 0) {\r\n            setYear(newYearValue);\r\n          }\r\n        }\r\n      },\r\n      400,\r\n      [value]\r\n    );\r\n\r\n    return { enabled: !!searchValue, value: displayedValue as any, onChange: (value: any) => setValue(value as any) };\r\n  };\r\n};\r\n","import {IListActions, SelectList} from '../types';\r\nimport {useMappedState} from 'redux-react-hook';\r\nimport {UseValue} from '../../../types/hooks';\r\n\r\nexport const createUseListData = <Entity extends object>(\r\n  action: IListActions<Entity>,\r\n  useSearchValue: UseValue,\r\n  selectList: SelectList<Entity>\r\n) => () => {\r\n  const query = useSearchValue();\r\n  const { total, items } = useMappedState(selectList);\r\n  return { total, items, query };\r\n};\r\n","import React from 'react';\r\nimport {useMappedState} from 'redux-react-hook';\r\nimport {Select} from 'antd';\r\nimport {ApiResponse} from '../../../api';\r\nimport _ from 'lodash';\r\nimport {DataSourceItemType} from 'antd/es/auto-complete';\r\nimport {optional} from '../../../utils';\r\nimport {ItemRenderer, SelectTypeAheadState} from '../types';\r\n\r\nconst { OptGroup, Option } = Select;\r\n\r\nexport const createUseSearchOptions = <Entity extends { id: number }>(\r\n  renderOptionContent: ItemRenderer<Entity>,\r\n  subject: string,\r\n  selectState: SelectTypeAheadState<Entity>\r\n) => {\r\n  const getSearchForSubjectOption = (\r\n    currentValue: string | undefined,\r\n    defaultValue: string | undefined,\r\n    total: number,\r\n    loading: boolean\r\n  ) => {\r\n    const actualValue = optional(currentValue, defaultValue);\r\n\r\n    return (\r\n      <Option key=\"_go_to_search\">\r\n        {actualValue ? (\r\n          <>\r\n            Search for \"\r\n            <em>\r\n              <strong>{actualValue}</strong>\r\n            </em>\r\n            \" in all {subject}\r\n          </>\r\n        ) : (\r\n          <>See most popular {subject}</>\r\n        )}\r\n        {!loading && <i style={{ float: 'right' }}>found {total}</i>}\r\n      </Option>\r\n    );\r\n  };\r\n\r\n  const getBestMatchesOptions = <T extends any>(options: ApiResponse<Entity>, loading: boolean) => {\r\n    const elements = options.results.slice(0, 5).map(result => (\r\n      <Option style={loading ? { opacity: 0.5 } : {}} value={result.id.toString()} key={result.id}>\r\n        {renderOptionContent(result)}\r\n      </Option>\r\n    ));\r\n    if (elements.length) {\r\n      return <OptGroup key=\"best_matches\" label=\"Best matches:\" children={elements} />;\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  return (\r\n    value: string | undefined, // '' means 'search nothing', undefined means get value from URL\r\n    defaultValue: string | undefined\r\n  ): DataSourceItemType[] => {\r\n    const { options, loading } = useMappedState(selectState);\r\n    const searchOption = getSearchForSubjectOption(value, defaultValue, options.total_results, loading);\r\n    const bestMatches = getBestMatchesOptions(options, loading);\r\n    return _.compact([searchOption, bestMatches]);\r\n  };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {createActions} from './actions';\r\nimport {createReducers} from './reducers';\r\nimport {createEpics} from './epics';\r\nimport {FindService, PopularService} from '../../api';\r\nimport {createUseSearchOptions} from './hooks/useSearchOptions';\r\nimport {ItemRenderer, SelectTypeAheadState, ToViewPage} from './types';\r\nimport {createUseSearchInput} from './hooks/useSearchInput';\r\nimport {createUseGoToSearch, createUseSearchValue} from '../../hooks';\r\n\r\nexport const createTypeAheadAspect = <Entity extends { id: number }>(\r\n  actionCreatorFactory: ActionCreatorFactory,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>,\r\n  itemRenderer: ItemRenderer<Entity>,\r\n  subject: string,\r\n  selectMovieTypeAhead: SelectTypeAheadState<Entity>,\r\n  searchParamName: string,\r\n  listRoute: string,\r\n  toViewPage: ToViewPage\r\n) => {\r\n  const actions = createActions<Entity>(actionCreatorFactory);\r\n  const reducer = createReducers(actions);\r\n  const epics = createEpics(actions, findService, popularService);\r\n  const useSearchOptions = createUseSearchOptions(itemRenderer, subject, selectMovieTypeAhead);\r\n  const useSearchValue = createUseSearchValue(searchParamName);\r\n  const useSearchInput = createUseSearchInput(\r\n    actions,\r\n    useSearchValue,\r\n    createUseGoToSearch(listRoute, searchParamName),\r\n    useSearchOptions,\r\n    toViewPage,\r\n    searchParamName\r\n  );\r\n  return {\r\n    actions,\r\n    reducer,\r\n    epics,\r\n    useSearchOptions,\r\n    useSearchInput\r\n  };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {ITypeAheadActions} from './types';\r\n\r\nexport const createActions = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory\r\n): ITypeAheadActions<Entity> => ({\r\n  typeOccured: actionCreatorFactory('SEARCH_TYPE'),\r\n  typeResponse: actionCreatorFactory('SEARCH_TYPE_RESPONSE')\r\n});\r\n","import {combineReducers, Reducer} from 'redux';\r\nimport {ApiResponse} from '../../api';\r\nimport {isType} from 'typescript-fsa';\r\nimport {ITypeAheadActions, ITypeAheadState} from './types';\r\n\r\nexport const createReducers = <Entity extends object>(actions: ITypeAheadActions<Entity>) => {\r\n  const options: Reducer<ApiResponse<Entity>> = (\r\n    state = { results: [], page: 0, total_pages: 0, total_results: 0 },\r\n    action\r\n  ) => {\r\n    if (isType(action, actions.typeResponse)) {\r\n      return { ...state, ...action.payload.value };\r\n    }\r\n    return state;\r\n  };\r\n\r\n  const loading: Reducer<boolean> = (state = false, action) => {\r\n    if (isType(action, actions.typeOccured)) {\r\n      return true;\r\n    }\r\n    if (isType(action, actions.typeResponse)) {\r\n      return false;\r\n    }\r\n    return state;\r\n  };\r\n\r\n  return combineReducers<ITypeAheadState<Entity>>({\r\n    options,\r\n    loading\r\n  });\r\n};\r\n","import {FindService, PopularService} from '../../api';\r\nimport {Epic} from 'redux-observable';\r\nimport {ITypeAheadActions} from './types';\r\nimport {debounce, filter, map, mergeMap, takeUntil} from 'rxjs/operators';\r\nimport {timer} from 'rxjs';\r\n\r\nexport const createEpics = <Entity extends object>(\r\n  actions: ITypeAheadActions<Entity>,\r\n  findService: FindService<Entity>,\r\n  popularService: PopularService<Entity>\r\n): Epic => {\r\n  return (action$) =>\r\n    action$.pipe(\r\n      filter(actions.typeOccured.match),\r\n      debounce(value => timer(value.payload.value === '' ? 0 : 200)),\r\n      mergeMap(typeAction =>\r\n        (!typeAction.payload.value ? popularService() : findService(typeAction.payload.value, 0)).pipe(\r\n          map(responseAction => actions.typeResponse({ value: responseAction })),\r\n          takeUntil(action$.pipe(filter(actions.typeOccured.match)))\r\n        )\r\n      )\r\n    );\r\n};\r\n","import {useCallback, useEffect, useState} from 'react';\r\nimport {optional} from '../../../utils';\r\nimport {useDispatch} from 'redux-react-hook';\r\nimport {useHistoryPush} from '../../../hooks/useHistoryPush';\r\nimport {SelectValue} from 'antd/es/select';\r\nimport {ITypeAheadActions, ToViewPage, UseSearchOptions} from '../types';\r\nimport {UseSetValue, UseValue} from '../../../types/hooks';\r\n\r\nexport const createUseSearchInput = <Entity extends object>(\r\n  actions: ITypeAheadActions<Entity>,\r\n  useSearchValue: UseValue,\r\n  useGoToSearch: UseSetValue,\r\n  useSearchOptions: UseSearchOptions,\r\n  toViewPage: ToViewPage,\r\n  searchParamName: string\r\n) => () => {\r\n  const defaultSearchValue = useSearchValue();\r\n  const [searchValue, setSearchValue] = useState<string | undefined>(undefined);\r\n\r\n  const displayedSearchValue = optional(searchValue, defaultSearchValue);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.typeOccured({ value: defaultSearchValue }));\r\n  }, [defaultSearchValue]);\r\n\r\n  const goToMovieSearch = useGoToSearch();\r\n  const historyPush = useHistoryPush();\r\n\r\n  const dataSource = useSearchOptions(searchValue, defaultSearchValue);\r\n\r\n  const onApply = useCallback(\r\n    (key: SelectValue) => {\r\n      if (key === '_go_to_search') {\r\n        goToMovieSearch(displayedSearchValue);\r\n        setSearchValue(undefined);\r\n      } else {\r\n        historyPush(toViewPage(key.toString()), { [searchParamName]: displayedSearchValue });\r\n      }\r\n    },\r\n    [searchValue]\r\n  );\r\n\r\n  const onSearch = useCallback((key: SelectValue) => {\r\n    dispatch(actions.typeOccured({ value: key.toString() }));\r\n    setSearchValue(key.toString());\r\n  }, []);\r\n  const cancel = useCallback(() => {\r\n    setSearchValue(undefined);\r\n    dispatch(actions.typeOccured({ value: defaultSearchValue }));\r\n  }, [defaultSearchValue]);\r\n  return { dataSource, onSearch, onApply, cancel, value: displayedSearchValue };\r\n};\r\n","import React, {ComponentType, FunctionComponent, memo} from 'react';\r\nimport {Avatar, Icon} from 'antd';\r\nimport styled from 'styled-components';\r\nimport emptyAvatar from './emptyAvatar.png';\r\n\r\nexport interface SearchOptionProps {\r\n  avatar?: string;\r\n  name: string;\r\n  rank: number;\r\n  year: string;\r\n}\r\n\r\nconst SearchOptionContent: FunctionComponent<SearchOptionProps> = ({ avatar, name, rank, year, ...rest }) => (\r\n  <div {...rest}>\r\n    <Avatar shape=\"square\" src={avatar || emptyAvatar} />\r\n    {name}\r\n    <span className=\"rate\">\r\n      {year}\r\n      <Icon type=\"star\" theme=\"filled\" />\r\n      {rank.toFixed(1)}\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default memo(styled(SearchOptionContent)`\r\n  vertical-align: middle;\r\n  line-height: 30px;\r\n  .ant-avatar {\r\n    margin-right: 10px;\r\n    img {\r\n      object-fit: cover;\r\n    }\r\n  }\r\n  .rate {\r\n    float: right;\r\n    font-size: 15px;\r\n    svg {\r\n      margin: 0 4px;\r\n      color: #ffcc33;\r\n    }\r\n  }\r\n`) as ComponentType<SearchOptionProps>;\r\n","import {createActions} from './actions';\r\nimport {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {createEpics} from './epics';\r\nimport {GetService} from '../../api';\r\nimport {createReducers} from './reducers';\r\nimport {createUseDetails} from './hooks/useDetails';\r\nimport {SelectDetailsState} from './types';\r\nimport {createDetailsFetcher} from './components/DetailsFetcher';\r\nimport {UseValue} from '../../types/hooks';\r\n\r\nexport const createDetailsAspect = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory,\r\n  getService: GetService<Entity>,\r\n  stateSelector: SelectDetailsState<Entity>,\r\n  useDetailsId: UseValue<number>\r\n) => {\r\n  const actions = createActions<Entity>(actionCreatorFactory);\r\n  const epics = createEpics<Entity>(actions, getService);\r\n  const reducers = createReducers<Entity>(actions);\r\n\r\n  const useDetails = createUseDetails(stateSelector);\r\n\r\n  const DetailsFetcher = createDetailsFetcher(actions, useDetailsId);\r\n\r\n  return { actions, epics, reducers, useDetails, DetailsFetcher, useDetailsId };\r\n};\r\n","import {ActionCreatorFactory} from 'typescript-fsa';\r\nimport {IDetailsActions} from './types';\r\n\r\nexport const createActions = <Entity extends object>(\r\n  actionCreatorFactory: ActionCreatorFactory\r\n): IDetailsActions<Entity> => ({\r\n  fetch: actionCreatorFactory('DETAILS_FETCH'),\r\n  fetchComplete: actionCreatorFactory('DETAILS_FETCH_COMPLETE'),\r\n  fetchError: actionCreatorFactory('DETAILS_FETCH_ERROR')\r\n});\r\n","import {GetService} from '../../api';\r\nimport {Epic} from 'redux-observable';\r\nimport {catchError, filter, map, mergeMap, takeUntil} from 'rxjs/operators';\r\nimport {of} from 'rxjs';\r\nimport {IDetailsActions} from './types';\r\n\r\nexport const createEpics = <Entity extends object>(\r\n  actions: IDetailsActions<Entity>,\r\n  getService: GetService<Entity>\r\n): Epic => action$ =>\r\n  action$.pipe(\r\n    filter(actions.fetch.match),\r\n    mergeMap(fetchAction =>\r\n      getService(fetchAction.payload.id).pipe(\r\n        map(response => actions.fetchComplete({ result: response })),\r\n        catchError(err => of(actions.fetchError(err))),\r\n        takeUntil(action$.pipe(filter(actions.fetch.match)))\r\n      )\r\n    )\r\n  );\r\n","import {Reducer} from 'redux';\r\nimport {IDetailsActions, IDetailsState} from './types';\r\n\r\nexport const createReducers = <Entity extends object>(\r\n  actions: IDetailsActions<Entity>\r\n): Reducer<IDetailsState<Entity>> => (state = { loading: false }, action) => {\r\n  if (actions.fetch.match(action)) {\r\n    return { loading: true, error: undefined, result: undefined };\r\n  }\r\n  if (actions.fetchComplete.match(action)) {\r\n    return { loading: false, error: undefined, result: action.payload.result };\r\n  }\r\n  return state;\r\n};\r\n","import {SelectDetailsState} from '../types';\r\nimport {useMappedState} from 'redux-react-hook';\r\n\r\nexport const createUseDetails = <Entity extends object>(stateSelector: SelectDetailsState<Entity>) => () =>\r\n  useMappedState(stateSelector);\r\n","import {useDispatch} from 'redux-react-hook';\r\nimport {FunctionComponent, useEffect} from 'react';\r\nimport {UseValue} from '../../../types/hooks';\r\nimport {IDetailsActions} from '../types';\r\n\r\nexport const createDetailsFetcher = <Entity extends object>(\r\n  actions: IDetailsActions<Entity>,\r\n  useDetailsId: UseValue<number>\r\n): FunctionComponent => () => {\r\n  const detailsId = useDetailsId();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    detailsId && dispatch(actions.fetch({ id: detailsId }));\r\n  }, [detailsId]);\r\n\r\n  return null;\r\n};\r\n","import actionCreatorFactory from 'typescript-fsa';\r\nimport {findMovies, findPopularMovies, getMovie} from './services/movie-search';\r\nimport {selectMovieDetails, selectMovieList, selectMovieTypeAhead} from './state/selectors';\r\nimport {createListAspect} from '../../common/aspects/list';\r\nimport {toMovieListPage, toMovieViewPage, useMovieId} from './routing';\r\nimport {createTypeAheadAspect} from '../../common/aspects/typeahead';\r\nimport {IMovie, IMovieLite} from './types/state';\r\nimport SearchOptionContent from './components/header/SearchOptionContent';\r\nimport React from 'react';\r\nimport {getReleaseYear, getThumbUrl} from '../../common/api';\r\nimport {createDetailsAspect} from '../../common/aspects/details';\r\n\r\nconst factory = actionCreatorFactory('movie-list');\r\n\r\nconst searchParamName = 'mQuery';\r\nexport const listAspect = createListAspect(\r\n  factory,\r\n  findMovies,\r\n  findPopularMovies,\r\n  selectMovieList,\r\n  searchParamName,\r\n  'mYear',\r\n  toMovieListPage()\r\n);\r\n\r\nexport const typeAheadAspect = createTypeAheadAspect<IMovieLite>(\r\n  factory,\r\n  findMovies,\r\n  findPopularMovies,\r\n  result => (\r\n    <SearchOptionContent\r\n      rank={result.vote_average}\r\n      avatar={getThumbUrl(result.poster_path)}\r\n      name={result.title}\r\n      year={getReleaseYear(result.release_date)}\r\n    />\r\n  ),\r\n  'movies',\r\n  selectMovieTypeAhead,\r\n  searchParamName,\r\n  toMovieListPage(),\r\n  toMovieViewPage\r\n);\r\n\r\nexport const detailsAspect = createDetailsAspect<IMovie>(factory, getMovie, selectMovieDetails, useMovieId);\r\n","import React from 'react';\r\nimport SearchPure from '../../../../common/components/antd/Search';\r\nimport {typeAheadAspect} from '../../aspects';\r\n\r\nconst Search = () => {\r\n  const { dataSource, onSearch, cancel, onApply, value } = typeAheadAspect.useSearchInput();\r\n\r\n  return (\r\n    <SearchPure\r\n      onDropdownVisibleChange={opened => !opened && cancel()}\r\n      notFoundContent=\"No movies found\"\r\n      value={value}\r\n      dataSource={dataSource}\r\n      onSearch={onSearch}\r\n      onSelect={onApply}\r\n      searchPrompt=\"Search for movies...\"\r\n    />\r\n  );\r\n};\r\nexport default Search;\r\n","import {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\n\r\nexport default [typeAheadAspect.epics, detailsAspect.epics, listAspect.epics];\r\n","import {combineReducers} from 'redux';\r\nimport {IMovieBrowser} from '../types/state';\r\nimport {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\n\r\nexport default combineReducers<IMovieBrowser>({\r\n  typeAhead: typeAheadAspect.reducer,\r\n  details: detailsAspect.reducers,\r\n  list: listAspect.reducer\r\n});\r\n","import React, {ComponentType} from 'react';\n\nexport function fixBreadcrumb<T>(component: T): T {\n  (component as any).__ANT_BREADCRUMB_ITEM = true; // fix for 'Breadcrumb only accepts Breadcrumb.Item as it\\'s children' error\n  return component;\n}\n\n/**\n * As we can't use React hooks in Storybook render method, we have a factory function which we pass function component.\n * It will create a render function rendering this component.\n * @param Component\n */\nexport const renderComponent = (Component: ComponentType) => () => (\n  <Component />\n);\n","import {Spin} from 'antd';\nimport React from 'react';\n\nexport const InlineSpinner = () => (\n  <>\n    <Spin size=\"small\" style={{ position: 'absolute', margin: 'auto' }} />\n    <span style={{ width: 14, display: 'inline-block' }} />\n  </>\n);\n","import {BreadcrumbItemProps} from 'antd/es/breadcrumb';\nimport React, {FunctionComponent} from 'react';\nimport {Breadcrumb} from 'antd';\nimport {InlineSpinner} from '../InlineSpinner';\n\ninterface Props extends BreadcrumbItemProps {\n  loading?: boolean;\n}\n\nconst LazyBreadcrumbItem: FunctionComponent<Props> = ({ children, loading, ...rest }) => (\n  <Breadcrumb.Item {...rest}>{loading ? <InlineSpinner /> : children}</Breadcrumb.Item>\n);\n\nexport const BreadcrumbItem = LazyBreadcrumbItem;\n","import {toMovieListPage} from '../../routing';\r\nimport {Icon} from 'antd';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {listAspect} from '../../aspects';\r\n\r\ntype ListPureProps = { searchValue?: string; searchParam: string };\r\n\r\nexport const ListPure = fixBreadcrumb(({ searchParam, searchValue }: ListPureProps) => (\r\n  <>\r\n    <BreadcrumbItem>\r\n      <QueryLink to={toMovieListPage()} queryParams={{ [searchParam]: undefined }}>\r\n        Movies\r\n      </QueryLink>\r\n    </BreadcrumbItem>\r\n    {searchValue && (\r\n      <BreadcrumbItem>\r\n        <QueryLink to={toMovieListPage()}>\r\n          <Icon type=\"search\" style={{ marginRight: 5 }} />\r\n          {searchValue}\r\n        </QueryLink>\r\n      </BreadcrumbItem>\r\n    )}\r\n  </>\r\n));\r\n\r\nconst List = () => {\r\n  const searchValue = listAspect.useSearchValue();\r\n\r\n  return <ListPure searchValue={searchValue} searchParam={listAspect.searchParam} />;\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","import React from 'react';\nimport {Breadcrumb, Icon} from 'antd';\nimport {Link} from 'react-router-dom';\nimport {toMovieListPage} from '../../../features/movie-browser/routing';\nimport {fixBreadcrumb} from '../../workarounds';\n\nexport const Home= fixBreadcrumb(() => {\n  return (\n    <Breadcrumb.Item>\n      <Link to={toMovieListPage()}>\n        <Icon type=\"home\" />\n      </Link>\n    </Breadcrumb.Item>\n  );\n});\n","import {toMovieViewPage} from '../../routing';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {detailsAspect} from '../../aspects';\r\nimport {IMovie} from '../../types/state';\r\n\r\ntype ViewPureProps = { loading: boolean; movieId?: number; result?: IMovie };\r\n\r\nexport const ViewPure = fixBreadcrumb(({ loading, movieId, result }: ViewPureProps) => (\r\n  <BreadcrumbItem loading={loading}>\r\n    <QueryLink to={toMovieViewPage((movieId || '').toString())}>{result && result.title}</QueryLink>\r\n  </BreadcrumbItem>\r\n));\r\n\r\nconst List = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n  const movieId = detailsAspect.useDetailsId();\r\n\r\n  return <ViewPure loading={loading} movieId={movieId} result={result} />;\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","export const formItemLayout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 14\n  }\n};\n","import React, {FunctionComponent} from 'react';\r\nimport {ProductionCountries} from '../../features/movie-browser/types/state';\r\nimport {Tag} from 'antd';\r\n\r\nexport const CountryTags: FunctionComponent<{ countries: ProductionCountries | undefined }> = ({ countries }) => (\r\n  <>\r\n    {(countries || []).map(value => (\r\n      <Tag color={'#687cbe'} key={value.name}>\r\n        {value.name}\r\n      </Tag>\r\n    ))}\r\n  </>\r\n);\r\n","import React, {FunctionComponent, HTMLProps, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Modal} from 'antd';\r\n\r\nexport interface ImageThumbnailProps extends HTMLProps<HTMLImageElement> {\r\n  size?: number;\r\n}\r\nconst StyledImage = styled.img`\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n  border: 2px solid #cccccc;\r\n  transition: filter 150ms ease-out;\r\n  cursor: pointer;\r\n  background: #cccccc;\r\n  &:hover {\r\n    filter: brightness(1.09);\r\n  }\r\n`;\r\n\r\nexport const ImageThumbnail: FunctionComponent<ImageThumbnailProps> = ({ src, size, style, ...rest }) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const close = () => setOpen(false);\r\n  return (\r\n    <>\r\n      <StyledImage\r\n        src={src}\r\n        style={{ ...style, height: size, width: size }}\r\n        onClick={src ? () => setOpen(true) : undefined}\r\n      />\r\n      <Modal\r\n        width=\"calc(100vw - 250px)\"\r\n        visible={open}\r\n        onCancel={close}\r\n        onOk={close}\r\n        cancelButtonProps={{ style: { display: 'none' } }}\r\n        okText=\"Close\"\r\n      >\r\n        <img src={src} style={{ height: 'calc(100vh - 250px)', width: '100%', objectFit: 'scale-down' }} />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nImageThumbnail.defaultProps = {\r\n  size: 100\r\n};\r\n","import classnames from 'classnames';\nimport React, {ComponentType} from 'react';\nimport styled from 'styled-components';\n\nconst FADED_CLASS_NAME_ACTIVE = 'fading-active';\nconst FADED_CLASS_NAME = 'fading';\n\ninterface IInjectProps {\n  className?: string;\n}\n\ninterface IEnhanceProps {\n  loading: boolean;\n}\n\ninterface IState {\n  childrenProps: any;\n}\n\nexport default function withFading<X>(passLoadingProp: boolean = false) {\n  return (Component: ComponentType<X & IInjectProps>) => {\n    const WithFading: ComponentType<\n      X & IEnhanceProps & IInjectProps\n    > = class extends React.Component<\n      X & IEnhanceProps & IInjectProps,\n      IState\n    > {\n      constructor(props: X & IEnhanceProps) {\n        super(props);\n\n        this.state = {\n          childrenProps: props\n        };\n      }\n\n      public static getDerivedStateFromProps = (\n        nextProps: Readonly<X & IEnhanceProps>,\n        prevState: IState\n      ) => ({\n        childrenProps: nextProps.loading ? prevState.childrenProps : nextProps\n      });\n\n      render() {\n        const { loading, ...rest } = this.state.childrenProps as IEnhanceProps;\n        const props = passLoadingProp ? this.state.childrenProps : rest;\n\n        {\n          const { className, ...rest } = props as IInjectProps;\n\n          return (\n            <Component\n              {...rest as X & IEnhanceProps}\n              className={classnames(className, FADED_CLASS_NAME, {\n                [FADED_CLASS_NAME_ACTIVE]: this.props.loading\n              })}\n            />\n          );\n        }\n      }\n    };\n\n    return styled(WithFading)`\n      &.fading-active {\n        opacity: 0.2 !important;\n        transition: opacity 500ms !important;\n        pointer-events: none;\n      }\n\n      &.fading {\n        transition: opacity 500ms !important;\n      }\n    `;\n  };\n}\n//todo do withFading only using HOOKS\n","import {IMovie} from '../../../types/state';\r\nimport React, {FunctionComponent} from 'react';\r\nimport {getPosterUrl} from '../../../../../common/api';\r\nimport {Form, Icon, Rate, Tag, Typography} from 'antd';\r\nimport {FormProps} from 'antd/es/form';\r\nimport {formItemLayout} from '../../../../../common/layout-props';\r\nimport styled from 'styled-components';\r\nimport {CountryTags} from '../../../../../common/components/CountryTags';\r\nimport {ImageThumbnail} from '../../../../../common/components/ImageThumbnail';\r\nimport withFading from '../../../../../common/components/withFading';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport interface MovieViewPureProps extends FormProps {\r\n  entity?: IMovie;\r\n}\r\n\r\nconst MovieViewPure: FunctionComponent<MovieViewPureProps> = ({ entity, ...rest }) => {\r\n  const get = <X extends keyof IMovie>(field: X): IMovie[X] | undefined => entity && entity[field];\r\n\r\n  const poster = get('poster_path');\r\n  const backdrop = get('backdrop_path');\r\n  return (\r\n    <Form {...rest} labelAlign=\"left\" layout=\"horizontal\">\r\n      <Form.Item label=\"Tagline\" {...formItemLayout}>\r\n        {<Typography>{get('tagline')}</Typography> || <em>No tagline specified</em>}\r\n      </Form.Item>\r\n      <Form.Item label=\"Genres\" {...formItemLayout}>\r\n        {(get('genres') || []).map(value => (\r\n          <Tag color={'#49be80'} key={value.id}>\r\n            {value.name}\r\n          </Tag>\r\n        ))}\r\n      </Form.Item>\r\n      <Form.Item label=\"Countries\" {...formItemLayout}>\r\n        <CountryTags countries={get('production_countries')} />\r\n      </Form.Item>\r\n      <Form.Item label=\"Rank\" {...formItemLayout}>\r\n        <Rate allowHalf style={{ marginRight: 3 }} value={get('vote_average')} count={10} disabled />\r\n        <strong>{get('vote_average')}</strong> | {get('vote_count')} votes\r\n      </Form.Item>\r\n      <Form.Item label=\"Popularity\" {...formItemLayout}>\r\n        <Icon type=\"like\" theme=\"filled\" /> {get('popularity')}\r\n      </Form.Item>\r\n      <Form.Item label=\"Release date\" {...formItemLayout}>\r\n        <Text>{get('release_date')}</Text>\r\n      </Form.Item>\r\n      <Form.Item label=\"Description\" {...formItemLayout}>\r\n        <Text>{get('overview')}</Text>\r\n      </Form.Item>\r\n      {(poster || backdrop) && (\r\n        <Form.Item label=\"Media\" {...formItemLayout}>\r\n          {poster && <ImageThumbnail src={getPosterUrl(poster)} />}\r\n          {backdrop && <ImageThumbnail src={getPosterUrl(backdrop)} />}\r\n        </Form.Item>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default withFading<MovieViewPureProps>(false)(styled(MovieViewPure)`\r\n  .ant-typography {\r\n    margin-top: 10px;\r\n    line-height: 22px;\r\n    display: inline-block;\r\n    text-align: justify;\r\n  }\r\n\r\n  .ant-row {\r\n    margin: 0 0 4px;\r\n  }\r\n\r\n  img {\r\n    margin-top: 10px;\r\n    margin-right: 10px;\r\n  }\r\n`);\r\n","import React, {ReactElement} from 'react';\nimport styled from 'styled-components';\n\ninterface IProps {\n  primaryContent?: ReactElement<any>;\n  secondaryContent?: ReactElement<any>;\n}\n\nexport const ContentLayout = ({\n  secondaryContent,\n  primaryContent,\n  ...rest\n}: IProps) => (\n  <div {...rest}>\n    {primaryContent}\n    {secondaryContent}\n  </div>\n);\n\nexport default styled(ContentLayout)`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n","import styled from 'styled-components';\n\nexport const VBox = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const HBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n`;\n\nexport const Spacer = styled.div`\n  flex-grow: 1;\n`;","import React, {ComponentType, ReactNode} from 'react';\nimport withStyled from './DefaultPrimaryContent.styled';\nimport {HBox, Spacer, VBox} from './layout';\n\ninterface IProps {\n  breadcrumbs?: ReactNode;\n  tools?: ReactNode;\n  title?: ReactNode;\n  content?: ReactNode;\n  tabs?: ReactNode;\n}\n\nconst DefaultPrimaryContent = ({\n  breadcrumbs,\n  tools,\n  title,\n  content,\n  tabs,\n  ...rest\n}: IProps) => (\n  <VBox {...rest}>\n    {(breadcrumbs || tools) && (\n      <HBox className=\"navigation\">\n        {breadcrumbs}\n        <Spacer />\n        {tools}\n      </HBox>\n    )}\n    {title && <div className=\"title\">{title}</div>}\n    {content && <div className=\"content\">{content}</div>}\n    {tabs && <div className=\"tabs\">{tabs}</div>}\n  </VBox>\n);\n\nexport default withStyled(DefaultPrimaryContent) as ComponentType<IProps>;\n","import styled from 'styled-components';\nimport React from 'react';\n\nexport default <P>(c: React.ComponentType<P>) => styled(c)`\n  background: #fdfdfd;\n  padding-left: ${p => p.theme.layout.main.margin}px;\n  padding-right: ${p => p.theme.layout.main.margin}px;\n\n  border-bottom: 1px solid #e8e8e8;\n  flex-shrink: 0; // primary content never shrinks in a flex layout\n\n  .navigation {\n    margin-top: 26px;\n    margin-bottom: 26px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    min-height: 32px; // do not jump the screen when toolbar presence changes\n    > *:not(:last-child) {\n      margin-right: 10px;\n    }\n  }\n\n  .title {\n    font-size: 20px;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    margin-bottom: 22px;\n  }\n\n  .tabs {\n    .ant-tabs-bar {\n      margin: 0;\n      border-bottom-color: transparent;\n    }\n    .ant-tabs-nav .ant-tabs-tab-active {\n      font-weight: 400;\n    }\n  }\n\n  & > :last-child:not(.tabs) {\n    // we need some margin at the bottom unless we have toolbar which sticks to the edge\n    margin-bottom: 26px;\n  }\n`;\n","import React from 'react';\r\nimport {Breadcrumb, Button, Tooltip} from 'antd';\r\nimport List from '../../breadcrumbs/List';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport View from '../../breadcrumbs/View';\r\nimport MovieViewPure from './MovieViewPure';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {detailsAspect} from '../../../aspects';\r\nimport {IMovie} from '../../../types/state';\r\nimport {ContentLayout} from '../../../../../common/components/antd/ContentLayout';\r\nimport DefaultPrimaryContent from '../../../../../common/components/antd/DefaultPrimaryContent';\r\n\r\nconst MovieView = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  return <MovieViewPure loading={loading} entity={result} />;\r\n};\r\n\r\nconst Toolbar = () => {\r\n  const { result } = detailsAspect.useDetails();\r\n  const { homepage } = result || ({} as Partial<IMovie>);\r\n\r\n  return (\r\n    <>\r\n      {homepage && (\r\n        <Tooltip title=\"View movie homepage\">\r\n          <a href={homepage} target=\"_blank\">\r\n            <Button icon=\"export\" />\r\n          </a>\r\n        </Tooltip>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst MovieTitle = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  const { title, original_title } = result || ({} as Partial<IMovie>);\r\n\r\n  return loading ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>\r\n      {title}\r\n      {original_title !== title && (\r\n        <small title={'original title'} style={{ float: 'right', fontWeight: 'normal' }}>\r\n          <em>{original_title}</em>\r\n        </small>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default () => (\r\n  <>\r\n    <detailsAspect.DetailsFetcher />\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<MovieTitle />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n              <View />\r\n            </Breadcrumb>\r\n          }\r\n          content={<MovieView />}\r\n          tools={<Toolbar />}\r\n        />\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import _ from 'lodash';\n\nexport default function<D, S>(\n  object: any,\n  path: string,\n  transform: (value: D) => S,\n  defaultValue?: D\n) {\n  const value: D = _.get(object, path, defaultValue) as D;\n  if (value !== undefined) {\n    return transform(value);\n  }\n  return undefined;\n}\n","import React, {ComponentType} from 'react';\nimport {FixedSizeList, FixedSizeListProps, ListChildComponentProps} from 'react-window';\nimport styled from 'styled-components';\nimport {MeasuredComponentProps, withContentRect} from 'react-measure';\nimport _ from 'lodash';\nimport getOptional from '../getOptional';\nimport withSublimeScrollbar from './antd/withStyledScrollbar';\n\nexport interface IVirtualListPropsBase<T> {\n  itemData?: T[];\n  padding?: number;\n  row: ComponentType<ListChildComponentProps>;\n  itemCount?: number;\n  itemSize: number;\n  onItemsRendered?: FixedSizeListProps['onItemsRendered'];\n}\nexport type IVirtualListProps<T> = IVirtualListPropsBase<T> & MeasuredComponentProps;\n\nconst FixedSizeListWithScrollbar = withSublimeScrollbar('dark')(FixedSizeList);\n\nexport const VirtualList = <P extends any>(props: IVirtualListProps<P>) => {\n  const {\n    contentRect,\n    onItemsRendered,\n    measureRef,\n    row,\n    itemSize,\n    itemCount,\n    itemData,\n    padding,\n    measure,\n    ...rest\n  } = props;\n\n  return (\n    <div {...rest}>\n      <div className=\"fixed-size-list-container ant-list ant-list-split\" ref={measureRef}>\n        <FixedSizeListWithScrollbar\n          className=\"react-window\"\n          overscanCount={10}\n          height={_.get(contentRect, 'bounds.height', 0)}\n          onItemsRendered={onItemsRendered}\n          itemCount={itemCount === undefined ? 0 : itemCount}\n          itemData={itemData}\n          itemSize={itemSize}\n          width={getOptional(contentRect, 'bounds.width', width => width - padding! / 2, 0) || 0}\n        >\n          {row}\n        </FixedSizeListWithScrollbar>\n      </div>\n    </div>\n  );\n};\n\nconst EnhancedVirtualList = withContentRect('bounds')(styled(VirtualList)`\n  width: 100%; // virtual scroll doesn't have own dimensions, it fills parent 100%\n  height: 100%;\n  background: #ffffff;\n  padding: ${p => `${p.padding!}px 0 ${p.padding!}px ${p.padding!}px`};\n\n  .fixed-size-list-container {\n    width: 100%;\n    height: 100%;\n  }\n\n  .react-window > * > * {\n    width: calc(100% - ${p => p.padding! / 2}px) !important;\n    min-width: 500px;\n  }\n`);\n\nEnhancedVirtualList.defaultProps = {\n  padding: 12,\n  itemSize: 69,\n} as Partial<IVirtualListPropsBase<{}>>;\n\nexport default function getVirtualList<P>() {\n  return (EnhancedVirtualList as unknown) as ComponentType<IVirtualListPropsBase<P>>;\n}\n","import {List} from 'antd';\nimport styled from 'styled-components';\nimport {ComponentType, MouseEvent} from 'react';\nimport {ListItemProps} from 'antd/es/list';\nimport {withQueryLink} from '../../hooks/useHistoryPush';\nimport withLink from '../../withLink';\n\nexport const ListItem = styled(List.Item)`\n  cursor: pointer;\n  &:hover {\n    background: #fcfcfc;\n  }\n`;\n\nexport const ListItemLink = withQueryLink(\n  withLink(ListItem as ComponentType<\n    ListItemProps & { onClick?: (event: MouseEvent<any>) => void | null }\n  >)\n);\n","import React, {ComponentType, MouseEvent} from 'react';\n// @ts-ignore RouterContext not present\nimport {__RouterContext as RouterContext} from 'react-router-dom';\nimport * as H from 'history';\n\nfunction isModifiedEvent<T>(event: MouseEvent<T>) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport interface RequiredProps<T> {\n  onClick?: (event: MouseEvent<T>) => void | null;\n}\n\nexport interface EnhancedProps {\n  to: H.LocationDescriptor;\n  replace?: boolean;\n  innerRef?: (node: HTMLAnchorElement | null) => void;\n  target?: string;\n}\n\nexport default function withLink<T, P extends RequiredProps<T>>(\n  Component: ComponentType<P>\n): ComponentType<P & EnhancedProps> {\n  return class Link extends React.Component<P & EnhancedProps> {\n    // static defaultProps: Partial<EnhancedProps&P> = {\n    //   replace: false\n    // };\n\n    public render() {\n      const { innerRef, replace, to, target, ...rest } = this\n        .props as EnhancedProps;\n\n      return (\n        <RouterContext.Consumer>\n          {(context: RouterContext) => (\n            <Component\n              {...rest as P}\n              onClick={event => this.handleClick(event, context)}\n            />\n          )}\n        </RouterContext.Consumer>\n      );\n    }\n\n    private handleClick(event: MouseEvent<T>, context: RouterContext) {\n      if (this.props.onClick) {\n        this.props.onClick(event);\n      }\n\n      if (\n        !event.defaultPrevented && // onClick prevented default\n        event.button === 0 && // ignore everything but left clicks\n        (!this.props.target || this.props.target === '_self') && // let browser handle \"target=_blank\" etc.\n        !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n        event.preventDefault();\n\n        const method = this.props.replace\n          ? context.history.replace\n          : context.history.push;\n\n        method(this.props.to);\n      }\n    }\n  };\n}\n","import React, {ComponentType, FunctionComponent, ReactNode} from 'react';\nimport styled from 'styled-components';\nimport {Avatar, List} from 'antd';\nimport {ListItemLink} from './ListItem';\nimport {LocationDescriptor} from 'history';\nimport {ListItemProps} from 'antd/es/list';\nimport {Assign} from 'utility-types';\n\nexport type DefaultListItemProps = Assign<\n  ListItemProps,\n  {\n    title?: ReactNode;\n    description?: ReactNode;\n    popularity?: ReactNode;\n    year?: ReactNode;\n    tags?: ReactNode;\n    to: LocationDescriptor;\n    avatar?: string;\n  }\n>;\n\nconst DefaultListItemUnstyled: FunctionComponent<DefaultListItemProps> = ({\n  description,\n  tags,\n  title,\n  to,\n  popularity,\n  year,\n  avatar,\n  ...rest\n}) => (\n  <ListItemLink to={to} {...rest}>\n    <List.Item.Meta avatar={<Avatar src={avatar} size={43} shape=\"square\" />} title={title} description={description} />\n    {(tags || popularity || year) && (\n      <>\n        {tags && <div className=\"default-list-item-content-item\">{tags}</div>}\n        {(popularity || year) && (\n          <div\n            className=\"default-list-item-content-item update-info\"\n            title={`Released in ${year}. Popularity: ${popularity}.`}\n          >\n            <div>{year}</div>\n            <div>{popularity}</div>\n          </div>\n        )}\n      </>\n    )}\n  </ListItemLink>\n);\n\nconst DefaultListItem: ComponentType<DefaultListItemProps> = styled(DefaultListItemUnstyled)`\n  padding-left: 12px;\n  padding-right: 12px;\n  .ant-list-item-content {\n    align-items: center;\n    flex: 0;\n    &:empty {\n      display: none;\n    }\n  }\n  .default-list-item-content-item {\n    white-space: nowrap;\n    margin-left: 40px;\n    color: rgba(0, 0, 0, 0.45);\n    font-size: 14px;\n    display: flex;\n    text-align: right;\n  }\n  .update-info {\n    display: inline-block;\n  }\n\n  .ant-avatar {\n    background: #cccccc;\n    img {\n      object-fit: cover;\n    }\n  }\n`;\nexport default DefaultListItem;\n","import React from 'react';\nimport {ListChildComponentProps} from 'react-window';\nimport {toMovieViewPage} from '../../../routing';\nimport {Assign} from 'utility-types';\nimport {IMovieLite} from '../../../types/state';\nimport DefaultListItem from '../../../../../common/components/antd/DefaultListItem';\nimport {getReleaseYear, getThumbUrl} from '../../../../../common/api';\nimport {Rate} from 'antd';\nimport {IListItem, IListItems} from '../../../../../common/aspects/list/types';\n\nexport function ListItem(props: Assign<ListChildComponentProps, { data: IListItems<IMovieLite>}>) {\n  const { index, style, data } = props;\n\n  const item = data[index] || ({loading: true } as IListItem<IMovieLite>);\n\n  const result: IMovieLite = item.result || ({ } as IMovieLite);\n  const loading = item.loading;\n\n  return (\n    <DefaultListItem\n      avatar={getThumbUrl(result.poster_path)}\n      style={style}\n      to={toMovieViewPage((result.id && result.id.toString()) || '')}\n      title={\n        <>\n          &#8203;{index + 1}. {result.title}\n        </>\n      }\n      year={loading ? '...' : getReleaseYear(result.release_date)}\n      popularity={loading ? '...' : result.popularity ? result.popularity.toFixed(2) : ''}\n      description={\n        <span>\n          <Rate allowHalf style={{ fontSize: 15, marginRight: 3 }} value={result.vote_average} count={10} disabled />\n          <strong>{result.vote_average}</strong> | {result.vote_count} votes\n        </span>\n      }\n    />\n  );\n}\n","import React from 'react';\r\nimport getVirtualList from '../../../../../common/components/VirtualList';\r\nimport {ListItem} from './ListItem';\r\nimport {IListItem, IListItems} from '../../../../../common/aspects/list/types';\r\nimport {IMovieLite} from '../../../types/state';\r\nimport {listAspect} from '../../../aspects';\r\nimport {FixedSizeListProps} from 'react-window';\r\n\r\nconst List = getVirtualList<IListItem<IMovieLite> | undefined>();\r\n\r\ntype MovieListPureProps = {\r\n  onItemsRendered?: FixedSizeListProps['onItemsRendered'];\r\n  itemCount?: number;\r\n  itemData: IListItems<IMovieLite>;\r\n};\r\nexport const MovieListPure = (props: MovieListPureProps) => (\r\n  <List\r\n    onItemsRendered={props.onItemsRendered}\r\n    itemSize={69}\r\n    row={ListItem}\r\n    itemCount={props.itemCount}\r\n    itemData={props.itemData}\r\n  />\r\n);\r\n\r\nexport const MovieList = () => {\r\n  const { items, total, onItemsRendered } = listAspect.usePaginatedList();\r\n\r\n  return <MovieListPure onItemsRendered={onItemsRendered} itemCount={total} itemData={items} />;\r\n};\r\n","import React from 'react';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {listAspect} from '../../../aspects';\r\n\r\nexport const Title = () => {\r\n  const { query, total } = listAspect.useListData();\r\n\r\n  return total === null ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>{query ? `Found ${total} movies matching the criteria` : `Most popular movies`}</>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {Form, InputNumber} from 'antd';\r\nimport {listAspect} from '../../../aspects';\r\n\r\nexport const YearInput = () => {\r\n  const { value, enabled, onChange } = listAspect.useYearInput();\r\n\r\n  return enabled ? (\r\n    <Form layout=\"inline\">\r\n      <Form.Item label=\"Released\">\r\n        <InputNumber value={value} onChange={onChange} placeholder=\"anytime\" />\r\n      </Form.Item>\r\n    </Form>\r\n  ) : null;\r\n};\r\n","import {YearInput} from './YearInput';\r\nimport React from 'react';\r\n\r\nexport const Toolbar = () => <YearInput />;\r\n","import styled from 'styled-components';\n\nexport default styled.div`\n  flex: 1;\n  width: 100%;\n  min-height: 0; // important to not overflow flex container when browser height is reduced\n  padding: ${p => p.theme.layout.main.margin / 2}px;\n  overflow: auto;\n`;\n","import {IPlugin} from '../../common/plugins';\r\nimport {Route} from 'react-router';\r\nimport {toMovieListPage, toMovieViewPage} from './routing';\r\nimport Search from './components/header/Search';\r\nimport React from 'react';\r\nimport epics from './state/epics';\r\nimport reducers from './state/reducers';\r\n\r\nimport viewPage from './components/pages/view';\r\nimport listPage from './components/pages/list';\r\n\r\nexport default {\r\n  routes: {\r\n    main: (\r\n      <>\r\n        <Route exact path={toMovieListPage()} render={listPage} />\r\n        <Route path={toMovieViewPage()} render={viewPage} />\r\n      </>\r\n    ),\r\n    header: (\r\n      <>\r\n        <Route path={toMovieListPage()}>\r\n          <Search />\r\n        </Route>\r\n      </>\r\n    )\r\n  },\r\n  epics,\r\n  reducers: {\r\n    movieBrowser: reducers\r\n  }\r\n} as IPlugin;\r\n","import React from 'react';\r\nimport {Breadcrumb} from 'antd';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport List from '../../breadcrumbs/List';\r\nimport {MovieList} from './MovieList';\r\nimport {Title} from './Title';\r\nimport {Toolbar} from './Toolbar';\r\nimport {ContentLayout} from '../../../../../common/components/antd/ContentLayout';\r\nimport DefaultPrimaryContent from '../../../../../common/components/antd/DefaultPrimaryContent';\r\nimport DefaultSecondaryContent from '../../../../../common/components/antd/DefaultSecondaryContent';\r\n\r\nexport default () => (\r\n  <>\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<Title />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n            </Breadcrumb>\r\n          }\r\n          tools={<Toolbar />}\r\n        />\r\n      }\r\n      secondaryContent={\r\n        <DefaultSecondaryContent>\r\n          <MovieList />\r\n        </DefaultSecondaryContent>\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import {useRouteParams} from '../../common/hooks/routing';\r\n\r\nexport const toPersonListPage = () => '/people';\r\nexport const toPersonViewPage = (id = ':id') => `${toPersonListPage()}/${id}`;\r\n\r\nexport const usePersonId = () => {\r\n  const params = useRouteParams();\r\n  return params.id ? parseInt(params.id) : undefined;\r\n};\r\n\r\nexport const toPersonMovies = (id: string = ':id') => `${toPersonViewPage(id)}/movies`;\r\n","import {ApiResponse, FindService, getApiUrl, GetService, PopularService} from '../../../common/api';\r\nimport {ajax} from 'rxjs/ajax';\r\nimport {map} from 'rxjs/operators';\r\nimport {IPerson, IPersonLite} from '../types/state';\r\n\r\nconst shiftPageNumber = <T extends ApiResponse<any>>(response: T): T => {\r\n  return { ...response, page: response.page - 1 };\r\n};\r\n\r\nexport const findPeople: FindService<IPersonLite> = (query, page = 0, year) =>\r\n  ajax(\r\n    getApiUrl('search/person', {\r\n      page: (page + 1).toString(),\r\n      query\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const findPopularPeople: PopularService<IPersonLite> = (page = 0) =>\r\n  ajax(\r\n    getApiUrl('person/popular', {\r\n      page: (page + 1).toString()\r\n    })\r\n  ).pipe(map(value => shiftPageNumber(value.response)));\r\n\r\nexport const getPerson: GetService<IPerson> = id =>\r\n  ajax(getApiUrl(`person/${id}`, { append_to_response: ['movie_credits,images'] })).pipe(\r\n    map(value => shiftPageNumber(value.response))\r\n  );\r\n","import {IState} from '../../../common/types/state';\r\nimport {ITypeAheadState} from '../../../common/aspects/typeahead/types';\r\nimport {IPeopleBrowser, IPersonLite} from '../types/state';\r\n\r\nexport const selectPeopleBrowser = (state: IState): IPeopleBrowser => state.peopleBrowser as IPeopleBrowser;\r\n\r\nexport const selectPersonTypeAhead = (state: IState): ITypeAheadState<IPersonLite> => selectPeopleBrowser(state).typeAhead;\r\nexport const selectPersonDetails = (state: IState) => selectPeopleBrowser(state).details;\r\nexport const selectPersonList = (state: IState) => selectPeopleBrowser(state).list;\r\n","import React, {ComponentType, FunctionComponent, memo} from 'react';\r\nimport {Avatar, Icon} from 'antd';\r\nimport styled from 'styled-components';\r\nimport emptyAvatar from './emptyAvatar.png';\r\n\r\nexport interface SearchOptionProps {\r\n  avatar?: string;\r\n  name: string;\r\n  rank: number;\r\n}\r\n\r\nconst SearchOptionContent: FunctionComponent<SearchOptionProps> = ({ avatar, name, rank,  ...rest }) => (\r\n  <div {...rest}>\r\n    <Avatar shape=\"square\" src={avatar || emptyAvatar} />\r\n    {name}\r\n    <span className=\"rate\">\r\n      <Icon type=\"like\" theme=\"filled\" />\r\n      {rank.toFixed(1)}\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default memo(styled(SearchOptionContent)`\r\n  vertical-align: middle;\r\n  line-height: 30px;\r\n  .ant-avatar {\r\n    margin-right: 10px;\r\n    img {\r\n      object-fit: cover;\r\n    }\r\n  }\r\n  .rate {\r\n    float: right;\r\n    font-size: 15px;\r\n    svg {\r\n      margin: 0 4px;\r\n    }\r\n  }\r\n`) as ComponentType<SearchOptionProps>;\r\n","import actionCreatorFactory from 'typescript-fsa';\r\nimport {findPeople, findPopularPeople, getPerson} from './services/people-search';\r\nimport {selectPersonDetails, selectPersonList, selectPersonTypeAhead} from './state/selectors';\r\nimport {createListAspect} from '../../common/aspects/list';\r\nimport {toPersonListPage, toPersonViewPage, usePersonId} from './routing';\r\nimport {createTypeAheadAspect} from '../../common/aspects/typeahead';\r\nimport SearchOptionContent from './components/header/SearchOptionContent';\r\nimport React from 'react';\r\nimport {getThumbUrl} from '../../common/api';\r\nimport {createDetailsAspect} from '../../common/aspects/details';\r\nimport {IPerson, IPersonLite} from './types/state';\r\n\r\nconst factory = actionCreatorFactory('people-list');\r\n\r\nconst searchParamName = 'pQuery';\r\nexport const listAspect = createListAspect(\r\n  factory,\r\n  findPeople,\r\n  findPopularPeople,\r\n  selectPersonList,\r\n  searchParamName,\r\n  'mYear',\r\n  toPersonListPage()\r\n);\r\n\r\nexport const typeAheadAspect = createTypeAheadAspect<IPersonLite>(\r\n  factory,\r\n  findPeople,\r\n  findPopularPeople,\r\n  result => (\r\n    <SearchOptionContent rank={result.popularity} avatar={getThumbUrl(result.profile_path)} name={result.name} />\r\n  ),\r\n  'people',\r\n  selectPersonTypeAhead,\r\n  searchParamName,\r\n  toPersonListPage(),\r\n  toPersonViewPage\r\n);\r\n\r\nexport const detailsAspect = createDetailsAspect<IPerson>(factory, getPerson, selectPersonDetails, usePersonId);\r\n","import React from 'react';\r\nimport SearchPure from '../../../../common/components/antd/Search';\r\nimport {typeAheadAspect} from '../../aspects';\r\n\r\nconst Search = () => {\r\n  const { dataSource, onSearch, cancel, onApply, value } = typeAheadAspect.useSearchInput();\r\n\r\n  return (\r\n    <SearchPure\r\n      onDropdownVisibleChange={opened => !opened && cancel()}\r\n      notFoundContent=\"No people found\"\r\n      value={value}\r\n      dataSource={dataSource}\r\n      onSearch={onSearch}\r\n      onSelect={onApply}\r\n      searchPrompt=\"Search for people...\"\r\n    />\r\n  );\r\n};\r\nexport default Search;\r\n","import {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\n\r\nexport default [typeAheadAspect.epics, detailsAspect.epics, listAspect.epics];\r\n","import {combineReducers} from 'redux';\r\nimport {detailsAspect, listAspect, typeAheadAspect} from '../aspects';\r\nimport {IPeopleBrowser} from '../types/state';\r\n\r\nexport default combineReducers<IPeopleBrowser>({\r\n  typeAhead: typeAheadAspect.reducer,\r\n  details: detailsAspect.reducers,\r\n  list: listAspect.reducer\r\n});\r\n","import {toPersonListPage} from '../../routing';\r\nimport {Icon} from 'antd';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {listAspect} from '../../aspects';\r\n\r\ntype ListPureProps = { searchValue?: string; searchParam: string };\r\n\r\nexport const ListPure = fixBreadcrumb(({ searchParam, searchValue }: ListPureProps) => (\r\n  <>\r\n    <BreadcrumbItem>\r\n      <QueryLink to={toPersonListPage()} queryParams={{ [searchParam]: undefined }}>\r\n        People\r\n      </QueryLink>\r\n    </BreadcrumbItem>\r\n    {searchValue && (\r\n      <BreadcrumbItem>\r\n        <QueryLink to={toPersonListPage()}>\r\n          <Icon type=\"search\" style={{ marginRight: 5 }} />\r\n          {searchValue}\r\n        </QueryLink>\r\n      </BreadcrumbItem>\r\n    )}\r\n  </>\r\n));\r\n\r\nconst List = () => {\r\n  const searchValue = listAspect.useSearchValue();\r\n\r\n  return <ListPure searchValue={searchValue} searchParam={listAspect.searchParam} />;\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","import {toPersonViewPage} from '../../routing';\r\nimport {fixBreadcrumb} from '../../../../common/workarounds';\r\nimport React from 'react';\r\nimport {BreadcrumbItem} from '../../../../common/components/antd/BreadcrumbItem';\r\nimport {QueryLink} from '../../../../common/hooks/useHistoryPush';\r\nimport {detailsAspect} from '../../aspects';\r\nimport {IPerson} from '../../types/state';\r\n\r\ntype ViewPureProps = { loading: boolean; personId?: number; result?: IPerson };\r\n\r\nexport const ViewPure = fixBreadcrumb((props: ViewPureProps) => (\r\n  <BreadcrumbItem loading={props.loading}>\r\n    <QueryLink to={toPersonViewPage((props.personId || '').toString())}>{props.result && props.result.name}</QueryLink>\r\n  </BreadcrumbItem>\r\n));\r\n\r\nconst List = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n  const personId = detailsAspect.useDetailsId();\r\n\r\n  return <ViewPure loading={loading} personId={personId} result={result} />;\r\n};\r\n\r\nexport default fixBreadcrumb(List);\r\n","import {IPerson} from '../../../types/state';\r\nimport React, {FunctionComponent} from 'react';\r\nimport {getPosterUrl} from '../../../../../common/api';\r\nimport {Form, Icon, Typography} from 'antd';\r\nimport {FormProps} from 'antd/es/form';\r\nimport {formItemLayout} from '../../../../../common/layout-props';\r\nimport styled from 'styled-components';\r\nimport {ImageThumbnail} from '../../../../../common/components/ImageThumbnail';\r\nimport withFading from '../../../../../common/components/withFading';\r\n\r\nconst { Text } = Typography;\r\n\r\nexport interface PersonViewPureProps extends FormProps {\r\n  entity?: IPerson;\r\n}\r\n\r\nconst PersonViewPure: FunctionComponent<PersonViewPureProps> = ({ entity, ...rest }) => {\r\n  const get = <X extends keyof IPerson>(field: X): IPerson[X] | undefined => entity && entity[field];\r\n\r\n  return (\r\n    <Form {...rest} labelAlign=\"left\" layout=\"horizontal\">\r\n      <Form.Item label=\"Popularity\" {...formItemLayout}>\r\n        <Icon type=\"like\" theme=\"filled\" /> {get('popularity')}\r\n      </Form.Item>\r\n      <Form.Item label=\"Birth\" {...formItemLayout}>\r\n        <Text>\r\n          {get('birthday')} in {get('place_of_birth')}\r\n        </Text>\r\n      </Form.Item>\r\n      {get('deathday') && (\r\n        <Form.Item label=\"Death\" {...formItemLayout}>\r\n          <Text>{get('deathday')}</Text>\r\n        </Form.Item>\r\n      )}\r\n      {get('profile_path') && (\r\n        <Form.Item label=\"Media\" {...formItemLayout}>\r\n          <ImageThumbnail src={getPosterUrl(get('profile_path'))} />\r\n        </Form.Item>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default withFading<PersonViewPureProps>(false)(styled(PersonViewPure)`\r\n  .ant-row {\r\n    margin: 0 0 4px;\r\n  }\r\n\r\n  img {\r\n    margin-top: 10px;\r\n    margin-right: 10px;\r\n  }\r\n`);\r\n","import {detailsAspect} from '../../../aspects';\r\nimport React from 'react';\r\nimport {Card} from 'antd';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\n\r\nexport const Bio = () => {\r\n  const { result, loading } = detailsAspect.useDetails();\r\n\r\n  return loading || !result ? (\r\n    <InlineSpinner />\r\n  ) : result!.biography ? (\r\n    <Card>{result!.biography}</Card>\r\n  ) : (\r\n    <>Biography not found</>\r\n  );\r\n};\r\n","import {Location} from 'history';\nimport {matchPath} from 'react-router';\nimport _ from 'lodash';\nimport {ReactNode} from 'react';\n\n/**\n * The aim of this utility it to provide react-router definition of menus, tabs from Ant Design which require specyfying selectedKeys in the parent component.\n * Usually when using react-router you just set 'selected' property on particular child item.\n * This utility gets items description containing routing information, combines with recent *location* object and provides array of selected items that match given route.\n */\n\nexport interface IMenuItem {\n  link: string;\n  path: string;\n  exact?: boolean;\n  strict?: boolean;\n  label: ReactNode;\n  icon?: string;\n  children?: IMenuItem[];\n}\n\nexport const getSelectedPaths = (\n  location: Location,\n  menuItems: IMenuItem[],\n  keyPrefix: string = ''\n): string[] =>\n  menuItems\n    .map(m => {\n      const key = keyPrefix + m.link;\n      const match = matchPath(\n        location.pathname,\n        _.pick(m, 'exact', 'strict', 'path')\n      );\n      const childrenMatches = m.children\n        ? getSelectedPaths(location, m.children, key + '.')\n        : [];\n\n      const result: string[] = [];\n      if (match) {\n        result.push(key);\n      }\n      result.push(...childrenMatches);\n      return result;\n    })\n    .reduce((acc, paths) => [...acc, ...paths], []);\n","import React from 'react';\nimport {Icon, Tabs} from 'antd';\nimport {LocationDescriptor} from 'history';\nimport {getSelectedPaths, IMenuItem} from '../../misc/getSelectedPaths';\nimport {HOCInnerType, HOCOuterType} from '../../types/hoc';\nimport {useRouter} from '../../hooks/routing';\n\nexport interface IEnhanceProps {\n  menuConfiguration: IMenuItem[];\n  onMenuSelect: (to: LocationDescriptor) => void;\n}\n\nexport interface IInjectProps {\n  activeKey?: string;\n  onChange?: (activeKey: string) => void;\n}\nconst createMenuNodes = (menuItems: IMenuItem[]): JSX.Element[] =>\n  menuItems.map(m => {\n    return (\n      <Tabs.TabPane\n        key={m.link}\n        tab={\n          <>\n            {m.icon && <Icon type={m.icon} />}\n            <span>{m.label}</span>\n          </>\n        }\n      />\n    );\n  });\n\nconst withRoutedTabs = <P extends IInjectProps>() => (\n  InnerComponent: HOCInnerType<P>\n): HOCOuterType<P, IInjectProps, IEnhanceProps> => props => {\n  const route = useRouter();\n\n  const { menuConfiguration, onMenuSelect, ...rest } = (props as unknown) as IEnhanceProps;\n  const menuNodes = createMenuNodes(menuConfiguration);\n  const selectedNodes: string[] = getSelectedPaths(route.location, menuConfiguration).filter(\n    s => s !== undefined\n  ) as string[];\n\n  return (\n    <InnerComponent\n      activeKey={selectedNodes[0]}\n      children={menuNodes}\n      onChange={activeKey => {\n        const activeMenuItem = menuConfiguration.find(s => s.path === activeKey);\n        if (activeMenuItem) {\n          onMenuSelect(activeMenuItem.link);\n        }\n      }}\n      {...rest as P}\n    />\n  );\n};\n\nexport default withRoutedTabs;\n\nexport const RoutedTabs = withRoutedTabs()(Tabs);\n","import {detailsAspect} from '../../../aspects';\r\nimport {Avatar, Card, Icon, List} from 'antd';\r\nimport React, {HTMLProps} from 'react';\r\nimport {ICast, ICrew} from '../../../types/state';\r\nimport {getPosterUrl, getThumbUrl} from '../../../../../common/api';\r\nimport {QueryLink} from '../../../../../common/hooks/useHistoryPush';\r\nimport {toMovieViewPage} from '../../../../movie-browser/routing';\r\nimport _ from 'lodash';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {ImageThumbnail} from '../../../../../common/components/ImageThumbnail';\r\n\r\ninterface IconTextProps extends HTMLProps<HTMLDivElement> {\r\n  type: string;\r\n  text: string;\r\n}\r\n\r\nconst IconText = ({ type, text, ...rest }: IconTextProps) => (\r\n  <span {...rest}>\r\n    <Icon type={type} style={{ marginRight: 8 }} />\r\n    {text}\r\n  </span>\r\n);\r\nexport const Movies = () => {\r\n  const { result, loading } = detailsAspect.useDetails();\r\n\r\n  const movies = result ? [...result.movie_credits.cast, ...result.movie_credits.crew] : [];\r\n\r\n  return loading ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <Card>\r\n      <List\r\n        itemLayout=\"vertical\"\r\n        dataSource={movies}\r\n        renderItem={(cast: ICast & ICrew) => (\r\n          <List.Item\r\n            key={cast.id.toString()}\r\n            actions={[\r\n              <IconText type=\"like-o\" title=\"Popularity\" text={cast.popularity.toFixed(2)} />,\r\n              <IconText type=\"star-o\" title=\"Rank\" text={cast.vote_average.toFixed(2)} />,\r\n              <IconText type=\"clock-circle\" title=\"Release date\" text={cast.release_date} />\r\n            ]}\r\n            extra={<ImageThumbnail height={153} alt=\"logo\" src={getPosterUrl(cast.poster_path)} />}\r\n          >\r\n            <List.Item.Meta\r\n              avatar={<Avatar shape=\"square\" src={getThumbUrl(cast.backdrop_path)} />}\r\n              title={<QueryLink to={toMovieViewPage(cast.id.toString())}>{cast.title}</QueryLink>}\r\n              description={<>{_.compact([cast.department, cast.job]).join(', ')}</>}\r\n            />\r\n            {cast.overview}\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n","import React, {useMemo} from 'react';\r\nimport {Breadcrumb, Button, Tooltip, Typography} from 'antd';\r\nimport List from '../../breadcrumbs/List';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport View from '../../breadcrumbs/View';\r\nimport MovieViewPure from './PersonViewPure';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {detailsAspect} from '../../../aspects';\r\nimport {IPerson} from '../../../types/state';\r\nimport {Bio} from './Bio';\r\nimport {RoutedTabs} from '../../../../../common/components/antd/AppTabs';\r\nimport {toPersonMovies, toPersonViewPage, usePersonId} from '../../../routing';\r\nimport {useHistoryPush} from '../../../../../common/hooks/useHistoryPush';\r\nimport {Route, Switch} from 'react-router';\r\nimport {Movies} from './Movies';\r\nimport {IMenuItem} from '../../../../../common/misc/getSelectedPaths';\r\nimport {ContentLayout} from '../../../../../common/components/antd/ContentLayout';\r\nimport DefaultPrimaryContent from '../../../../../common/components/antd/DefaultPrimaryContent';\r\nimport DefaultSecondaryContent from '../../../../../common/components/antd/DefaultSecondaryContent';\r\n\r\nconst MovieView = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  return <MovieViewPure loading={loading} entity={result} />;\r\n};\r\n\r\nconst Toolbar = () => {\r\n  const { result } = detailsAspect.useDetails();\r\n  const { homepage } = result || ({} as Partial<IPerson>);\r\n\r\n  return (\r\n    <>\r\n      {homepage && (\r\n        <Tooltip title=\"View person homepage\">\r\n          <a href={homepage} target=\"_blank\">\r\n            <Button icon=\"export\" />\r\n          </a>\r\n        </Tooltip>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst MovieTitle = () => {\r\n  const { loading, result } = detailsAspect.useDetails();\r\n\r\n  const { name, also_known_as, known_for_department } = result || ({} as Partial<IPerson>);\r\n\r\n  return loading ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>\r\n      {name}{' '}\r\n      <small>\r\n        <em>\r\n          <Typography.Text type=\"secondary\">({known_for_department})</Typography.Text>\r\n        </em>\r\n      </small>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ConnectedTabs = () => {\r\n  const personId = String(usePersonId());\r\n  const historyPush = useHistoryPush();\r\n  const menuConfiguration = useMemo(\r\n    () =>\r\n      [\r\n        {\r\n          path: toPersonViewPage(personId),\r\n          label: 'Bio',\r\n          link: toPersonViewPage(personId),\r\n          icon: 'user',\r\n          exact: true\r\n        },\r\n        {\r\n          path: toPersonMovies(personId),\r\n          label: 'Movies',\r\n          link: toPersonMovies(personId),\r\n          icon: 'caret-right'\r\n        }\r\n      ] as IMenuItem[],\r\n    [personId]\r\n  );\r\n  return <RoutedTabs menuConfiguration={menuConfiguration} onMenuSelect={historyPush} />;\r\n};\r\n\r\nconst TabContent = () => {\r\n  const personId = String(usePersonId());\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={toPersonViewPage(personId)} exact component={Bio} />\r\n      <Route path={toPersonMovies(personId)} exact component={Movies} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default () => (\r\n  <>\r\n    <detailsAspect.DetailsFetcher />\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<MovieTitle />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n              <View />\r\n            </Breadcrumb>\r\n          }\r\n          content={<MovieView />}\r\n          tools={<Toolbar />}\r\n          tabs={<ConnectedTabs />}\r\n        />\r\n      }\r\n      secondaryContent={\r\n        <DefaultSecondaryContent>\r\n          <TabContent />\r\n        </DefaultSecondaryContent>\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import React from 'react';\nimport {ListChildComponentProps} from 'react-window';\nimport {toPersonViewPage} from '../../../routing';\nimport {Assign} from 'utility-types';\nimport DefaultListItem from '../../../../../common/components/antd/DefaultListItem';\nimport {getThumbUrl} from '../../../../../common/api';\nimport {IListItem, IListItems} from '../../../../../common/aspects/list/types';\nimport {IPersonLite} from '../../../types/state';\n\nexport function ListItem(props: Assign<ListChildComponentProps, { data: IListItems<IPersonLite> }>) {\n  const { index, style, data } = props;\n\n  const item = data[index] || ({ loading: true } as IListItem<IPersonLite>);\n\n  const result: IPersonLite = item.result || ({} as IPersonLite);\n  const loading = item.loading;\n\n  return (\n    <DefaultListItem\n      avatar={getThumbUrl(result.profile_path)}\n      style={style}\n      to={toPersonViewPage((result.id && result.id.toString()) || '')}\n      title={\n        <>\n          &#8203;{index + 1}. {result.name}\n        </>\n      }\n      popularity={loading ? '...' : result.popularity ? result.popularity.toFixed(2) : ''}\n    />\n  );\n}\n","import React from 'react';\r\nimport getVirtualList from '../../../../../common/components/VirtualList';\r\nimport {ListItem} from './ListItem';\r\nimport {IListItem} from '../../../../../common/aspects/list/types';\r\nimport {listAspect} from '../../../aspects';\r\nimport {IPersonLite} from '../../../types/state';\r\n\r\nconst List = getVirtualList<IListItem<IPersonLite> | undefined>();\r\n\r\nexport const PersonList = () => {\r\n  const { items, total, onItemsRendered } = listAspect.usePaginatedList();\r\n\r\n  return <List onItemsRendered={onItemsRendered} itemSize={69} row={ListItem} itemCount={total} itemData={items} />;\r\n};\r\n","import React from 'react';\r\nimport {InlineSpinner} from '../../../../../common/components/InlineSpinner';\r\nimport {listAspect} from '../../../aspects';\r\n\r\nexport const Title = () => {\r\n  const { query, total } = listAspect.useListData();\r\n\r\n  return total === null ? (\r\n    <InlineSpinner />\r\n  ) : (\r\n    <>{query ? `Found ${total} people matching the criteria` : `Most popular people`}</>\r\n  );\r\n};\r\n","import {IPlugin} from '../../common/plugins';\r\nimport {Route} from 'react-router';\r\nimport {toPersonListPage, toPersonViewPage} from './routing';\r\nimport Search from './components/header/Search';\r\nimport React from 'react';\r\nimport epics from './state/epics';\r\nimport reducers from './state/reducers';\r\n\r\nimport viewPage from './components/pages/view';\r\nimport listPage from './components/pages/list';\r\n\r\nexport default {\r\n  routes: {\r\n    main: (\r\n      <>\r\n        <Route exact path={toPersonListPage()} render={listPage} />\r\n        <Route path={toPersonViewPage()} render={viewPage} />\r\n      </>\r\n    ),\r\n    header: (\r\n      <>\r\n        <Route path={toPersonListPage()}>\r\n          <Search />\r\n        </Route>\r\n      </>\r\n    )\r\n  },\r\n  epics,\r\n  reducers: {\r\n    peopleBrowser: reducers\r\n  }\r\n} as IPlugin;\r\n","import React from 'react';\r\nimport {Breadcrumb} from 'antd';\r\nimport {Home} from '../../../../../common/components/breadcrumbs/Home';\r\nimport List from '../../breadcrumbs/List';\r\nimport {PersonList} from './PersonList';\r\nimport {Title} from './Title';\r\nimport {ContentLayout} from '../../../../../common/components/antd/ContentLayout';\r\nimport DefaultPrimaryContent from '../../../../../common/components/antd/DefaultPrimaryContent';\r\nimport DefaultSecondaryContent from '../../../../../common/components/antd/DefaultSecondaryContent';\r\n\r\nexport default () => (\r\n  <>\r\n    <ContentLayout\r\n      key=\"layout\"\r\n      primaryContent={\r\n        <DefaultPrimaryContent\r\n          title={<Title />}\r\n          breadcrumbs={\r\n            <Breadcrumb>\r\n              <Home />\r\n              <List />\r\n            </Breadcrumb>\r\n          }\r\n        />\r\n      }\r\n      secondaryContent={\r\n        <DefaultSecondaryContent>\r\n          <PersonList />\r\n        </DefaultSecondaryContent>\r\n      }\r\n    />\r\n  </>\r\n);\r\n","import {IPlugin} from '../common/plugins';\r\nimport movieBrowser from './movie-browser';\r\nimport peopleBrowser from './people-browser';\r\nimport core from './core';\r\n\r\nconst features: IPlugin[] = [core, movieBrowser, peopleBrowser];\r\nexport default features;\r\n","import {IPlugin} from '../../common/plugins';\r\nimport {Redirect, Route} from 'react-router';\r\nimport {toRootPage} from './routing';\r\nimport React from 'react';\r\nimport {toMovieListPage} from '../movie-browser/routing';\r\n\r\nexport default {\r\n  routes: {\r\n    main: (\r\n      <>\r\n        <Route exact path={toRootPage()} render={() => <Redirect to={toMovieListPage()} />} />\r\n      </>\r\n    )\r\n  }\r\n} as IPlugin;\r\n","export const toRootPage = ()=>'/';","import {toMovieListPage} from '../movie-browser/routing';\r\nimport {toPersonListPage} from '../people-browser/routing';\r\nimport {IMenuItem} from '../../common/misc/getSelectedPaths';\r\n\r\nexport const menuConfiguration = [\r\n    {\r\n        link: toMovieListPage(),\r\n        path: toMovieListPage(),\r\n        label: 'Movies',\r\n        icon: 'play-circle'\r\n    },\r\n    {\r\n        link: toPersonListPage(),\r\n        path: toPersonListPage(),\r\n        label: 'People',\r\n        icon: 'user'\r\n    }\r\n] as IMenuItem[];","import {MenuProps} from 'antd/es/menu';\nimport React, {FunctionComponent} from 'react';\nimport {Menu} from 'antd';\nimport withAntdFix from './withAppMenuRouted';\n\ninterface IProps extends MenuProps {\n  menuNodes: JSX.Element[];\n  selectedNodes: string[];\n}\nconst AppMenu: FunctionComponent<IProps> = ({\n  menuNodes,\n  selectedNodes,\n  ...rest\n}) => (\n  <Menu theme=\"dark\" mode=\"inline\" selectedKeys={selectedNodes} {...rest}>\n    {menuNodes}\n  </Menu>\n);\nexport default withAntdFix(AppMenu);\n","/**\n * The aim of this HOC is to provide valid menu subtree together with two critical Menu properties:\n * selectedKeys and openKeys - based on actual location and route matching.\n *\n * It consumes menuConfiguration and location.\n * It produces menuNodes and selectedNodes.\n *\n * There is no way to configure specific menu item with react-router. Instead, all routes have to be processed using react-router's matchPath function.\n */\n\nimport {Icon, Menu} from 'antd';\nimport React, {ReactNode} from 'react';\nimport {Link} from 'react-router-dom';\nimport {getSelectedPaths, IMenuItem} from '../../misc/getSelectedPaths';\nimport {HOCInnerType, HOCOuterType} from '../../types/hoc';\nimport {useRouter} from '../../hooks/routing';\n\nexport interface IEnhanceProps {\n  menuConfiguration: IMenuItem[];\n  renderer?: MenuItemRenderer;\n}\nexport interface IInjectProps {\n  menuNodes: JSX.Element[];\n  selectedNodes: string[];\n}\n\nexport type MenuItemRenderer = (item: IMenuItem) => ReactNode;\n\nconst createMenuNodes = (\n  menuItems: IMenuItem[],\n  keyPrefix: string = '',\n  renderer: MenuItemRenderer\n): JSX.Element[] =>\n  menuItems.map(m => {\n    const key = keyPrefix + m.link;\n    const label = (\n      <>\n        {m.icon && <Icon type={m.icon} />}\n        <span>{m.label}</span>\n      </>\n    );\n    return m.children ? (\n      <Menu.SubMenu title={label} key={key}>\n        {createMenuNodes(m.children, key + '.', renderer)}\n      </Menu.SubMenu>\n    ) : (\n      <Menu.Item key={key}>{renderer(m)}</Menu.Item>\n    );\n  });\n\nconst withAntdFix = <P extends IInjectProps>(\n  InnerComponent: HOCInnerType<P>\n): HOCOuterType<P, IInjectProps, IEnhanceProps> => props => {\n  const { location } = useRouter();\n  const {\n    menuConfiguration,\n    renderer,\n    ...rest\n  } = (props as unknown) as IEnhanceProps;\n\n  const menuNodes = createMenuNodes(\n    menuConfiguration,\n    undefined,\n    renderer ||\n      (m => (\n        <Link to={m.path}>\n          {m.icon && <Icon type={m.icon} />}\n          <span>{m.label}</span>\n        </Link>\n      ))\n  );\n  const selectedNodes: string[] = getSelectedPaths(\n    location,\n    menuConfiguration\n  ).filter(s => s !== undefined) as string[];\n\n  return (\n    <InnerComponent\n      selectedNodes={selectedNodes}\n      menuNodes={menuNodes}\n      {...rest as P}\n    />\n  );\n};\nexport default withAntdFix;\n","import {Link} from 'react-router-dom';\nimport React, {FunctionComponent} from 'react';\nimport styled from 'styled-components';\n\ninterface DefaultAppLogoProps {\n  logo: string;\n}\n\nconst DefaultAppLogo: FunctionComponent<DefaultAppLogoProps> = ({\n  logo,\n  ...rest\n}) => (\n  <Link to=\"/\" {...rest}>\n    <img className=\"app-logo\" src={logo} />\n    <div className=\"app-name\">Movies Explorer</div>\n  </Link>\n);\nexport default styled(DefaultAppLogo)`\n  .app-logo {\n    display: inline-block;\n    vertical-align: middle;\n    height: 32px;\n    margin-left: 23px;\n  }\n\n  .app-name {\n    color: white;\n    display: inline-block;\n    vertical-align: middle;\n    font-size: 20px;\n    margin: 0 0 0 12px;\n    font-family: 'Myriad Pro', 'Helvetica Neue', Arial, Helvetica, sans-serif;\n    font-weight: 600;\n  }\n`;\n","import React, {cloneElement} from 'react';\nimport Switch from '../../../common/components/FlatteningSwitch';\nimport DefaultAppHeader from '../../../common/components/antd/DefaultAppHeader';\nimport AntApp from '../../../common/components/antd/App';\nimport logo from '../../../common/components/antd/__stories__/AppSider.logo.png';\n\nimport _ from 'lodash';\nimport features from '../..';\nimport {menuConfiguration} from '../menu';\nimport AppSider from '../../../common/components/antd/AppSider';\nimport AppMenu from '../../../common/components/antd/AppMenu';\nimport DefaultAppLogo from '../../../common/components/antd/DefaultAppLogo';\n\nconst App = () => (\n  <AntApp\n    sider={\n      <AppSider content={<AppMenu menuConfiguration={menuConfiguration} />} logo={<DefaultAppLogo logo={logo} />} />\n    }\n    header={\n      <DefaultAppHeader>\n        <Switch>\n          {_.compact(features.map(plugin => _.get(plugin, 'routes.header'))).map((routes, index) =>\n            cloneElement(routes, { key: index })\n          )}\n        </Switch>\n      </DefaultAppHeader>\n    }\n    content={\n      <Switch>\n        {_.compact(features.map(plugin => _.get(plugin, 'routes.main'))).map((routes, index) =>\n          cloneElement(routes, { key: index })\n        )}\n      </Switch>\n    }\n  />\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export type Theme = {\n  palette: {\n    primaryColor: string;\n  };\n\n  layout: {\n    main: {\n      margin: number;\n    };\n  };\n};\n\nconst baseTheme: Theme = {\n  palette: {\n    primaryColor: '#e6f7ff'\n  },\n  layout: {\n    main: {\n      margin: 48\n    }\n  }\n};\n\nexport default baseTheme;\n","import React, {FunctionComponent} from 'react';\r\nimport {Store} from 'redux';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {StoreContext} from 'redux-react-hook';\r\nimport {ThemeProvider} from 'styled-components';\r\nimport baseTheme from '../../../common/components/antd/app-theme';\r\n\r\ninterface RootProps {\r\n  store: Store;\r\n}\r\n\r\nconst Root: FunctionComponent<RootProps> = ({ store, children }) => (\r\n  <BrowserRouter basename=\"/imdb-hooks\">\r\n    <ThemeProvider theme={baseTheme}>\r\n      <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\r\n    </ThemeProvider>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default Root;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.min.css';\nimport App from './features/core/components/App';\nimport * as serviceWorker from './serviceWorker';\nimport createStore from './store';\nimport Root from './features/core/components/Root';\n\nconst store = createStore({});\n\nReactDOM.render(\n  <Root store={store}>\n    <App />\n  </Root>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {applyMiddleware, combineReducers, compose, createStore, Middleware, Reducer, StoreEnhancer} from 'redux';\nimport _ from 'lodash';\nimport {IState} from './common/types/state';\nimport {combineEpics, createEpicMiddleware} from 'redux-observable';\nimport features from './features';\nimport {IPlugin} from './common/plugins';\n\nexport const rootReducerFactory = (pluginArray: IPlugin[]): Reducer<IState> => {\n  const pluginReducers = pluginArray\n    .map(p => p.reducers)\n    .reduce(\n      (finalReducers, reducers) => ({ ...finalReducers, ...reducers }),\n      {}\n    ) as { [p: string]: Reducer };\n\n  return combineReducers(pluginReducers);\n};\n\nexport default (preloadedState: IState) => {\n  const epicMiddleware = createEpicMiddleware();\n\n  const middlewares: Middleware[] = [epicMiddleware];\n\n  const enhancers: StoreEnhancer[] = [applyMiddleware(...middlewares)];\n\n  const composeEnhancers =\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const store = createStore(\n    rootReducerFactory(features),\n    preloadedState,\n    composeEnhancers(...enhancers)\n  );\n\n  const epics = _.flatten(_.compact(features.map(p => p.epics)));\n  epicMiddleware.run(combineEpics(...epics));\n\n  return store;\n};\n"],"sourceRoot":""}